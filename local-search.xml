<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Bellman Fordã€SPFA</title>
    <link href="/2021/07/23/Bellman-Ford%E3%80%81SPFA/"/>
    <url>/2021/07/23/Bellman-Ford%E3%80%81SPFA/</url>
    
    <content type="html"><![CDATA[<h3 id="Bellman-Ford"><a href="#Bellman-Ford" class="headerlink" title="Bellman-Ford"></a>Bellman-Ford</h3><blockquote><p>Bellman-Fordæ˜¯ä¸€ç§å¾ˆæš´åŠ›çš„æœ€çŸ­è·¯ç®—æ³• æ—¶é—´å¤æ‚åº¦  <strong><em>O(mn)</em></strong> </p><p>æ“…é•¿è§£å†³æœ‰è¾¹æ•°é™åˆ¶çš„æœ€çŸ­è·¯é—®é¢˜</p></blockquote><p><strong>æ¨¡æ¿é¢˜ï¼š</strong></p><p><a href="https://www.acwing.com/problem/content/description/855/">853. æœ‰è¾¹æ•°é™åˆ¶çš„æœ€çŸ­è·¯ - AcWingé¢˜åº“</a></p><p>ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><span class="hljs-keyword">int</span> dist[N], backup[N];<br><span class="hljs-keyword">int</span> k, n, m;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span> &#123;</span><br>    <span class="hljs-keyword">int</span> a; <span class="hljs-keyword">int</span> b; <span class="hljs-keyword">int</span> w;<br>&#125;edge[N];<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bellman_ford</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dist, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> dist);<br>    dist[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; i++)        <span class="hljs-comment">//è¿™é‡Œè¿­ä»£kæ¬¡ï¼Œæ„å‘³ç€ä»1å·ç‚¹ï¼Œç»è¿‡  ä¸è¶…è¿‡kæ¡è¾¹  ï¼Œçš„æœ€çŸ­è·¯çš„è·ç¦»</span><br>    &#123;<br>        <span class="hljs-built_in">memcpy</span>(backup, dist, <span class="hljs-keyword">sizeof</span> dist);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++)<br>        &#123;<br>            <span class="hljs-keyword">int</span> a = edge[j].a, b = edge[j].b, w = edge[j].w;<br>            dist[b] = <span class="hljs-built_in">min</span>(dist[b], backup[a] + w);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (dist[n] &gt;= <span class="hljs-number">0x3f3f3f3f</span> / <span class="hljs-number">2</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> dist[n];<br>&#125;<br><br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;<br>        edge[i].a = a, edge[i].b = b, edge[i].w = c;<br>    &#125;<br>    <span class="hljs-keyword">int</span> t = <span class="hljs-built_in">bellman_ford</span>();<br>    <span class="hljs-keyword">if</span> (t == <span class="hljs-number">-1</span>)<span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;impossible&quot;</span>);<br>    <span class="hljs-keyword">else</span> cout &lt;&lt; t &lt;&lt; endl;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ç®—æ³•åŸç†ï¼š</strong></p><p>è¿ç»­è¿›è¡Œæ¾å¼›ï¼Œåœ¨æ¯æ¬¡æ¾å¼›æ—¶æŠŠæ¯æ¡è¾¹éƒ½æ›´æ–°ä¸€ä¸‹ï¼Œè‹¥åœ¨ n-1 æ¬¡æ¾å¼›åè¿˜èƒ½æ›´æ–°ï¼Œåˆ™è¯´æ˜å›¾ä¸­æœ‰è´Ÿç¯ï¼Œå› æ­¤æ— æ³•å¾—å‡ºç»“æœï¼Œå¦åˆ™å°±å®Œæˆã€‚</p><p><strong>éœ€è¦æ³¨æ„çš„ç‚¹</strong></p><ol><li>bellman fordç®—æ³•ä¸­ï¼Œè¿­ä»£æ¬¡æ•°<code>k</code>å…·æœ‰å®é™…æ„ä¹‰</li></ol><blockquote><p>æ¯è½®è¿­ä»£ä¸­çš„<code>dist</code>æ•°ç»„è¡¨ç¤ºï¼Œä»èµ·ç‚¹å¼€å§‹ï¼Œç»è¿‡ä¸è¶…è¿‡<code>k</code>æ¡è¾¹ï¼Œåˆ°è¾¾å¯¹åº”ç‚¹çš„æœ€çŸ­è·ç¦»</p></blockquote><ol start="2"><li><p>ä¸ºäº†ä¿è¯ä¸Šè¿°æ€§è´¨ï¼Œéœ€è¦æŠŠ<code>dist</code>æ•°ç»„è¿›è¡Œä¸€ä¸ªå¤‡ä»½ï¼Œè¿™æ ·é˜²æ­¢æ¯æ¬¡æ›´æ–°çš„æ—¶å€™å‡ºç°ä¸²è”</p></li><li><p>bellman ford ä¸€èˆ¬æ— æ³•åœ¨è´Ÿç¯çš„å›¾ä¸­ä½¿ç”¨ï¼Œä½†æ˜¯ä¹Ÿæœ‰ç‰¹æ®Šæƒ…å†µ</p><ul><li>å¦‚æœè´Ÿç¯ä¸åœ¨<code>1</code>-&gt;<code>n</code>çš„è·¯å¾„ä¸Šï¼Œæˆ–è€… é¢˜ç›®å¯¹ç»è¿‡çš„è¾¹æ•°æœ‰é™åˆ¶ è¿˜æ˜¯å¯ä»¥ä½¿ç”¨Bellman-Fordç®—æ³•</li></ul></li><li><p>ç”±äºå­˜åœ¨è´Ÿæƒè¾¹ï¼Œå› æ­¤<code>return -1</code>çš„æ¡ä»¶è¦æ”¹æˆ<code>dist[n]&gt;0x3f3f3f3f/2</code></p></li><li><p>ä¸ºä»€ä¹ˆæ— éœ€å¯¹é‡è¾¹å’Œè‡ªç¯ä½œå•ç‹¬å¤„ç†ï¼Ÿ</p><ul><li>é‡è¾¹ï¼šç”±äºéå†äº†æ‰€æœ‰çš„è¾¹ï¼Œæ€»ä¼šéå†åˆ°è¾ƒçŸ­çš„é‚£ä¸€æ¡</li><li>è‡ªç¯: æœ‰è‡ªç¯å°±æœ‰è‡ªç¯ï¼Œåæ­£åˆä¸ä¼šæ­»å¾ªç¯</li></ul></li><li><p>å¦‚ä½•åˆ©ç”¨bellman fordåˆ¤æ–­è´Ÿç¯ï¼Ÿ</p><ul><li>åœ¨æ²¡æœ‰ç¯çš„å›¾ä¸­ï¼Œ<code>n-1</code>æ¬¡éå†ä¸€å®šå¯ä»¥<strong>ç¡®å®š</strong>æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯å¾„</li><li>å¦‚æœå›¾ä¸­å­˜åœ¨è´Ÿç¯ï¼Œé‚£ä¹ˆåœ¨ç¬¬<code>n</code>æ¬¡éå†çš„æ—¶å€™ï¼Œè¿˜ä¼šç»§ç»­<strong>ç»•åœˆåœˆ</strong>ï¼Œä½¿å€¼æ›´æ–°</li></ul></li><li><p>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨è¿™ä¸ªç®—æ³•ï¼Ÿ</p><p>è§£å†³æœ‰è¾¹æ•°é™åˆ¶çš„æœ€çŸ­è·¯é—®é¢˜ã€‚</p></li></ol><h3 id="SPFA"><a href="#SPFA" class="headerlink" title="SPFA"></a>SPFA</h3>]]></content>
    
    
    <categories>
      
      <category>åŸºç¡€ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœ€çŸ­è·¯</tag>
      
      <tag>Bellman-Ford</tag>
      
      <tag>SPFA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Dijkstra (æœ´ç´ ç‰ˆå’Œå †ä¼˜åŒ–)</title>
    <link href="/2021/07/23/Dijkstra-%E6%9C%B4%E7%B4%A0%E7%89%88%E5%92%8C%E5%A0%86%E4%BC%98%E5%8C%96/"/>
    <url>/2021/07/23/Dijkstra-%E6%9C%B4%E7%B4%A0%E7%89%88%E5%92%8C%E5%A0%86%E4%BC%98%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h3 id="1-æœ€çŸ­è·¯ç®—æ³•æ±‡æ€»"><a href="#1-æœ€çŸ­è·¯ç®—æ³•æ±‡æ€»" class="headerlink" title="1. æœ€çŸ­è·¯ç®—æ³•æ±‡æ€»"></a>1. æœ€çŸ­è·¯ç®—æ³•æ±‡æ€»</h3><h4 id="æ€ç»´å¯¼å›¾"><a href="#æ€ç»´å¯¼å›¾" class="headerlink" title="æ€ç»´å¯¼å›¾"></a>æ€ç»´å¯¼å›¾</h4><p><img src="1.png" alt="image-20210723095421186"></p><h4 id="ç¨ å¯†å›¾å’Œç¨€ç–å›¾çš„åˆ¤æ–­"><a href="#ç¨ å¯†å›¾å’Œç¨€ç–å›¾çš„åˆ¤æ–­" class="headerlink" title="ç¨ å¯†å›¾å’Œç¨€ç–å›¾çš„åˆ¤æ–­"></a>ç¨ å¯†å›¾å’Œç¨€ç–å›¾çš„åˆ¤æ–­</h4><p><em>m ~ n^2</em>  ä¸ºç¨ å¯†å›¾</p><p><em>m ~ n</em>  ä¸ºç¨€ç–å›¾</p><h3 id="2-Dijkstra"><a href="#2-Dijkstra" class="headerlink" title="2 Dijkstra"></a>2 Dijkstra</h3><h4 id="2-1-æœ´ç´ Dijkstra"><a href="#2-1-æœ´ç´ Dijkstra" class="headerlink" title="2.1 æœ´ç´ Dijkstra"></a>2.1 æœ´ç´ Dijkstra</h4><p><a href="https://www.acwing.com/problem/content/851/">849. Dijkstraæ±‚æœ€çŸ­è·¯ I - AcWingé¢˜åº“</a></p><p>é’ˆå¯¹ç¨ å¯†å›¾ï¼Œä½¿ç”¨é‚»æ¥çŸ©é˜µ</p><p>æ—¶é—´å¤æ‚åº¦ O( n2 )</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">510</span>;<br><br><span class="hljs-keyword">int</span> n, m;<span class="hljs-comment">//ç‚¹æ•°å’Œè¾¹æ•°</span><br><span class="hljs-keyword">int</span> g[N][N];<br><br><span class="hljs-keyword">int</span> dist[N];<span class="hljs-comment">//å­˜æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»</span><br><span class="hljs-keyword">bool</span> st[N];<span class="hljs-comment">//æ¯ä¸ªç‚¹çš„æœ€çŸ­è·¯æ˜¯ä¸æ˜¯å·²ç»ç¡®å®šäº†</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">memset</span>(dist, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> dist);<br>dist[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br><span class="hljs-comment">//æ‰¾åˆ°æ²¡æœ‰ç¡®å®šæœ€çŸ­è·¯é•¿çš„ç‚¹ä¹‹ä¸­çš„è·ç¦»æœ€çŸ­çš„é‚£ä¸€ä¸ª</span><br><span class="hljs-keyword">int</span> t = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)<br><span class="hljs-keyword">if</span> (!st[j] &amp;&amp; (t == <span class="hljs-number">-1</span> || dist[t] &gt; dist[j]))<span class="hljs-comment">//åœ¨st=falseçš„ç‚¹ä¸­ï¼Œæ‰¾åˆ°distæœ€å°çš„ç‚¹</span><br>t = j;<br><br><span class="hljs-comment">//if (t == n) break;</span><br><br>st[t] = <span class="hljs-literal">true</span>;<br><br><span class="hljs-comment">//ç”¨æ‰¾åˆ°çš„ç‚¹æ›´æ–°å…¶å®ƒç‚¹çš„æœ€çŸ­è·ç¦»</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)<br>dist[j] = <span class="hljs-built_in">min</span>(dist[j], dist[t]+g[t][j]);<br>&#125;<br><br><span class="hljs-keyword">if</span> (dist[n] == <span class="hljs-number">0x3f3f3f3f</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> dist[n];<br><br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin &gt;&gt; n &gt;&gt; m;<br><span class="hljs-comment">/*ç”±äºå­˜åœ¨é‡è¾¹å’Œè‡ªç¯*/</span><br><span class="hljs-built_in">memset</span>(g, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> g);<br><span class="hljs-keyword">while</span> (m--)<br>&#123;<br><span class="hljs-keyword">int</span> a, b, c;<br>cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;<br>g[a][b] = <span class="hljs-built_in">min</span>(g[a][b], c);<br>&#125;<br><br><span class="hljs-keyword">int</span> t = <span class="hljs-built_in">dijkstra</span>();<br>cout &lt;&lt; t;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è¸©è¿‡çš„å‘ï¼š</strong></p><ol><li><p>Dijkstraä¸­çš„ n æ¬¡å¾ªç¯ï¼Œç”¨äºè®¡æ•°ï¼Œå› ä¸ºæ¯æ¬¡å¾ªç¯å¯ä»¥ç¡®å®šä¸€ä¸ªç‚¹çš„æœ€çŸ­è·¯ï¼Œæ‰€ä»¥éœ€è¦å¾ªç¯næ¬¡</p></li><li><p>è¿›å…¥å¾ªç¯åï¼Œé¦–å…ˆæ‰¾åˆ°  <code>æ²¡æœ‰ç¡®å®šæœ€çŸ­è·ç¦»çš„ç‚¹</code>ä¸­ <code>dist</code>å€¼æœ€å°çš„ç‚¹ï¼Œå³ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++">t = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)<br><span class="hljs-keyword">if</span> (!st[j] &amp;&amp; (t == <span class="hljs-number">-1</span> || dist[j] &lt; dist[t]))<br>t = j;<br></code></pre></td></tr></table></figure><p>å°†è¿™ä¸ªç‚¹ t ç¡®å®šä¸ºè·ç¦»æœ€çŸ­çš„ç‚¹åï¼Œåˆ©ç”¨è¿™ä¸ªç‚¹æ›´æ–°å…¶å®ƒç‚¹çš„è·ç¦»</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++">st[t] = <span class="hljs-literal">true</span>;<br><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)<br>    dist[j]=<span class="hljs-built_in">min</span>(dist[j],dist[t]+g[t][j]);<br></code></pre></td></tr></table></figure></li><li><p>æ³¨æ„Dijkstraçš„åˆå§‹åŒ–æ¡ä»¶</p><ul><li>å°† <code>dist</code> æ•°ç»„åˆå§‹åŒ–ä¸º 0x3f3f3f3f</li><li>ä» 1å· ç‚¹å¼€å§‹æ‹“å±•ï¼Œå°±å°† <code>dist[1] </code>åˆå§‹åŒ–ä¸º 0</li></ul></li><li><p>éå†é‚»æ¥è¡¨æ—¶ï¼Œå¾ªç¯æ¡ä»¶<code>for (int j = 1; j &lt;= n; j++)</code></p><ul><li>å› ä¸ºåœ¨å›¾çš„å­˜å‚¨æ—¶ï¼Œå·²ç»åŒ…å«äº†èŠ‚ç‚¹æ ‡å·ï¼ŒèŠ‚ç‚¹æ ‡å·ä»1å¼€å§‹</li></ul></li></ol><h4 id="2-2-å †ä¼˜åŒ–ç‰ˆDijkstra"><a href="#2-2-å †ä¼˜åŒ–ç‰ˆDijkstra" class="headerlink" title="2.2 å †ä¼˜åŒ–ç‰ˆDijkstra"></a>2.2 å †ä¼˜åŒ–ç‰ˆDijkstra</h4><p><a href="https://www.acwing.com/problem/content/852/">850. Dijkstraæ±‚æœ€çŸ­è·¯ II - AcWingé¢˜åº“</a></p><p>å †å¯ä»¥ä½¿ç”¨ æ‰‹å†™å † mlogn æˆ–è€… ä¼˜å…ˆé˜Ÿåˆ— mlogm</p><p>ä¸€èˆ¬ä¸éœ€è¦æ‰‹å†™å †</p><p>ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">150010</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><br><span class="hljs-keyword">int</span> e[N], ne[N], w[N], h[N], idx;<br><br><span class="hljs-keyword">int</span> dist[N];<br><span class="hljs-keyword">bool</span> st[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> c)</span></span><br><span class="hljs-function"></span>&#123;<br>e[idx] = b;<br>w[idx] = c;<br>ne[idx] = h[a];<br>h[a] = idx++;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">memset</span>(dist, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> dist);<br><br>priority_queue&lt;PII, vector&lt;PII&gt;, greater&lt;PII&gt;&gt; heap;<br><br>heap.<span class="hljs-built_in">push</span>(&#123; <span class="hljs-number">0</span>,<span class="hljs-number">1</span> &#125;);<span class="hljs-comment">//æ³¨æ„ 0ï¼Œ1ä¸èƒ½é¢ å€’ï¼Œå› ä¸ºheapä¸­æ’åºæ—¶ï¼Œä¼šæŒ‰ç…§PIIçš„æ–¹å¼æ¥æ’åº</span><br><br><span class="hljs-keyword">while</span> (heap.<span class="hljs-built_in">size</span>())<span class="hljs-comment">//è¿™é‡Œå’Œæœ´ç´ æ³•ä¸åŒï¼Œå› ä¸ºheapä¸­å¯èƒ½å­˜åœ¨å†—ä½™ï¼Œæ‰€ä»¥è¿™ä¸ªå¾ªç¯æ¬¡æ•° &gt;= n æ¬¡</span><br>&#123;<br>PII k = heap.<span class="hljs-built_in">top</span>();<br><span class="hljs-keyword">int</span> ver = k.second, distance = k.first;<br>heap.<span class="hljs-built_in">pop</span>();<br><br><span class="hljs-keyword">if</span> (st[ver])<span class="hljs-comment">//è¿™ä¸ªåˆ¤æ–­å°±æ˜¯é’ˆå¯¹ç¡®å®šäº†æœ€çŸ­è·¯çš„ç‚¹ï¼Œå¦‚æœç¡®å®šè¿‡äº†ï¼Œç›´æ¥æŠ›å¼ƒ</span><br><span class="hljs-keyword">continue</span>;<br><br>st[ver] = <span class="hljs-literal">true</span>;<br><br><span class="hljs-comment">/*åˆ©ç”¨è¿™ä¸ªç‚¹æ¥æ›´æ–°å…¶å®ƒç‚¹çš„è·ç¦»*/</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[ver]; i != <span class="hljs-number">-1</span>; i = ne[i])<br>&#123;<br><span class="hljs-keyword">int</span> j = e[i]; <span class="hljs-comment">// iåªæ˜¯ä¸ªä¸‹æ ‡ï¼Œeä¸­åœ¨å­˜çš„æ˜¯iè¿™ä¸ªä¸‹æ ‡å¯¹åº”çš„ç‚¹ã€‚</span><br><span class="hljs-keyword">if</span> (dist[j] &gt; distance + w[i])<br>&#123;<br>dist[j] = distance + w[i];<br>heap.<span class="hljs-built_in">push</span>(&#123; dist[j],j &#125;);<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">if</span> (dist[n] == <span class="hljs-number">0x3f3f3f3f</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">return</span> dist[n];<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h);<br>cin &gt;&gt; n &gt;&gt; m;<br><br><span class="hljs-keyword">while</span> (m--)<br>&#123;<br><span class="hljs-keyword">int</span> a, b, c;<br>cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;<br><span class="hljs-built_in">add</span>(a, b, c);<br>&#125;<br><br>cout &lt;&lt; <span class="hljs-built_in">dijkstra</span>();<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„ç‚¹ï¼š</p><ol><li><p>å°æ ¹å †çš„å®šä¹‰æ–¹å¼ï¼š<code>priority_queue&lt;PII, vector&lt;PII&gt;, greater&lt;PII&gt;&gt; heap;</code></p><ul><li>ç¬¬äºŒä¸ªå‚æ•°<code>vector&lt;PII&gt;</code> è¡¨ç¤ºä¼˜å…ˆé˜Ÿåˆ—ä½¿ç”¨<code>vector</code>å®¹å™¨å®ç°</li><li>ç¬¬ä¸‰ä¸ªå‚æ•° <code>greater&lt;PII&gt;</code> è¶Šå°è¶Šä¼˜ç§€ğŸ‘</li></ul></li><li><p>å †ä¼˜åŒ–ç‰ˆDijkstra çš„å¾ªç¯ä¸åŒäºæœ´ç´ ç‰ˆ</p><ul><li><p>åœ¨æœ´ç´ ç‰ˆDijkstraä¸­ï¼Œç”±äºæ¯æ¬¡å¾ªç¯å¯ä»¥ç¡®å®šä¸€ä¸ªæœ€çŸ­è·ç¦»çš„ç‚¹ï¼Œæ‰€ä»¥<code>n</code>æ¬¡å¾ªç¯å°±èƒ½ç¡®å®š<code>n</code>ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»</p></li><li><p>åœ¨å †ä¼˜åŒ–ç‰ˆçš„Dijkstraä¸­ï¼Œç”±äº<code>heap</code> ä¸­å­˜åœ¨å†—ä½™æ‰€ä»¥éœ€è¦ä¸€ç›´å¾ªç¯åˆ° <code>heap</code>ä¸ºç©º</p><ul><li><p>ä¸ºä»€ä¹ˆå­˜åœ¨å†—ä½™?</p><p>å‡è®¾1-&gt;2æœ‰æƒé‡ä¸º2å’Œ3çš„è¾¹ï¼Œåœ¨éå†åˆ°ç‚¹1çš„æ—¶å€™2å·ç‚¹çš„è·ç¦»ä¼šæ›´æ–°ä¸¤æ¬¡æ”¾å…¥å †ä¸­</p></li><li><p>ä¸ºä»€ä¹ˆå¾ªç¯åˆ°ä¸ºç©ºå°±å¯ä»¥é¿å…å†—ä½™çš„å½±å“ï¼Ÿ</p><p>å› ä¸ºæ¯æ¬¡å¼¹å‡ºçš„éƒ½æ˜¯å †ä¸­çš„æœ€å°å…ƒç´ ï¼Œæ‰€ä»¥è¾ƒå°çš„è¾¹ä¼šå…ˆäºè¾ƒå¤§çš„è¾¹å¼¹å‡ºï¼Œå¹¶ä½¿å¯¹åº”çš„<code>st[]=true</code>ï¼Œåœ¨å¼¹å‡ºè¿™æ¡è¾¹çš„è¾ƒå¤§å€¼æ—¶ï¼Œç”±äº<code>st[]</code>å·²ç»ä¸º<code>true</code>ï¼Œæ‰€ä»¥ç›´æ¥<code>continue</code></p></li></ul></li></ul></li></ol>]]></content>
    
    
    <categories>
      
      <category>åŸºç¡€ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Dijkstra</tag>
      
      <tag>æœ€çŸ­è·¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å›¾ã€æ ‘çš„å­˜å‚¨å’Œéå†</title>
    <link href="/2021/07/22/%E5%9B%BE%E3%80%81%E6%A0%91%E7%9A%84%E5%AD%98%E5%82%A8%E5%92%8C%E9%81%8D%E5%8E%86/"/>
    <url>/2021/07/22/%E5%9B%BE%E3%80%81%E6%A0%91%E7%9A%84%E5%AD%98%E5%82%A8%E5%92%8C%E9%81%8D%E5%8E%86/</url>
    
    <content type="html"><![CDATA[<h2 id="DFSå’ŒBFSç®€ä»‹"><a href="#DFSå’ŒBFSç®€ä»‹" class="headerlink" title="DFSå’ŒBFSç®€ä»‹"></a>DFSå’ŒBFSç®€ä»‹</h2><table><thead><tr><th></th><th>æ•°æ®ç»“æ„</th><th>æ€§è´¨</th><th>ç©ºé—´</th></tr></thead><tbody><tr><td>DFS</td><td>stack</td><td>ä¸å…·æœ‰æœ€çŸ­æ€§</td><td>O(h)</td></tr><tr><td>BFS</td><td>queue</td><td>æœ€çŸ­æ€§</td><td>O(2^h)</td></tr></tbody></table><h3 id="é‡è¦æ¦‚å¿µ"><a href="#é‡è¦æ¦‚å¿µ" class="headerlink" title="é‡è¦æ¦‚å¿µ"></a>é‡è¦æ¦‚å¿µ</h3><ol><li><p>å›æº¯</p><ul><li><p>å›æº¯ä¹‹åï¼Œä¸€å®šè¦æ¢å¤ç°åœº</p><p>å¦‚åœ¨<a href="https://www.acwing.com/problem/content/844/">842. æ’åˆ—æ•°å­— - AcWingé¢˜åº“</a>ä¸­</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++">g[x] = i;<br>st[i] = <span class="hljs-literal">true</span>;<br><span class="hljs-built_in">dfs</span>(x + <span class="hljs-number">1</span>);<br>st[i] = <span class="hljs-literal">false</span>;<span class="hljs-comment">//æ¢å¤ç°åœº</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p>å‰ªæ</p></li></ol><h2 id="æ ‘å’Œå›¾çš„å­˜å‚¨"><a href="#æ ‘å’Œå›¾çš„å­˜å‚¨" class="headerlink" title="æ ‘å’Œå›¾çš„å­˜å‚¨"></a>æ ‘å’Œå›¾çš„å­˜å‚¨</h2><p>ç”±äºæ ‘æ˜¯ç‰¹æ®Šçš„å›¾ï¼Œæ‰€ä»¥è¿™é‡Œåªä»‹ç»å›¾çš„å­˜å‚¨</p><h3 id="1-é‚»æ¥çŸ©é˜µ-ï¼ˆç”¨çš„å°‘ï¼‰"><a href="#1-é‚»æ¥çŸ©é˜µ-ï¼ˆç”¨çš„å°‘ï¼‰" class="headerlink" title="1.é‚»æ¥çŸ©é˜µ ï¼ˆç”¨çš„å°‘ï¼‰"></a>1.é‚»æ¥çŸ©é˜µ ï¼ˆç”¨çš„å°‘ï¼‰</h3><p>**ä½¿ç”¨<code>g[a,b]</code>è¡¨ç¤º <code>a-&gt;b</code> çš„ä¸€æ¡è¾¹ **</p><h3 id="2-é‚»æ¥è¡¨"><a href="#2-é‚»æ¥è¡¨" class="headerlink" title="2.é‚»æ¥è¡¨"></a>2.é‚»æ¥è¡¨</h3><p><strong>å¯¹åº”æ¯ä¸ªç‚¹ï¼Œå¼€ä¸€ä¸ªå•é“¾è¡¨,æ¯ä¸ªå•é“¾è¡¨ä¸­å­˜å‚¨èƒ½å¤Ÿè¾¾åˆ°çš„ç‚¹</strong></p><p>å­˜å‚¨çš„æ“ä½œç±»ä¼¼äºhashè¡¨ æ‹‰é“¾æ³•</p><p><img src="1.png" alt="image-20210722130506908"></p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">&#123;<span class="hljs-symbol">%</span> asset_img <span class="hljs-number">1.</span>png This <span class="hljs-built_in">is</span> an <span class="hljs-built_in">example</span> <span class="hljs-built_in">image</span> <span class="hljs-symbol">%</span>&#125;<br></code></pre></td></tr></table></figure><p><strong>å®ç°ä»£ç ï¼š</strong></p><ol><li>å­˜å‚¨ï¼š</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>,M = <span class="hljs-number">2</span> * N;<br><br><span class="hljs-keyword">int</span> h[N];<br><span class="hljs-keyword">int</span> e[M];<br><span class="hljs-keyword">int</span> ne[M];<br><span class="hljs-keyword">int</span> idx;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span><span class="hljs-comment">//è¿ä¸€æ¡èŠ‚ç‚¹a-&gt;bçš„è¾¹</span></span><br><span class="hljs-function"></span>&#123;<br>e[idx] = b;<br>ne[idx] = h[a];<br>h[a] = idx++;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h); <span class="hljs-comment">//åˆå§‹åŒ–</span><br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼š</p><ul><li>èŠ‚ç‚¹ç¼–å·<strong>ä¸€å®šæ˜¯å­˜å‚¨åœ¨<code>e[]</code>ä¸­ï¼Œä¸ä¼šå­˜å‚¨åœ¨<code>h[]</code>ä¸­</strong>ã€‚</li><li>ä½¿ç”¨é‚»æ¥è¡¨ï¼Œä¸€å®šè¦å°†**<code>h[]</code>åˆå§‹åŒ–ä¸º<code>-1</code>**</li><li>å¦‚æœæœ‰<code>N</code>ä¸ªèŠ‚ç‚¹ï¼Œ<code>e[]</code> <code>ne[]</code>ä¸€å®šè¦å¼€<code>2N</code>ä¸ª</li></ul><h2 id="æ ‘å’Œå›¾çš„éå†"><a href="#æ ‘å’Œå›¾çš„éå†" class="headerlink" title="æ ‘å’Œå›¾çš„éå†"></a>æ ‘å’Œå›¾çš„éå†</h2><h3 id="å›¾çš„æ·±åº¦ä¼˜å…ˆéå†"><a href="#å›¾çš„æ·±åº¦ä¼˜å…ˆéå†" class="headerlink" title="å›¾çš„æ·±åº¦ä¼˜å…ˆéå†"></a>å›¾çš„æ·±åº¦ä¼˜å…ˆéå†</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">bool</span> st[N];  <span class="hljs-comment">//ç”¨äºè®°å½•æ˜¯å¦éå†è¿‡</span><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>st[u] == <span class="hljs-literal">true</span>;<span class="hljs-comment">//æ ‡è®°å½“å‰ç‚¹å·²ç»è¢«æœè¿‡äº†</span><br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[u]; i != <span class="hljs-number">-1</span>; i = ne[i])<span class="hljs-comment">//éå†uçš„æ‰€æœ‰å‡ºè¾¹,ç±»ä¼¼äºéå†å•é“¾è¡¨</span><br>&#123;<br><span class="hljs-keyword">int</span> j = e[i];<span class="hljs-comment">//è·å–iå¯¹åº”çš„èŠ‚ç‚¹ç¼–å·</span><br><span class="hljs-keyword">if</span> (!st[j]) <br>            <span class="hljs-built_in">dfs</span>(j);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>:</p><p>éå†å¾ªç¯æ¡ä»¶ <code>i != -1</code>,åŒºåˆ«äºåŒé“¾è¡¨çš„<code>ne[i]! = -1</code></p><h3 id="å›¾çš„å®½åº¦ä¼˜å…ˆéå†"><a href="#å›¾çš„å®½åº¦ä¼˜å…ˆéå†" class="headerlink" title="å›¾çš„å®½åº¦ä¼˜å…ˆéå†"></a>å›¾çš„å®½åº¦ä¼˜å…ˆéå†</h3><blockquote><p>åº”ç”¨ï¼šæ±‚æ‹“æ‰‘åºåˆ—</p><p>æ‹“æ‰‘åºåˆ—ï¼šé’ˆå¯¹æœ‰å‘æ— ç¯å›¾(AOVç½‘)ï¼Œä¸å”¯ä¸€</p><ul><li>å¯¹äºæ¯æ¡è¾¹ï¼Œèµ·ç‚¹éƒ½åœ¨ç»ˆç‚¹å‰é¢</li></ul><p>å¦‚ï¼š<img src="2.png" alt="image-20210722155007108"></p><ul><li>è‹¥æœ‰å‘å›¾ä¸­å­˜åœ¨ç¯ï¼Œ åˆ™ä¸å¯èƒ½æœ‰æ‹“æ‰‘åºåˆ—</li><li>ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼ˆæ‹“æ‰‘å›¾ï¼‰ï¼Œä¸€å®šå­˜åœ¨ä¸€ä¸ªæ‹“æ‰‘åºåˆ—</li></ul></blockquote><blockquote><p>å¼•å…¥æ¦‚å¿µï¼šåº¦</p><p>å…¥åº¦ï¼šæœ‰å¤šå°‘æ¡è¾¹æŒ‡å‘è‡ªå·±ï¼›å‡ºåº¦ï¼šæœ‰å¤šå°‘æ¡è¾¹å‡ºå»</p></blockquote><p>æ±‚æ‹“æ‰‘åºåˆ—çš„æ–¹å¼ï¼š</p><ol><li><p>æ‰€æœ‰å…¥åº¦ä¸º0çš„ç‚¹ï¼Œéƒ½å¯ä»¥ä½œä¸ºèµ·ç‚¹ï¼ˆæ²¡æœ‰ä»»ä½•ä¸€ä¸ªç‚¹åœ¨å‰é¢ï¼‰</p><p>å› æ­¤ï¼Œå…ˆæŠŠæ‰€æœ‰<strong>å…¥åº¦ä¸º0çš„ç‚¹å…¥é˜Ÿ</strong></p></li><li><p>å¾ªç¯ï¼š</p><ul><li><p>é€‰æ‹©ä¸€ä¸ªå…¥åº¦ä¸º 0 çš„é¡¶ç‚¹ï¼Œå¹¶å°†å®ƒè¾“å‡º</p></li><li><p>åˆ é™¤å›¾ä¸­ä»é¡¶ç‚¹è¿å‡ºçš„æ‰€æœ‰è¾¹</p></li></ul></li><li><p>è‹¥è¾“å‡ºçš„é¡¶ç‚¹æ•°å°äºå›¾ä¸­çš„é¡¶ç‚¹æ•°ï¼Œåˆ™è¡¨ç¤ºè¯¥å›¾å­˜åœ¨å›è·¯ï¼Œå³æ— æ³•æ‹“æ‰‘æ’åºï¼Œ</p><p>å¦åˆ™ï¼Œè¾“å‡ºçš„å°±æ˜¯æ‹“æ‰‘åºåˆ— ï¼ˆä¸å”¯ä¸€ï¼‰</p></li></ol><p>ä¸‹é¢è¿™ç¯‡åšå®¢å†™å‡ºäº†è¯¦ç»†çš„æ±‚è§£è¿‡ç¨‹</p><p><a href="https://blog.csdn.net/qq_22238021/article/details/79496267">æ‹“æ‰‘æ’åº_Unique-Youçš„åšå®¢-CSDNåšå®¢_æ‹“æ‰‘åºåˆ—</a></p><p>å…·ä½“ä»£ç è§åé¢ä¾‹é¢˜</p><h2 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h2><h3 id="å›¾çš„æ·±æœ"><a href="#å›¾çš„æ·±æœ" class="headerlink" title="å›¾çš„æ·±æœ"></a>å›¾çš„æ·±æœ</h3><p><a href="https://www.acwing.com/problem/content/description/848/">846. æ ‘çš„é‡å¿ƒ - AcWingé¢˜åº“</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span><span class="hljs-comment">//ä½¿ç”¨memsetéœ€è¦å¼•å…¥</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>; <span class="hljs-comment">//æ•°æ®èŒƒå›´æ˜¯10çš„5æ¬¡æ–¹</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M = <span class="hljs-number">2</span> * N; <br><br><span class="hljs-keyword">int</span> h[N]; <br><span class="hljs-keyword">int</span> e[M]; <br><span class="hljs-keyword">int</span> ne[M]; <br><span class="hljs-keyword">int</span> idx; <br><span class="hljs-keyword">int</span> n; <br><span class="hljs-keyword">int</span> ans = N;<br><br><span class="hljs-keyword">bool</span> st[N]; <span class="hljs-comment">//è®°å½•èŠ‚ç‚¹æ˜¯å¦è¢«è®¿é—®è¿‡ï¼Œè®¿é—®è¿‡åˆ™æ ‡è®°ä¸ºtrue</span><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>&#123;<br>    e[idx] = b, ne[idx] = h[a], h[a] = idx++;<br>&#125;<br><br><br><span class="hljs-comment">//è¿”å›ä»¥uä¸ºæ ¹çš„å­æ ‘ä¸­èŠ‚ç‚¹çš„ä¸ªæ•°ï¼ŒåŒ…æ‹¬uèŠ‚ç‚¹</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>; <span class="hljs-comment">//å­˜å‚¨ åˆ æ‰æŸä¸ªèŠ‚ç‚¹ä¹‹åï¼Œæœ€å¤§çš„è¿é€šå­å›¾èŠ‚ç‚¹æ•°</span><br>    st[u] = <span class="hljs-literal">true</span>; <span class="hljs-comment">//æ ‡è®°è®¿é—®è¿‡uèŠ‚ç‚¹</span><br>    <span class="hljs-keyword">int</span> sum = <span class="hljs-number">1</span>; <span class="hljs-comment">//å­˜å‚¨ ä»¥uä¸ºæ ¹çš„æ ‘ çš„èŠ‚ç‚¹æ•°, åŒ…æ‹¬uï¼Œå¦‚å›¾ä¸­çš„4å·èŠ‚ç‚¹</span><br><br>    <span class="hljs-comment">//è®¿é—®uçš„æ¯ä¸ªå­èŠ‚ç‚¹</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[u]; i != <span class="hljs-number">-1</span>; i = ne[i]) &#123;<br>        <span class="hljs-keyword">int</span> j = e[i];<br>        <span class="hljs-comment">//å› ä¸ºæ¯ä¸ªèŠ‚ç‚¹çš„ç¼–å·éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥ ç”¨ç¼–å·ä¸ºä¸‹æ ‡ æ¥æ ‡è®°æ˜¯å¦è¢«è®¿é—®è¿‡</span><br>        <span class="hljs-keyword">if</span> (!st[j]) &#123;<br>            <span class="hljs-keyword">int</span> s = <span class="hljs-built_in">dfs</span>(j);  <span class="hljs-comment">// uèŠ‚ç‚¹çš„å•æ£µå­æ ‘èŠ‚ç‚¹æ•° å¦‚å›¾ä¸­çš„sizeå€¼</span><br>            res = <span class="hljs-built_in">max</span>(res, s); <span class="hljs-comment">// è®°å½•æœ€å¤§è”é€šå­å›¾çš„èŠ‚ç‚¹æ•°</span><br>            sum += s; <span class="hljs-comment">//ä»¥jä¸ºæ ¹çš„æ ‘ çš„èŠ‚ç‚¹æ•°</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">//n-sum å¦‚å›¾ä¸­çš„n-sizeå€¼ï¼Œä¸åŒ…æ‹¬æ ¹èŠ‚ç‚¹4ï¼›</span><br>    res = <span class="hljs-built_in">max</span>(res, n - sum); <span class="hljs-comment">// é€‰æ‹©uèŠ‚ç‚¹ä¸ºé‡å¿ƒï¼Œæœ€å¤§çš„ è¿é€šå­å›¾èŠ‚ç‚¹æ•°</span><br>    ans = <span class="hljs-built_in">min</span>(res, ans); <span class="hljs-comment">//éå†è¿‡çš„å‡è®¾é‡å¿ƒä¸­ï¼Œæœ€å°çš„æœ€å¤§è”é€šå­å›¾çš„ èŠ‚ç‚¹æ•°</span><br>    <span class="hljs-keyword">return</span> sum;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h); <span class="hljs-comment">//åˆå§‹åŒ–hæ•°ç»„ -1è¡¨ç¤ºå°¾èŠ‚ç‚¹</span><br>    cin &gt;&gt; n; <span class="hljs-comment">//è¡¨ç¤ºæ ‘çš„ç»“ç‚¹æ•°</span><br><br>    <span class="hljs-comment">// é¢˜ç›®æ¥ä¸‹æ¥ä¼šè¾“å…¥ï¼Œn-1è¡Œæ•°æ®ï¼Œ</span><br>    <span class="hljs-comment">// æ ‘ä¸­æ˜¯ä¸å­˜åœ¨ç¯çš„ï¼Œå¯¹äºæœ‰nä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œå¿…å®šæ˜¯n-1æ¡è¾¹</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; i++) &#123;<br>        <span class="hljs-keyword">int</span> a, b;<br>        cin &gt;&gt; a &gt;&gt; b;<br>        <span class="hljs-built_in">add</span>(a, b), <span class="hljs-built_in">add</span>(b, a); <span class="hljs-comment">//æ— å‘å›¾</span><br>    &#125;<br><br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">//å¯ä»¥ä»»æ„é€‰å®šä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹ u&lt;=n</span><br><br>    cout &lt;&lt; ans &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å›¾çš„å®½æœ"><a href="#å›¾çš„å®½æœ" class="headerlink" title="å›¾çš„å®½æœ"></a>å›¾çš„å®½æœ</h3><p><a href="https://www.acwing.com/problem/content/849/">847. å›¾ä¸­ç‚¹çš„å±‚æ¬¡ - AcWingé¢˜åº“</a></p><p>ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N=<span class="hljs-number">100010</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M = <span class="hljs-number">2</span> * N; <br><span class="hljs-keyword">int</span> h[N], e[N], idx, ne[N];<br><span class="hljs-keyword">int</span> d[N]; <span class="hljs-comment">//å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹ç¦»èµ·ç‚¹çš„è·ç¦»  d[1]=0</span><br><span class="hljs-keyword">int</span> q[N]; <span class="hljs-comment">//å­˜å‚¨å±‚æ¬¡éå†åºåˆ— 0å·èŠ‚ç‚¹æ˜¯ç¼–å·ä¸º1çš„èŠ‚ç‚¹</span><br><br><span class="hljs-keyword">int</span> n, m; <br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx]=b,ne[idx]=h[a],h[a]=idx++;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> hh=<span class="hljs-number">0</span>,tt=<span class="hljs-number">0</span>;<br><br>    q[<span class="hljs-number">0</span>]=<span class="hljs-number">1</span>; <span class="hljs-comment">//0å·èŠ‚ç‚¹æ˜¯ç¼–å·ä¸º1çš„èŠ‚ç‚¹</span><br><br>    <span class="hljs-built_in">memset</span>(d,<span class="hljs-number">-1</span>,<span class="hljs-keyword">sizeof</span> d);<br><br>    d[<span class="hljs-number">1</span>]=<span class="hljs-number">0</span>; <span class="hljs-comment">//å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹ç¦»èµ·ç‚¹çš„è·ç¦»</span><br><br>    <span class="hljs-comment">//é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶</span><br>    <span class="hljs-keyword">while</span>(hh&lt;=tt)<br>    &#123;<br>        <span class="hljs-comment">//å–å‡ºé˜Ÿåˆ—å¤´éƒ¨èŠ‚ç‚¹</span><br>        <span class="hljs-keyword">int</span> t=q[hh++];<br><br>        <span class="hljs-comment">//éå†tèŠ‚ç‚¹çš„æ¯ä¸€ä¸ªé‚»è¾¹</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=h[t];i!=<span class="hljs-number">-1</span>;i=ne[i])<br>        &#123;<br>            <span class="hljs-keyword">int</span> j=e[i];<br>            <span class="hljs-comment">//å¦‚æœjæ²¡æœ‰è¢«æ‰©å±•è¿‡</span><br>            <span class="hljs-keyword">if</span>(d[j]==<span class="hljs-number">-1</span>)<br>            &#123;<br>                d[j]=d[t]+<span class="hljs-number">1</span>; <span class="hljs-comment">//d[j]å­˜å‚¨jèŠ‚ç‚¹ç¦»èµ·ç‚¹çš„è·ç¦»ï¼Œå¹¶æ ‡è®°ä¸ºè®¿é—®è¿‡</span><br>                q[++tt] = j; <span class="hljs-comment">//æŠŠjç»“ç‚¹ å‹å…¥é˜Ÿåˆ—</span><br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> d[n];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin&gt;&gt;n&gt;&gt;m;<br>    <span class="hljs-built_in">memset</span>(h,<span class="hljs-number">-1</span>,<span class="hljs-keyword">sizeof</span> h);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;m;i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> a,b;<br>        cin&gt;&gt;a&gt;&gt;b;<br>        <span class="hljs-built_in">add</span>(a,b);<br>    &#125;<br><br>    cout&lt;&lt;<span class="hljs-built_in">bfs</span>()&lt;&lt;endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å®¹æ˜“è¸©å‘ï¼š</strong></p><p>ä½¿ç”¨æ‰‹å†™çš„é˜Ÿåˆ—æ—¶ï¼Œä¸€å®šæ³¨æ„<code>++</code>æ“ä½œçš„é¡ºåº</p><ul><li>åœ¨å…¥é˜Ÿæ—¶ï¼Œ<code>h[++tt]=x</code></li><li>åœ¨å‡ºé˜Ÿæ—¶ï¼Œ<code>h[hh++]=x</code></li></ul><h3 id="æœ‰å‘å›¾çš„æ‹“æ‰‘æ’åº"><a href="#æœ‰å‘å›¾çš„æ‹“æ‰‘æ’åº" class="headerlink" title="æœ‰å‘å›¾çš„æ‹“æ‰‘æ’åº"></a>æœ‰å‘å›¾çš„æ‹“æ‰‘æ’åº</h3><p><a href="https://www.acwing.com/problem/content/850/">848. æœ‰å‘å›¾çš„æ‹“æ‰‘åºåˆ— - AcWingé¢˜åº“</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N=<span class="hljs-number">100010</span>;<br><span class="hljs-keyword">int</span> h[N],e[N],ne[N],idx;<br><span class="hljs-keyword">int</span> n,m;<br><span class="hljs-keyword">int</span> q[N],d[N];<span class="hljs-comment">//qè¡¨ç¤ºé˜Ÿåˆ—,dè¡¨ç¤ºç‚¹çš„å…¥åº¦</span><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a,<span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[idx]=b;<br>    ne[idx]=h[a];<br>    h[a]=idx++;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">topsort</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> hh=<span class="hljs-number">0</span>,tt=<span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)<br>     <span class="hljs-keyword">if</span>(!d[i]) <br>     q[++tt]=i;<span class="hljs-comment">//å°†å…¥åº¦ä¸ºé›¶çš„ç‚¹å…¥é˜Ÿ</span><br>    <span class="hljs-keyword">while</span>(hh&lt;=tt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> t=q[hh++];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=h[t];i!=<span class="hljs-number">-1</span>;i=ne[i])<br>        &#123;<br>            <span class="hljs-keyword">int</span> j=e[i];<br>            d[j]--;<span class="hljs-comment">//åˆ é™¤ç‚¹tæŒ‡å‘ç‚¹jçš„è¾¹</span><br>            <span class="hljs-keyword">if</span>(d[j]==<span class="hljs-number">0</span>)<span class="hljs-comment">//å¦‚æœç‚¹jçš„å…¥åº¦ä¸ºé›¶äº†,å°±å°†ç‚¹jå…¥é˜Ÿ</span><br>            q[++tt]=j;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> tt==n<span class="hljs-number">-1</span>;<br>    <span class="hljs-comment">//è¡¨ç¤ºå¦‚æœnä¸ªç‚¹éƒ½å…¥é˜Ÿäº†è¯,é‚£ä¹ˆè¯¥å›¾ä¸ºæ‹“æ‰‘å›¾,è¿”å›true,å¦åˆ™è¿”å›false</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin&gt;&gt;n&gt;&gt;m;<br>    <span class="hljs-built_in">memset</span>(h,<span class="hljs-number">-1</span>,<span class="hljs-built_in"><span class="hljs-keyword">sizeof</span></span>(h));<span class="hljs-comment">//å¦‚æœç¨‹åºæ—¶é—´æº¢å‡ºï¼Œå°±æ˜¯æ²¡æœ‰åŠ ä¸Šè¿™ä¸€å¥</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;m;i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> a,b;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;a,&amp;b);<br>        <span class="hljs-built_in">add</span>(a,b);<span class="hljs-comment">//å› ä¸ºæ˜¯aæŒ‡å‘b,æ‰€ä»¥bç‚¹çš„å…¥åº¦è¦åŠ 1</span><br>        d[b]++;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">topsort</span>()) <br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>,q[i]);<br>        <span class="hljs-comment">//ç»ä¸Šæ–¹å¾ªç¯å¯ä»¥å‘ç°é˜Ÿåˆ—ä¸­çš„ç‚¹çš„æ¬¡åºå°±æ˜¯æ‹“æ‰‘åºåˆ—</span><br>        <span class="hljs-comment">//æ³¨:æ‹“æ‰‘åºåˆ—çš„ç­”æ¡ˆå¹¶ä¸å”¯ä¸€,å¯ä»¥ä»è§£æä¸­æ‰¾åˆ°è§£é‡Š</span><br>        <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;-1&quot;</span>);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong></p><ol><li><p>è¿™é‡Œçš„é˜Ÿåˆ—å’Œâ€œå›¾ä¸­ç‚¹çš„å±‚æ¬¡â€ ä¸­çš„é˜Ÿåˆ—çœ‹ä¼¼å†™æ³•ä¸åŒï¼Œå®è´¨ç›¸åŒ</p><ul><li>æœ¬é¢˜ä¸­ <code>tt</code>ä»<code>-1</code>å¼€å§‹ æ¯æ¬¡å…¥é˜Ÿå‰è‡ªå¢ï¼Œè¿™æ˜¯é˜Ÿåˆ—çš„æ ‡å‡†å†™æ³•</li><li>â€œå›¾ä¸­ç‚¹çš„å±‚æ¬¡â€ï¼Œç”±äºå¼€å§‹å¤„ç†æ—¶ï¼Œé˜Ÿåˆ—ä¸­å·²ç»æœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥<code>tt</code>çš„åˆå€¼ä¸º<code>0</code></li></ul></li></ol>]]></content>
    
    
    <categories>
      
      <category>åŸºç¡€ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DFS</tag>
      
      <tag>BFS</tag>
      
      <tag>æ‹“æ‰‘æ’åº</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PAT_ADV åˆ·é¢˜ç¬”è®° 0x0002</title>
    <link href="/2021/07/21/PAT-ADV-%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0-0x0002/"/>
    <url>/2021/07/21/PAT-ADV-%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0-0x0002/</url>
    
    <content type="html"><![CDATA[<h3 id="1629-å»¶è¿Ÿçš„å›æ–‡æ•°"><a href="#1629-å»¶è¿Ÿçš„å›æ–‡æ•°" class="headerlink" title="1629 å»¶è¿Ÿçš„å›æ–‡æ•°"></a>1629 å»¶è¿Ÿçš„å›æ–‡æ•°</h3><h3 id="1579-æ’å…¥è¿˜æ˜¯å½’å¹¶"><a href="#1579-æ’å…¥è¿˜æ˜¯å½’å¹¶" class="headerlink" title="1579 æ’å…¥è¿˜æ˜¯å½’å¹¶"></a>1579 æ’å…¥è¿˜æ˜¯å½’å¹¶</h3><h3 id="1484-æœ€ä½³æ’å"><a href="#1484-æœ€ä½³æ’å" class="headerlink" title="1484 æœ€ä½³æ’å"></a>1484 æœ€ä½³æ’å</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">ä½¿ç”¨vectorå­˜å„ç§‘æˆç»©</span><br><span class="hljs-comment">*/</span><br>unordered_map&lt;string, vector&lt;<span class="hljs-keyword">int</span>&gt;&gt; grades;<br>vector&lt;<span class="hljs-keyword">int</span>&gt; q[<span class="hljs-number">4</span>]; <span class="hljs-comment">//A:q[0] C:q[1] M:q[2] E:q[3] ç”¨äºå¾—åˆ°æ’å</span><br><br><br><span class="hljs-comment">//äºŒåˆ†æŸ¥æ‰¾åˆ†æ•°xåœ¨æ•°ç»„aä¸­çš„ä¸‹æ ‡</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">get_rank</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt;&amp; a, <span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = a.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;<br><span class="hljs-keyword">while</span> (l &lt; r)<br>&#123;<br><span class="hljs-keyword">int</span> mid = l + r + <span class="hljs-number">1</span> &gt;&gt; <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span> (a[mid] &lt;= x) l = mid;<br><span class="hljs-keyword">else</span> r = mid - <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-keyword">return</span> a.<span class="hljs-built_in">size</span>() - r;<br><br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n, m;<br>cin &gt;&gt; n &gt;&gt; m;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br>string id;<br><span class="hljs-keyword">int</span> t[<span class="hljs-number">4</span>] = &#123; <span class="hljs-number">0</span> &#125;;<br>cin &gt;&gt; id;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; <span class="hljs-number">4</span>; j++)<br>&#123;<br>cin &gt;&gt; t[j];<br>t[<span class="hljs-number">0</span>] += t[j];<br>&#125;<br>t[<span class="hljs-number">0</span>] = <span class="hljs-built_in">round</span>(t[<span class="hljs-number">0</span>] / <span class="hljs-number">3.0</span>);<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">4</span>; j++)<br>&#123;<br>q[j].<span class="hljs-built_in">push_back</span>(t[j]);<br>grades[id].<span class="hljs-built_in">push_back</span>(t[j]);<br>&#125;<br><br>&#125;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)<br><span class="hljs-built_in">sort</span>(q[i].<span class="hljs-built_in">begin</span>(), q[i].<span class="hljs-built_in">end</span>());<br><br><br><span class="hljs-comment">//å¤„ç†æŸ¥è¯¢</span><br><span class="hljs-keyword">char</span> names[] = <span class="hljs-string">&quot;ACME&quot;</span>;<br><span class="hljs-keyword">while</span> (m--)<br>&#123;<br>string id;<br>cin &gt;&gt; id;<br><span class="hljs-keyword">if</span> (grades.<span class="hljs-built_in">count</span>(id) == <span class="hljs-number">0</span>) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;N/A&quot;</span>);<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-keyword">int</span> res = n + <span class="hljs-number">1</span>;<br><span class="hljs-keyword">char</span> c;<br><span class="hljs-comment">//æ ¹æ®idæŸ¥æ‰¾æœ€å¥½çš„åæ¬¡</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)<br>&#123;<br><span class="hljs-keyword">int</span> rank = <span class="hljs-built_in">get_rank</span>(q[i], grades[id][i]);<br><span class="hljs-keyword">if</span> (rank &lt; res)<br>&#123;<br>res = rank;<br>c = names[i];<br>&#125;<br>&#125;<br>cout &lt;&lt; res &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; c &lt;&lt; endl;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ä¸»è¦æ³¨æ„çš„ç‚¹ï¼š</strong></p><ol><li>è¿™é¢˜ä½¿ç”¨<code>unordered_map&lt;string,vector&lt;int&gt;&gt;</code> å®ç°idåˆ°æˆç»©çš„æ˜ å°„</li><li>åœ¨ç»™å®šåˆ†æ•°çš„æƒ…å†µä¸‹ï¼Œæ±‚æ’åçš„æ–¹æ³•<ul><li><ol><li>äºŒåˆ†æ³•</li></ol></li><li><ol start="2"><li>æ¨¡æ‹Ÿæ³•</li></ol></li></ul></li><li>å¾ˆä¹…æ²¡æœ‰åšäºŒåˆ†çš„é¢˜ç›®äº†ï¼Œè¿™é‡Œå†æ¬¡å¤ä¹ ä¸€ä¸‹äºŒåˆ†ä¸­éœ€è¦æ³¨æ„çš„ç‚¹ï¼š<ul><li>å¦‚æœå¸Œæœ›å¾—åˆ°çš„ä¸‹æ ‡æ˜¯å·¦åŒºé—´çš„å³ç«¯ç‚¹ï¼Œä½¿ç”¨<code>mid=(l+r+1)</code>ï¼ŒåŒºé—´åˆ’åˆ†ä¸º<code>[l,mid] </code>å’Œ<code>[mid+1,r]</code><br> å¦‚æœå¸Œæœ›å¾—åˆ°çš„æ˜¯å³åŒºé—´çš„å·¦ç«¯ç‚¹ï¼Œä½¿ç”¨<code>mid=(l+r)/2</code>,åŒºé—´åˆ’åˆ†ä¸º<code>[l,mid-1]</code>å’Œ<code>[mid,r]</code></li></ul></li></ol><h3 id="1499-æ•°å­—å›¾ä¹¦é¦†"><a href="#1499-æ•°å­—å›¾ä¹¦é¦†" class="headerlink" title="1499 æ•°å­—å›¾ä¹¦é¦†"></a>1499 æ•°å­—å›¾ä¹¦é¦†</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;sstream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><br><span class="hljs-comment">/*æ¯”è¾ƒå¤æ‚çš„ä¿¡æ¯å­˜åœ¨ç»“æ„ä½“é‡Œæ¯”è¾ƒæ–¹ä¾¿*/</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Book</span> &#123;</span><br>string id, name, author;<br>set&lt;string&gt; keywords;<br>string publisher, year;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n, m;<br>cin &gt;&gt; n;<br>vector&lt;Book&gt; books;<br><span class="hljs-keyword">while</span> (n--)<br>&#123;<br>string id, name, author;<br>cin &gt;&gt; id;<br><span class="hljs-built_in">getchar</span>(); <span class="hljs-comment">//å½“æƒ³ç”¨getlineçš„æ—¶å€™ï¼Œéœ€è¦æŠŠä¸Šä¸€è¡Œçš„å›è½¦è¯»å–æ‰,å¦åˆ™è¯»å–çš„æ˜¯ä¸€ä¸ªå›è½¦</span><br><span class="hljs-built_in">getline</span>(cin, name);<br><span class="hljs-built_in">getline</span>(cin, author);<br>string line;<br><span class="hljs-built_in">getline</span>(cin, line);<br><span class="hljs-function">stringstream <span class="hljs-title">ssin</span><span class="hljs-params">(line)</span></span>;<br>string keyword;<br>set&lt;string&gt; keywords;<br><span class="hljs-keyword">while</span> (ssin &gt;&gt; keyword)<br>keywords.<span class="hljs-built_in">insert</span>(keyword);<br>string publisher, year;<br><span class="hljs-built_in">getline</span>(cin, publisher);<br>cin &gt;&gt; year;<br><br>books.<span class="hljs-built_in">push_back</span>(&#123; id, name, author, keywords, publisher, year &#125;);<br><br>&#125;<br>cin &gt;&gt; m;<br><span class="hljs-built_in">getchar</span>();<br>string line;<br><span class="hljs-keyword">while</span> (m--)<br>&#123;<br><span class="hljs-built_in">getline</span>(cin, line);<br>cout &lt;&lt; line &lt;&lt; endl;<br>string info = line.<span class="hljs-built_in">substr</span>(<span class="hljs-number">3</span>);<br><span class="hljs-keyword">char</span> t = line[<span class="hljs-number">0</span>];<br>vector&lt;string&gt; res;<br><span class="hljs-keyword">if</span> (t == <span class="hljs-string">&#x27;1&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; book : books)<br><span class="hljs-keyword">if</span> (book.name == info)<br>res.<span class="hljs-built_in">push_back</span>(book.id);<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (t == <span class="hljs-string">&#x27;2&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; book : books)<br><span class="hljs-keyword">if</span> (book.author == info)<br>res.<span class="hljs-built_in">push_back</span>(book.id);<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (t == <span class="hljs-string">&#x27;3&#x27;</span>)<br>&#123;<br><span class="hljs-comment">/*æŸ¥è¯¢å…³é”®å­—*/</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; book : books)<br>&#123;<br><span class="hljs-keyword">if</span> (book.keywords.<span class="hljs-built_in">count</span>(info))<br>res.<span class="hljs-built_in">push_back</span>(book.id);<br>&#125;<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (t == <span class="hljs-string">&#x27;4&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; book : books)<br><span class="hljs-keyword">if</span>(book.publisher==info)<br>res.<span class="hljs-built_in">push_back</span>(book.id);<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; book : books)<br><span class="hljs-keyword">if</span>(book.year==info)<br>res.<span class="hljs-built_in">push_back</span>(book.id);<br>&#125;<br><br><span class="hljs-keyword">if</span> (res.<span class="hljs-built_in">empty</span>()) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Not Found&quot;</span>);<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-built_in">sort</span>(res.<span class="hljs-built_in">begin</span>(), res.<span class="hljs-built_in">end</span>());<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> id : res) cout &lt;&lt; id &lt;&lt; endl;<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>éš¾ç‚¹</strong></p><ol><li>æ•°æ®çš„è¾“å…¥<ul><li>ä½¿ç”¨åœ¨è¯»å–åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²æ—¶ï¼Œéœ€è¦ä½¿ç”¨<code>getline(cin,string)</code> <ul><li>ä½¿ç”¨getline()æ—¶ï¼Œéœ€è¦æ³¨æ„ä¸Šä¸€æ ¼çš„å›è½¦æ˜¯å¦å·²ç»è¢«è¯»å…¥å¦‚æœæ²¡æœ‰ï¼Œå°±éœ€è¦ä½¿ç”¨getchar()è¯»å–ä¸Šä¸€è¡Œçš„å›è½¦</li></ul></li></ul></li><li>æ•°æ®çš„å­˜å‚¨<ul><li>ä½¿ç”¨ç»“æ„ä½“å­˜å‚¨æ•°æ®</li><li>ä½¿ç”¨setå­˜å‚¨å…³é”®å­—ï¼ˆæ¯”è¾ƒæ˜“äºæŸ¥æ‰¾è¿™ä¸ªå…³é”®å­—ï¼‰</li></ul></li></ol><h3 id="1505-åˆ—è¡¨æ’åº"><a href="#1505-åˆ—è¡¨æ’åº" class="headerlink" title="1505 åˆ—è¡¨æ’åº"></a>1505 åˆ—è¡¨æ’åº</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Row</span>&#123;</span><br>    string id,name;<br>    <span class="hljs-keyword">int</span> grade;<br>    <span class="hljs-comment">//ç”±äºé‡è½½åªèƒ½é‡è½½ä¸€æ¬¡ï¼Œåœ¨è¿™ç§3ä¸ªæ’åºçš„æƒ…å†µä¸‹ä¸æ˜¯å¾ˆæ–¹ä¾¿</span><br>&#125;rows[N];<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp1</span><span class="hljs-params">(Row a,Row b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> a.id&lt;b.id;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp2</span><span class="hljs-params">(Row a,Row b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(a.name!=b.name) <span class="hljs-keyword">return</span> a.name&lt;b.name;<br>    <span class="hljs-keyword">return</span> a.id&lt;b.id;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp3</span><span class="hljs-params">(Row a,Row b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(a.grade!=b.grade) <span class="hljs-keyword">return</span> a.grade&lt;b.grade;<br>    <span class="hljs-keyword">return</span> a.id&lt;b.id;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> c;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n,&amp;c);<br>    <br>    <span class="hljs-keyword">char</span> id[<span class="hljs-number">10</span>],name[<span class="hljs-number">10</span>];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)<br>    &#123;    <br>        <span class="hljs-keyword">int</span> grade;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s%s%d&quot;</span>,id,name,&amp;grade);<br>        rows[i]=&#123;id,name,grade&#125;;<br>    &#125;      <br>    <span class="hljs-keyword">if</span>(c==<span class="hljs-number">1</span>) <span class="hljs-built_in">sort</span>(rows,rows+n,cmp1);<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(c==<span class="hljs-number">2</span>) <span class="hljs-built_in">sort</span>(rows,rows+n,cmp2);<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(c==<span class="hljs-number">3</span>) <span class="hljs-built_in">sort</span>(rows,rows+n,cmp3);<br>    <br>    <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s %s %d\n&quot;</span>,rows[i].id.<span class="hljs-built_in">c_str</span>(),rows[i].name.<span class="hljs-built_in">c_str</span>(),rows[i].grade);<br>        <br>        <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªé¢˜ç›®åœ¨ç®—æ³•ä¸Šæ²¡æœ‰éš¾åº¦ï¼Œä½†æ˜¯æ¶‰åŠåˆ°äº†<code>cin</code> ã€<code>cout</code>å’Œ<code>scanf</code> ã€<code>printf</code>ä¹‹é—´çš„æ•ˆç‡é—®é¢˜</p><p>ä½¿ç”¨<code>cin</code>ä»¥åŠ<code>cout</code>å¤„ç†è¾“å…¥è¾“å‡ºï¼Œåœ¨è¾“å…¥æ•°æ®é‡å¤§äº100000çš„æƒ…å†µä¸‹å®¹æ˜“è¶…æ—¶</p><p>å¯ä»¥è€ƒè™‘æ›´æ¢ä¸º<code>scanf</code>å’Œ<code>printf</code>æ¥å¤„ç†è¾“å…¥è¾“å‡º</p><p><strong>å€¼å¾—æ³¨æ„çš„ç‚¹</strong></p><ol><li><p>å¦‚æœæ›´æ¢ä¸º<code>scanf</code>å’Œ<code>printf</code>å¤„ç†è¾“å…¥è¾“å‡ºï¼Œå°±ä¸€å®šè¦æ›´æ¢å…¨éƒ¨çš„<code>scanf</code>å’Œ<code>printf</code>ï¼Œä¸ç„¶æé€Ÿä¸æ˜æ˜¾</p><ul><li>åŸå› ï¼š<code>cin</code> ã€<code>cout</code>å¦‚æœéœ€è¦ä¸<code>scanf</code>å’Œ<code>printf</code>åŒæ­¥ä¼šæ˜¾è‘—é™ä½æ•ˆç‡</li></ul></li><li><p><code>scanf</code>è¯»å…¥<code>string</code>çš„æ–¹æ³•ï¼šå¼•å…¥ä¸­é—´æ•°ç»„ï¼Œç„¶åç»™å­—ç¬¦ä¸²èµ‹å€¼(ä¸èƒ½ç›´æ¥ä½¿ç”¨<code>.c_str()</code>æ–¹æ³•è¯»å–å€¼!!!)</p></li><li><p><code>printf</code>è¾“å‡º<code>string</code>çš„æ–¹æ³•ï¼šä½¿ç”¨<code>.c_str()</code>æ–¹æ³•</p></li></ol><h3 id="1523-å­¦ç”Ÿè¯¾ç¨‹è¡¨"><a href="#1523-å­¦ç”Ÿè¯¾ç¨‹è¡¨" class="headerlink" title="1523 å­¦ç”Ÿè¯¾ç¨‹è¡¨"></a>1523 å­¦ç”Ÿè¯¾ç¨‹è¡¨</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br>unordered_map&lt;string, vector&lt;<span class="hljs-keyword">int</span>&gt;&gt; students;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n, k;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;k);<br><br><span class="hljs-comment">/*unordered_mapå®ç°å¯¹å­¦ç”Ÿé€‰è¯¾ä¿¡æ¯çš„æ˜ å°„*/</span><br><br><span class="hljs-keyword">while</span> (k--)<br>&#123;<br><span class="hljs-keyword">int</span> a, b;<span class="hljs-comment">//aè¯¾ç¨‹æœ‰bä¸ªå­¦ç”Ÿ</span><br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;a, &amp;b);<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; b; i++)<br>&#123;<br>string name;<br><span class="hljs-keyword">char</span> temp[<span class="hljs-number">100</span>];<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, temp);<br>name = temp;<br>students[name].<span class="hljs-built_in">push_back</span>(a);<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">while</span> (n--)<br>&#123;<br>string query;<br><span class="hljs-keyword">char</span> temp[<span class="hljs-number">100</span>];<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, temp);<br>query=temp;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s %d&quot;</span>, query.<span class="hljs-built_in">c_str</span>(), students[query].<span class="hljs-built_in">size</span>());<br><span class="hljs-built_in">sort</span>(students[query].<span class="hljs-built_in">begin</span>(),students[query].<span class="hljs-built_in">end</span>());<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c : students[query])<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span>, c);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é¢˜åˆè¸©å‘äº†ï¼Œ<del>ç›´æ¥ä½¿ç”¨äº†<code>.c_str( )</code>è¿›è¡Œ<code>string</code>çš„èµ‹å€¼</del> ã€‚æ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯å¼•å…¥ä¸€ä¸ªä¸­é—´<code>char</code>æ•°ç»„,ç„¶åå°†<code>char</code>æ•°ç»„èµ‹å€¼ç»™<code>string</code></p>]]></content>
    
    
    <categories>
      
      <category>PAT_ADV åˆ·é¢˜ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT_ADV</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é“¾è¡¨ã€æ ˆå’Œé˜Ÿåˆ—</title>
    <link href="/2021/07/21/%E9%93%BE%E8%A1%A8%E3%80%81%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/"/>
    <url>/2021/07/21/%E9%93%BE%E8%A1%A8%E3%80%81%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/</url>
    
    <content type="html"><![CDATA[<h3 id="1-1-é“¾è¡¨"><a href="#1-1-é“¾è¡¨" class="headerlink" title="1.1 é“¾è¡¨"></a>1.1 é“¾è¡¨</h3><h4 id="1-1-1-å•é“¾è¡¨"><a href="#1-1-1-å•é“¾è¡¨" class="headerlink" title="1.1.1 å•é“¾è¡¨"></a>1.1.1 å•é“¾è¡¨</h4><p><a href="https://www.acwing.com/problem/content/description/828/">Acwing 826. å•é“¾è¡¨</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><br><span class="hljs-keyword">int</span> idx,head;<br><span class="hljs-keyword">int</span> e[N], ne[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>idx = <span class="hljs-number">0</span>;<br>head = <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-comment">//è¡¨ç¤ºå‘é“¾è¡¨å¤´æ’å…¥ä¸€ä¸ªæ•° xã€‚</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add_to_head</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>e[idx] = x;<br>ne[idx] = head;<br>head = idx++;<br>&#125;<br><br><span class="hljs-comment">//è¡¨ç¤ºåœ¨ç¬¬ k ä¸ªæ’å…¥çš„æ•°åé¢æ’å…¥ä¸€ä¸ªæ•° xï¼ˆæ­¤æ“ä½œä¸­ k å‡å¤§äº 0ï¼‰</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>e[idx] = x;<br>ne[idx] = ne[k];<br>ne[k] = idx++;<br>&#125;<br><br><span class="hljs-comment">//è¡¨ç¤ºåˆ é™¤ç¬¬ k ä¸ªæ’å…¥çš„æ•°åé¢çš„æ•°ï¼ˆå½“ k ä¸º 0 æ—¶ï¼Œè¡¨ç¤ºåˆ é™¤å¤´ç»“ç‚¹ï¼‰ã€‚</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br>ne[k] = ne[ne[k]];<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">H xï¼Œè¡¨ç¤ºå‘é“¾è¡¨å¤´æ’å…¥ä¸€ä¸ªæ•° xã€‚</span><br><span class="hljs-comment">D kï¼Œè¡¨ç¤ºåˆ é™¤ç¬¬ k ä¸ªæ’å…¥çš„æ•°åé¢çš„æ•°ï¼ˆå½“ k ä¸º 0 æ—¶ï¼Œè¡¨ç¤ºåˆ é™¤å¤´ç»“ç‚¹ï¼‰ã€‚</span><br><span class="hljs-comment">I k xï¼Œè¡¨ç¤ºåœ¨ç¬¬ k ä¸ªæ’å…¥çš„æ•°åé¢æ’å…¥ä¸€ä¸ªæ•° xï¼ˆæ­¤æ“ä½œä¸­ k å‡å¤§äº 0ï¼‰ã€‚</span><br><span class="hljs-comment">*/</span><br><br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">init</span>();<br><span class="hljs-keyword">int</span> m;<br>cin &gt;&gt; m;<br><br><span class="hljs-keyword">while</span> (m--)<br>&#123;<br><span class="hljs-keyword">char</span> cmd;<br>cin &gt;&gt; cmd;<br><span class="hljs-keyword">if</span> (cmd == <span class="hljs-string">&#x27;H&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">int</span> a;<br>cin &gt;&gt; a;<br><span class="hljs-built_in">add_to_head</span>(a);<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cmd == <span class="hljs-string">&#x27;I&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">int</span> k, x;<br>cin &gt;&gt; k &gt;&gt; x;<br><span class="hljs-built_in">insert</span>(k - <span class="hljs-number">1</span>, x);<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cmd == <span class="hljs-string">&#x27;D&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">int</span> k;<br>cin &gt;&gt; k;<br><span class="hljs-keyword">if</span> (k == <span class="hljs-number">0</span>)<br>head = ne[head]; <span class="hljs-comment">//åˆ é™¤å¤´èŠ‚ç‚¹</span><br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">remove</span>(k - <span class="hljs-number">1</span>);<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head; i != <span class="hljs-number">-1</span>; i = ne[i])<br>&#123;<br>cout &lt;&lt; e[i]&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è¸©è¿‡çš„å‘</strong></p><ol><li>Iå’ŒDæ“ä½œçš„æ˜¯ <code>ç¬¬kä¸ªè¢«æ’å…¥çš„æ•°çš„åé¢</code>ï¼Œè€Œä¸æ˜¯<code>åˆ é™¤ç¬¬kä¸ªèŠ‚ç‚¹</code>ã€‚</li><li>éå†å•é“¾è¡¨æ—¶ <code>i!=-1</code>ä¸ºå¾ªç¯æ¡ä»¶ï¼Œ<del>ä¸æ˜¯<code>ne[i]!=-1</code></del></li></ol><h4 id="1-1-2-åŒé“¾è¡¨"><a href="#1-1-2-åŒé“¾è¡¨" class="headerlink" title="1.1.2 åŒé“¾è¡¨"></a>1.1.2 åŒé“¾è¡¨</h4><p><a href="https://www.acwing.com/problem/content/description/829/">827. åŒé“¾è¡¨</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><span class="hljs-keyword">int</span> e[N], l[N], r[N];<br><span class="hljs-keyword">int</span> idx;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//0,1åˆ†åˆ«ä¸ºå¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹</span><br>l[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br>r[<span class="hljs-number">1</span>] = <span class="hljs-number">-1</span>;<br>r[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>l[<span class="hljs-number">0</span>] = <span class="hljs-number">-1</span>;<br>idx = <span class="hljs-number">2</span>;<br>&#125;<br><br><span class="hljs-comment">//åœ¨ä¸‹æ ‡ä¸ºkçš„ç‚¹çš„å³è¾¹åŠ å…¥ç‚¹x</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>e[idx] = x;<br>l[idx] = k;<br>r[idx] = r[k];<br>l[r[k]] = idx;<br>r[k] = idx++;<br>&#125;<br><br><span class="hljs-comment">//å°†ä¸‹æ ‡ä¸ºkçš„èŠ‚ç‚¹åˆ é™¤</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br>r[l[k]] = r[k];<br>l[r[k]] = l[k];<br>&#125;<br><br><span class="hljs-comment">//å‘å¤´éƒ¨æ·»åŠ èŠ‚ç‚¹x</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add_to_head</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>e[idx] = x;<br>l[idx] = <span class="hljs-number">0</span>;<br>r[idx] = r[<span class="hljs-number">0</span>];<br>l[r[idx]] = idx;<br>r[<span class="hljs-number">0</span>] = idx++;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add_to_back</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>e[idx] = x;<br>r[idx] = <span class="hljs-number">1</span>;<br>l[idx] = l[<span class="hljs-number">1</span>];<br>r[l[idx]] = idx;<br>l[<span class="hljs-number">1</span>] = idx++;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">init</span>();<br><span class="hljs-keyword">int</span> n;<br>cin &gt;&gt; n;<br><span class="hljs-keyword">while</span> (n--)<br>&#123;<br><span class="hljs-keyword">char</span> cmd[<span class="hljs-number">3</span>];<br>cin &gt;&gt; cmd;<br><span class="hljs-keyword">if</span> (cmd[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;R&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">int</span> x;<br>cin &gt;&gt; x;<br><span class="hljs-built_in">add_to_back</span>(x);<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cmd[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;L&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">int</span> x;<br>cin &gt;&gt; x;<br><span class="hljs-built_in">add_to_head</span>(x);<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cmd[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;D&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">int</span> k;<br>cin &gt;&gt; k;<br><span class="hljs-built_in">remove</span>(k + <span class="hljs-number">1</span>);<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cmd[<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;L&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">int</span> k, x;<br>cin &gt;&gt; k &gt;&gt; x;<br><span class="hljs-built_in">add</span>(l[k + <span class="hljs-number">1</span>], x);<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cmd[<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;R&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">int</span> k, x;<br>cin &gt;&gt; k &gt;&gt; x;<br><span class="hljs-built_in">add</span>(k + <span class="hljs-number">1</span>, x);<br>&#125;<br>&#125;<br><br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = r[<span class="hljs-number">0</span>]; i != <span class="hljs-number">1</span>; i = r[i])<br>cout &lt;&lt; e[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è¸©è¿‡çš„å‘</strong></p><ol><li><p>é¢˜ç›®ä¸­ç¬¬ k ä¸ªæ’å…¥çš„æ•°å¹¶ä¸æ˜¯æŒ‡å½“å‰é“¾è¡¨çš„ç¬¬ k ä¸ªèŠ‚ç‚¹ï¼Œè€Œæ˜¯ä¸‹æ ‡ä¸º <code>k+1</code> çš„æ•°</p></li><li><p>éå†åŒé“¾è¡¨å’Œéå†å•é“¾è¡¨çš„æ¡ä»¶ä¸ä¸€æ ·</p><ul><li><p>å•é“¾è¡¨çš„éå†ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head; i != <span class="hljs-number">-1</span>; i = ne[i])<br></code></pre></td></tr></table></figure></li><li><p>åŒé“¾è¡¨çš„éå†:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = r[<span class="hljs-number">0</span>];i != <span class="hljs-number">1</span>;i = r[i])<br></code></pre></td></tr></table></figure></li><li><p>ä¹‹æ‰€ä»¥å­˜åœ¨è¿™æ ·çš„ä¸åŒï¼Œæ˜¯å› ä¸ºå‰è€…ä¸å­˜åœ¨å°¾èŠ‚ç‚¹ï¼Œè€Œåè€…å­˜åœ¨å°¾èŠ‚ç‚¹</p><ul><li>å•é“¾è¡¨åœ¨æŒ‡é’ˆä¸º <code>-1</code> æ—¶è¾¾åˆ°é“¾è¡¨å°¾</li><li>åŒé“¾è¡¨åœ¨æŒ‡é’ˆæŒ‡å‘ <code>å°¾èŠ‚ç‚¹åœ°å€</code>æ—¶ï¼Œè¾¾åˆ°é“¾è¡¨å°¾</li></ul></li></ul></li><li><p>æ’å…¥æ“ä½œéœ€è¦æ”¹å˜4ä¸ªæŒ‡é’ˆçš„æŒ‡å‘ï¼Œå¯ä»¥é€šè¿‡ç”»å›¾æ‹æ¸…æ¥š</p></li></ol><h3 id="1-2-æ ˆ"><a href="#1-2-æ ˆ" class="headerlink" title="1.2 æ ˆ"></a>1.2 æ ˆ</h3><h4 id="1-2-1-å•è°ƒæ ˆ"><a href="#1-2-1-å•è°ƒæ ˆ" class="headerlink" title="1.2.1 å•è°ƒæ ˆ"></a>1.2.1 å•è°ƒæ ˆ</h4><p><a href="https://www.acwing.com/problem/content/832/">830. å•è°ƒæ ˆ </a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><span class="hljs-keyword">int</span> q[N];<br><br><span class="hljs-keyword">int</span> stk[N];<br><span class="hljs-keyword">int</span> tt;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;q[i]);<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br><span class="hljs-keyword">while</span> (tt != <span class="hljs-number">0</span> &amp;&amp; stk[tt] &gt;= q[i])<br>tt--;<br><span class="hljs-keyword">if</span> (tt == <span class="hljs-number">0</span>)<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-1 &quot;</span>);<br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, stk[tt]);<br><br>stk[++tt] = q[i];<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ˜¯æ ˆçš„ä¸€ä¸ªå…¸å‹åº”ç”¨ï¼Œä»£ç ç‰¹åˆ«ä¼˜é›…</p><p>åŸç†å¯ä»¥å‚è€ƒä¸‹å›¾</p><iframe height=315 width=699 src="\img\é“¾è¡¨ã€æ ˆå’Œé˜Ÿåˆ—\1.gif"><h3 id="1-3-é˜Ÿåˆ—"><a href="#1-3-é˜Ÿåˆ—" class="headerlink" title="1.3 é˜Ÿåˆ—"></a>1.3 é˜Ÿåˆ—</h3><h4 id="å•è°ƒé˜Ÿåˆ—"><a href="#å•è°ƒé˜Ÿåˆ—" class="headerlink" title="å•è°ƒé˜Ÿåˆ—"></a>å•è°ƒé˜Ÿåˆ—</h4><p><a href="https://www.acwing.com/problem/content/156/">154. æ»‘åŠ¨çª—å£</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++">-----<br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><span class="hljs-keyword">int</span> q[N], a[N];<br><span class="hljs-keyword">int</span> n, k;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;n,&amp;k);<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br><br><span class="hljs-keyword">int</span> hh = <span class="hljs-number">0</span>, tt = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br><span class="hljs-comment">//ç»´æŠ¤é˜Ÿåˆ—</span><br><span class="hljs-keyword">if</span> (hh &lt;= tt &amp;&amp; i - k + <span class="hljs-number">1</span> &gt; q[hh]) <span class="hljs-comment">//é˜Ÿåˆ—æ˜¯ç©ºçš„å¹¶ä¸” å¼€å§‹çš„ä½ç½®&gt;q[hh]</span><br>hh++;<br><span class="hljs-keyword">while</span> (hh &lt;= tt &amp;&amp; a[q[tt]] &gt; a[i])<br>tt--;<br><br><span class="hljs-keyword">if</span> (i &gt;= k - <span class="hljs-number">1</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, a[q[hh]]);<br>q[++tt] = i;<br>&#125;<br><br><span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>åŸºç¡€ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>é“¾è¡¨</tag>
      
      <tag>æ ˆ</tag>
      
      <tag>é˜Ÿåˆ—</tag>
      
      <tag>æ•°æ®ç»“æ„</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å“ˆå¸Œè¡¨ä¸å­—ç¬¦ä¸²å“ˆå¸Œ</title>
    <link href="/2021/07/21/%E5%93%88%E5%B8%8C%E8%A1%A8%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%93%88%E5%B8%8C/"/>
    <url>/2021/07/21/%E5%93%88%E5%B8%8C%E8%A1%A8%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%93%88%E5%B8%8C/</url>
    
    <content type="html"><![CDATA[<h2 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="å“ˆå¸Œè¡¨"></a>å“ˆå¸Œè¡¨</h2><p>ä½œç”¨ï¼šæŠŠä¸€ä¸ªå¤§çš„å€¼åŸŸæ˜ å°„åˆ°ä¸€ä¸ªå°çš„ç©ºé—´ </p><h3 id="å­˜å‚¨ç»“æ„ï¼ˆå†²çªçš„å¤„ç†æ–¹å¼ï¼‰"><a href="#å­˜å‚¨ç»“æ„ï¼ˆå†²çªçš„å¤„ç†æ–¹å¼ï¼‰" class="headerlink" title="å­˜å‚¨ç»“æ„ï¼ˆå†²çªçš„å¤„ç†æ–¹å¼ï¼‰"></a>å­˜å‚¨ç»“æ„ï¼ˆå†²çªçš„å¤„ç†æ–¹å¼ï¼‰</h3><ol><li>æ‹‰é“¾æ³•</li><li>å¼€æ”¾å¯»å€æ³•</li></ol><h3 id="å­—ç¬¦ä¸²å“ˆå¸Œæ–¹å¼"><a href="#å­—ç¬¦ä¸²å“ˆå¸Œæ–¹å¼" class="headerlink" title="å­—ç¬¦ä¸²å“ˆå¸Œæ–¹å¼"></a>å­—ç¬¦ä¸²å“ˆå¸Œæ–¹å¼</h3><h4 id="æ‹‰é“¾æ³•"><a href="#æ‹‰é“¾æ³•" class="headerlink" title="æ‹‰é“¾æ³•"></a>æ‹‰é“¾æ³•</h4><ol><li><p>æ¨¡ ä¸€ä¸ªæ•°</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªæ•°éœ€è¦å–ä¸€ä¸ªè´¨æ•°ï¼Œä¸”è¿™ä¸ªè´¨æ•°ï¼Œè¦ç¦»2çš„æ•´æ•°å¹‚å°½å¯èƒ½è¿œ</p></li><li><p>è§£å†³å†²çª</p><pre><code>a. å¼€ä¸€ä¸ªæ•°ç»„b. æ¯ä¸€æ¬¡é‡åˆ°å†²çªï¼Œå°±æ‹‰ä¸€æ¡é“¾,å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</code></pre><p><img src="/img/%E5%93%88%E5%B8%8C%E8%A1%A8%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%93%88%E5%B8%8C/1.png" alt="image-20210721131436173"></p><pre><code>c. æ“ä½œçš„å®ç°ï¼š    å¢ï¼šç±»ä¼¼äºå•é“¾è¡¨çš„æ’å…¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</code></pre><p><img src="/img/%E5%93%88%E5%B8%8C%E8%A1%A8%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%93%88%E5%B8%8C/2.png" alt="image-20210721131607469"></p><pre><code>    åˆ ï¼šåœ¨å¯¹åº”çš„ç‚¹ä¸Šæ‰“ä¸€ä¸ªæ ‡è®°ï¼ˆä¸ä¼šçœŸçš„åˆ é™¤èŠ‚ç‚¹ï¼‰    æŸ¥ï¼šéå†å¯¹åº”çš„é“¾</code></pre><p>ä»£ç ï¼š</p><ol><li>æŸ¥æ‰¾å¤§äº100000 çš„ç¬¬ä¸€ä¸ªè´¨æ•°</li></ol></li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">100000</span>;; i++)<br>&#123;<br><span class="hljs-keyword">bool</span> flag;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">2</span>; j * j &lt;= i; j++)<br>&#123;<br><span class="hljs-keyword">if</span> (i % j == <span class="hljs-number">0</span>)<br>&#123;<br>flag = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">break</span>;<br>&#125;<br><br><span class="hljs-keyword">if</span> (flag)<br>&#123;<br>cout &lt;&lt; i &lt;&lt; endl;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><br><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å®ç°ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span> </span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span><span class="hljs-comment">//memset åœ¨cstringä¸­ï¼Œä¸è¦ç»™å¿˜äº†</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100003</span>;<br><span class="hljs-keyword">int</span> h[N], e[N], ne[N], idx;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> k = (x % N + N) % N;<span class="hljs-comment">//(æ¨¡åŠ æ¨¡)ç¡®ä¿ä½™æ•°ä¸€å®šæ˜¯ä¸€ä¸ªæ­£æ•°</span><br><br>e[idx] = x;<br>ne[idx] = h[k];<br>h[k] = idx++; <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> k = (x % N + N) % N;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = h[k]; i != <span class="hljs-number">-1</span>; i = ne[i])<br><span class="hljs-keyword">if</span> (e[i] == x)<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br><br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><br><span class="hljs-built_in">memset</span>(h, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> h); <span class="hljs-comment">//æ¸…ç©ºæ‰€æœ‰çš„æ§½</span><br><br><span class="hljs-keyword">while</span> (n--)<br>&#123;<br><span class="hljs-keyword">char</span> op[<span class="hljs-number">2</span>];<br><span class="hljs-keyword">int</span> x;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s%d&quot;</span>, op, &amp;x);<br><br><span class="hljs-keyword">if</span> (*op == <span class="hljs-string">&#x27;I&#x27;</span>) <span class="hljs-built_in">insert</span>(x);<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">find</span>(x)) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br><span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br>&#125;<br><br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="å¼€æ”¾å¯»å€æ³•"><a href="#å¼€æ”¾å¯»å€æ³•" class="headerlink" title="å¼€æ”¾å¯»å€æ³•"></a>å¼€æ”¾å¯»å€æ³•</h4><p>æ·»åŠ ï¼šä½¿ç”¨è¹²å‘æ³•ï¼Œå‘é‡Œæ¯äººå°±åœ¨è¿™ä¸ªå‘å­˜ï¼Œæ¯äººå°±å»ä¸‹ä¸€ä¸ªå‘ä½ï¼ˆbushiï¼‰</p><p>æŸ¥æ‰¾ï¼šå¦‚æœå½“å‰å‘ä½æœ‰äººï¼Œå¹¶ä¸”æ˜¯<code>x</code>å°±æ‰¾åˆ°äº†</p><pre><code>       å¦‚æœå½“å‰å‘ä½æœ‰äººï¼Œå¹¶ä¸”ä¸æ˜¯xï¼Œå°±å»ä¸‹ä¸€ä¸ªå‘ä½       å¦‚æœæ²¡äººï¼Œå°±è¡¨ç¤º``x``ä¸å­˜åœ¨</code></pre><p>åˆ é™¤ï¼šæŒ‰ç…§æŸ¥æ‰¾çš„æ–¹å¼æ‰¾<code>x</code>ï¼Œå¦‚æœæ‰¾åˆ°äº†å°±æ‰“ä¸€ä¸ªæ ‡è®°</p><p>å®ç°æ–¹å¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">200003</span>;<span class="hljs-comment">//æ€»äººæ•°çš„2-3å€</span><br><br><span class="hljs-keyword">int</span> null = <span class="hljs-number">0x3f3f3f3f</span>; <span class="hljs-comment">//çº¦å®šè¿™ä¸ªæ•°ï¼Œæ„å‘³ç€è¿™ä¸ªå‘ä½æ²¡æœ‰äºº(è¿™ä¸ªçº¦å®šçš„æ•°ä¸èƒ½åœ¨xçš„èŒƒå›´å†…)</span><br><br><span class="hljs-keyword">int</span> h[N];<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span><span class="hljs-comment">//æ ¸å¿ƒæ“ä½œï¼Œå¦‚æœxå·²ç»å­˜åœ¨ï¼Œå°±è¿”å›xæ‰€åœ¨çš„ä½ç½®ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±è¿”å›xåº”è¯¥å­˜å‚¨çš„ä½ç½®</span></span><br><span class="hljs-function"></span>&#123;   <br><span class="hljs-keyword">int</span> k = (x % N + N) % N;<br><br><span class="hljs-keyword">while</span> (h[k] != null &amp;&amp; h[k] != x)<span class="hljs-comment">//è¿™ä¸ªå‘ä½æœ‰äººï¼Œå¹¶ä¸”è¿™ä¸ªå‘ä½çš„æ•°ä¸æ˜¯xï¼Œå°±è¦å¾€ä¸‹çœ‹ä¸‹ä¸€ä¸ªå‘ä½</span><br>&#123;<br>k++;<br><span class="hljs-keyword">if</span> (k == N)<span class="hljs-comment">//å¦‚æœå·²ç»çœ‹åˆ°æœ€åä¸€ä¸ªå‘ä½äº†ï¼Œå°±å†å»æ‰¾ç¬¬ä¸€ä¸ªå‘ä½</span><br>k = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-keyword">return</span> k;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n;<br>cin &gt;&gt; n;<br><br><span class="hljs-built_in">memset</span>(h, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span> h);<br><br><span class="hljs-keyword">while</span> (n--)<br>&#123;<br><span class="hljs-keyword">char</span> op[<span class="hljs-number">2</span>];<br><span class="hljs-keyword">int</span> x;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s%d&quot;</span>, op,&amp;x);<br><br><span class="hljs-keyword">int</span> k=<span class="hljs-built_in">find</span>(x);<br><span class="hljs-keyword">if</span> (*op == <span class="hljs-string">&#x27;I&#x27;</span>)<br>&#123;<br>h[k] = x;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>    <span class="hljs-keyword">if</span>(h[k]!=null) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²å‰ç¼€å“ˆå¸Œ"><a href="#å­—ç¬¦ä¸²å‰ç¼€å“ˆå¸Œ" class="headerlink" title="å­—ç¬¦ä¸²å‰ç¼€å“ˆå¸Œ"></a>å­—ç¬¦ä¸²å‰ç¼€å“ˆå¸Œ</h2><p>**ä»¤KMPéƒ½ä¼šæœ›è€Œå´æ­¥çš„ä½œç”¨:**å¯ä»¥å¿«é€Ÿåœ°åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰</p><p>ï¼ˆKMPå¯ä»¥ç”¨æ¥æ±‚å¾ªç¯èŠ‚ä½†æ˜¯è¿™ä¸ªç®—æ³•æ±‚ä¸äº†ï¼‰</p><ol><li><p>é¢„å¤„ç†æ‰€æœ‰å‰ç¼€çš„å“ˆå¸Œ</p><p>å®šä¹‰ï¼šæŠŠå­—ç¬¦ä¸²çœ‹æˆæ˜¯<code>p</code>è¿›åˆ¶çš„æ•°</p><p>å¦‚<code>&quot;ABCD&quot;</code> çœ‹æˆ Pè¿›åˆ¶çš„<code>1 2 3 4</code>ã€‚</p><blockquote><p><strong>æ³¨æ„</strong>ï¼š è¿™é‡Œçš„æ•°å­—ä¸èƒ½æ˜ å°„æˆ 0</p><p>å¦‚æœ <code>A</code>æ˜ å°„æˆäº† 0</p><p>é‚£ä¹ˆ<code>AA</code>ä¹Ÿä¼šè¢«æ˜ å°„æˆ 0ï¼Œè¿™æ ·å°±äº§ç”Ÿäº†å†²çª</p><p><strong>è§£å†³æ–¹å¼ï¼š</strong>ä»1å¼€å§‹æ˜ å°„</p></blockquote></li><li><p>è½¬åŒ–æˆæ•°å­—</p></li><li><p>é€šè¿‡å–æ¨¡ï¼Œå°±èƒ½æŠŠå­—ç¬¦ä¸²æ˜ å°„åˆ°<code>(1,Q-1)</code>çš„æ•°</p><blockquote><p>è¿™ç§å¤„ç†æ–¹å¼ï¼Œå‡å®šäº†äººå“è¶³å¤Ÿå¥½ï¼Œå®Œå…¨ä¸è€ƒè™‘å†²çªçš„æƒ…å†µ</p><p>ç»éªŒå€¼ï¼š å½“p=131æˆ–è€…13331</p><p>Q=2^64  (ç”¨unsigned long long å­˜å‚¨æ‰€æœ‰çš„hï¼Œä¼šè‡ªç„¶æº¢å‡ºï¼Œæº¢å‡ºå°±ç›¸å½“äºå–æ¨¡äº†)</p><p>è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œå¤§æ¦‚ç‡æ— å†²çª</p></blockquote></li></ol><p><strong>è¿™æ ·å¤„ç†çš„å¥½å¤„ï¼š</strong></p><p>å¯ä»¥åˆ©ç”¨å‰ç¼€å“ˆå¸Œï¼Œæ‰¾åˆ°ä»»æ„ä¸€ä¸ªå­—ä¸²çš„å“ˆå¸Œå€¼</p><p><img src="/img/%E5%93%88%E5%B8%8C%E8%A1%A8%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%93%88%E5%B8%8C/3.png" alt="image-20210721142417652"></p><p><strong>å…¬å¼çš„ç†è§£ï¼š</strong></p><p>åŒºé—´å’Œå…¬å¼çš„ç†è§£: ABCDE ä¸ ABC çš„å‰ä¸‰ä¸ªå­—ç¬¦å€¼æ˜¯ä¸€æ ·ï¼Œåªå·®ä¸¤ä½ï¼Œ<br>ä¹˜ä¸ŠPçš„äºŒæ¬¡æ–¹æŠŠ ABC å˜ä¸º ABC00ï¼Œå†ç”¨ ABCDE - ABC00 å¾—åˆ° DE çš„å“ˆå¸Œå€¼ã€‚</p><p><strong>å®ç°ä»£ç </strong> </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>,P=<span class="hljs-number">131</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ULL;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">char</span> str[N];<br>ULL h[N], p[N]; <span class="hljs-comment">//h[i]è¡¨ç¤ºçš„æ˜¯å‰ç¼€içš„å“ˆå¸Œå€¼p[]è¡¨ç¤ºpçš„å¤šå°‘æ¬¡æ–¹ï¼Œå¯ä»¥é¢„å¤„ç†å‡ºæ¥</span><br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">return</span> h[r] - h[l - <span class="hljs-number">1</span>] * p[r - l + <span class="hljs-number">1</span>];<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%s&quot;</span>, &amp;n, &amp;m, str + <span class="hljs-number">1</span>);<br><br>p[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>&#123;<br>p[i] = p[i - <span class="hljs-number">1</span>] * P;<span class="hljs-comment">//é¢„å¤„ç†pæ•°ç»„</span><br><br>h[i] = h[i - <span class="hljs-number">1</span>] * P + str[i];<br>&#125;<br><br><span class="hljs-keyword">while</span> (m--)<br>&#123;<br><span class="hljs-keyword">int</span> l1, r1, l2, r2;<br>cin &gt;&gt; l1 &gt;&gt; r1 &gt;&gt; l2 &gt;&gt; r2;<br><br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">get</span>(l1, r1) == <span class="hljs-built_in">get</span>(l2, r2)) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br><span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>åŸºç¡€ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
      <tag>å“ˆå¸Œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>KMPå­—ç¬¦ä¸²</title>
    <link href="/2021/07/20/KMP%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    <url>/2021/07/20/KMP%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
    
    <content type="html"><![CDATA[<h2 id="KMPå­—ç¬¦ä¸²"><a href="#KMPå­—ç¬¦ä¸²" class="headerlink" title="KMPå­—ç¬¦ä¸²"></a>KMPå­—ç¬¦ä¸²</h2><p>KMPç®—æ³•æ˜¯åŸºç¡€ç®—æ³•ä¸­çš„ä¸€ä¸ªéš¾ç‚¹ï¼Œè™½ç„¶Acwingä¸­å·²ç»æœ‰ç®€çŸ­æ˜“è®°çš„ä»£ç ï¼Œä½†æ˜¯å¦‚æœä¸ç†è§£KMPåŸç†ï¼Œåœ¨åšä¸€äº›å˜å½¢é¢˜çš„æ—¶å€™è¿˜æ˜¯ä¼šå¾ˆå›°éš¾ã€‚</p><p>å…·ä½“çš„è¿‡ç¨‹å¯ä»¥å‚ç…§çŸ¥ä¹çš„é«˜èµå›ç­”ï¼Œè¿™é‡Œå†™ä¸€äº›è‡ªå·±çš„è¡¥å……ã€‚</p><h3 id="1-nextæ•°ç»„"><a href="#1-nextæ•°ç»„" class="headerlink" title="1.nextæ•°ç»„"></a>1.nextæ•°ç»„</h3><p><code>next</code>æ•°ç»„å­˜åœ¨ä¸¤ç§ç±»å‹</p><ol><li>ä¸‹æ ‡ä»1å¼€å§‹ å³<code>next[0]=0</code></li><li>ä¸‹æ ‡ä»0å¼€å§‹  å³<code>next[0]=-1</code></li></ol><p>è¿™ä¸¤ç§ç±»å‹çš„æœ¬è´¨æ˜¯ä¸€æ ·çš„</p><p>åœ¨ç¬¬<strong>1</strong>ç§nextæ•°ç»„ä¸­:</p><blockquote><p><code>next[i]=j</code> æ„ä¸º ``p[1,j]=p[i-j+1,i]`</p></blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå‡ºç°äº†ä¸‹å›¾æƒ…å†µçš„ä¸åŒ¹é…</p><p><img src="/img/KMP%E5%AD%97%E7%AC%A6%E4%B8%B2/1.png" alt="image-20210718213811721"></p><p>å°±èƒ½ä½¿<code>j=next[j]</code>,ä»è€Œå¼€å§‹æ–°ä¸€è½®çš„åŒ¹é…</p><p>æ±‚è¿™ç§nextæ•°ç»„çš„ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>,j = <span class="hljs-number">0</span>;j &lt;= n; i ++ )<br>&#123;<br>    <span class="hljs-keyword">while</span>(j &amp;&amp; p[i] != p[j+<span class="hljs-number">1</span>]) j = ne[j];<br>    <span class="hljs-keyword">if</span>(p[i] == p[j + <span class="hljs-number">1</span>]) j++;<br>    ne[i] = j;<br>&#125;<br></code></pre></td></tr></table></figure><p>å…³äºç¬¬<strong>2</strong>ç§nextæ•°ç»„çš„ç›¸å…³é—®é¢˜ï¼Œå¯ä»¥å‚ç…§è¿™ç¯‡åšå®¢</p><p><a href="https://blog.csdn.net/m0_37482190/article/details/86667059">ç®—æ³•ï¼šnextæ•°ç»„çš„æ±‚æ³•è¯¦è§£_è¿›é˜¶çš„å°å°ç™½çš„åšå®¢-CSDNåšå®¢_nextæ•°ç»„</a></p><h3 id="2-åŒ¹é…çš„è¿‡ç¨‹"><a href="#2-åŒ¹é…çš„è¿‡ç¨‹" class="headerlink" title="2.åŒ¹é…çš„è¿‡ç¨‹"></a>2.åŒ¹é…çš„è¿‡ç¨‹</h3><p>è¿™é‡Œä»¥ä¸‹æ ‡ä»0å¼€å§‹çš„<code>next</code>æ•°ç»„ä¸ºä¾‹</p><p><strong>ä»£ç </strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>,j = <span class="hljs-number">0</span>;i &lt;= m;i ++)<br>&#123;<br>    <span class="hljs-keyword">while</span>(j &amp;&amp; s[i] != p[j+<span class="hljs-number">1</span>]) <span class="hljs-comment">//jæ²¡æœ‰é€€å›èµ·ç‚¹ï¼Œå¹¶ä¸”s[i]ä¸p[j+1]ä¸èƒ½åŒ¹é…</span><br>        j = ne[j];<br>    <br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    ä¸Šé¢çš„å¾ªç¯ç»“æŸåï¼Œæœ‰ä¸¤ç§æƒ…å†µ</span><br><span class="hljs-comment">  1. j=0 å³ é€€æ— å¯é€€äº†</span><br><span class="hljs-comment">      2. æˆåŠŸè¿›è¡Œäº†åŒ¹é…</span><br><span class="hljs-comment">    */</span><br>    <br>    <span class="hljs-keyword">if</span>(s[i] == p[j+<span class="hljs-number">1</span>]) j++;  <span class="hljs-comment">//æˆåŠŸåŒ¹é…åï¼Œjå°±èƒ½ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä½ç½®</span><br>    <br>    <span class="hljs-keyword">if</span>(j == n)<br>    &#123;<br>        <span class="hljs-comment">//åŒ¹é…æˆåŠŸ</span><br>    &#125;<br>    <br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>åŸºç¡€ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>KMP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PAT_ADV åˆ·é¢˜ç¬”è®° 0X0001</title>
    <link href="/2021/07/20/PAT_ADV%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B00x0001/"/>
    <url>/2021/07/20/PAT_ADV%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B00x0001/</url>
    
    <content type="html"><![CDATA[<h2 id="åˆ·é¢˜ç¬”è®°"><a href="#åˆ·é¢˜ç¬”è®°" class="headerlink" title="åˆ·é¢˜ç¬”è®°"></a>åˆ·é¢˜ç¬”è®°</h2><p>2021.7.12â€”2021.7.14</p><h3 id="1084-åæ‰çš„é”®ç›˜"><a href="#1084-åæ‰çš„é”®ç›˜" class="headerlink" title="1084 åæ‰çš„é”®ç›˜"></a>1084 åæ‰çš„é”®ç›˜</h3><p>å…³äºstringéå†çš„é—®é¢˜ï¼Œåœ¨è¿™ä¸ªæ ·ä¾‹ä¸­ï¼Œè™½ç„¶åœ¨IDEä¸­æŸ¥æ‰¾b[10]æ²¡æœ‰ä»»ä½•å€¼ï¼Œä½†æ˜¯cout&lt;&lt;b[10]å´ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ï¼Œcout&lt;&lt;b[11]å°±ä¼šæŠ¥é”™</p><p>ä¸ºäº†ä¿é™©èµ·è§ï¼Œè¿˜æ˜¯åœ¨bä¸²çš„æœ«å°¾åŠ ä¸Šäº†â€™#â€™</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">7_This_is_a_test</span><br><span class="hljs-comment">_hs_s_a_es</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">bool</span> los[<span class="hljs-number">200</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>string a, b;<br>cin &gt;&gt; a &gt;&gt; b;<br><span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<br><span class="hljs-comment">//æœ‰å¯èƒ½ç¬¬ä¸€ä¸ªæŒ‡é’ˆè¿˜æ²¡éå†å®Œçš„æ—¶å€™ï¼Œç¬¬äºŒä¸ªæŒ‡é’ˆå°±å·²ç»éå†å®Œäº†,æ‰€ä»¥åœ¨ç¬¬äºŒä¸ªstringåè¾¹åŠ ä¸Šäº†&#x27;#&#x27;</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>; i &lt; a.<span class="hljs-built_in">size</span>(); i++)<br>&#123;<br><span class="hljs-keyword">char</span> x = <span class="hljs-built_in">toupper</span>(a[i]), y = <span class="hljs-built_in">toupper</span>(b[j]);<br><span class="hljs-keyword">if</span> (x == y) &#123;<br>j++;<br><span class="hljs-keyword">if</span> (j == <span class="hljs-number">9</span>)<br><span class="hljs-built_in">getchar</span>();<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br><span class="hljs-keyword">if</span> (!los[x]) cout &lt;&lt; x, los[x] = <span class="hljs-literal">true</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="1108-æ±‚å¹³å‡å€¼"><a href="#1108-æ±‚å¹³å‡å€¼" class="headerlink" title="1108 æ±‚å¹³å‡å€¼"></a>1108 æ±‚å¹³å‡å€¼</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-keyword">float</span> sum;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>string a[N];<br><span class="hljs-keyword">int</span> n;<br>cin &gt;&gt; n;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br>cin &gt;&gt; a[i];<br><span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">size_t</span> idx;<br><span class="hljs-keyword">float</span> t;<br><span class="hljs-keyword">try</span> &#123;<br>t = <span class="hljs-built_in">stof</span>(a[i], &amp;idx);  <span class="hljs-comment">//è¿™é‡Œçš„idxèƒ½æŒ‡å‘æˆåŠŸè½¬åŒ–çš„æœ€åä½æ•°çš„ä¸‹ä¸€ä¸ªåœ°å€</span><br>&#125;<br><span class="hljs-built_in"><span class="hljs-keyword">catch</span></span> (...) &#123;<br>flag = <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-keyword">if</span> (idx &lt; a[i].<span class="hljs-built_in">size</span>()) flag = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">if</span> (t &lt; <span class="hljs-number">-1000</span> || t&gt;<span class="hljs-number">1000</span>) flag = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">int</span> k = a[i].<span class="hljs-built_in">find</span>(<span class="hljs-string">&#x27;.&#x27;</span>);<br><span class="hljs-keyword">if</span> (k != <span class="hljs-number">-1</span> &amp;&amp; a[i].<span class="hljs-built_in">size</span>() - k &gt; <span class="hljs-number">3</span>) flag = <span class="hljs-literal">false</span>;<br><br><span class="hljs-keyword">if</span> (flag) cnt++, sum += t;<br><span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ERROR: %s is not a legal number\n&quot;</span>, a[i].<span class="hljs-built_in">c_str</span>());<br><br>&#125;<br><br><span class="hljs-keyword">if</span> (cnt &gt; <span class="hljs-number">1</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The average of %d numbers is %.2lf\n&quot;</span>, cnt, sum / cnt);<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cnt == <span class="hljs-number">1</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The average of 1 number is %.2lf\n&quot;</span>, sum);<br><span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;The average of 0 numbers is Undefined&quot;</span>);<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é¢˜æ¶‰åŠåˆ°äº†å¾ˆå¤šåº“å‡½æ•°</p><ul><li><p><code>stoi()</code>,<code>stof()</code>è¿™ä¸¤ä¸ªå‡½æ•°èƒ½æŠŠ<code>string</code>è½¬åŒ–ä¸º<code>int</code>/<code>float</code></p><ul><li>åœ¨å­—ç¬¦ä¸²ä¸åˆæ³•çš„æƒ…å†µä¸‹ï¼Œå®ƒä»¬èƒ½æŠ›å‡ºå¼‚å¸¸</li><li>èƒ½åŒ…å«ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°&amp;idxèƒ½å¸¦å‡º æˆåŠŸè½¬æ¢çš„æœ€åä¸€ä½çš„ä¸‹ä¸€ä¸ªåœ°å€</li></ul></li><li><p>ä½¿ç”¨<code>try&#123;&#125; catch(...)&#123;&#125;</code>è¯­å¥æ•æ‰å¼‚å¸¸ï¼Œè®°ä¸ºä¸åˆæ³•æ•°å­—</p><ul><li><code>catch(...)</code> æ•æ‰æ‰€æœ‰ç±»å‹çš„å¼‚å¸¸</li></ul></li><li><p>stringç±»å‹çš„<code> .find(x)</code>å‡½æ•° èƒ½åœ¨æŒ‡å®šå­—ç¬¦ä¸²ä¸­å¯»æ‰¾ç¬¬ä¸€ä¸ªxçš„ä¸‹æ ‡ï¼Œå¹¶å°†å…¶è¿”å›ã€‚å¦‚æœåœ¨å­—ç¬¦ä¸²ä¸­æ‰¾ä¸åˆ°xï¼Œé‚£ä¹ˆè¿”å›å€¼ä¸º-1</p></li></ul><p>c++ ä¸­çš„try catch è¯­å¥</p><p>size_t</p><h3 id="1124-å¾®åšè½¬å‘æŠ½å¥–"><a href="#1124-å¾®åšè½¬å‘æŠ½å¥–" class="headerlink" title="1124 å¾®åšè½¬å‘æŠ½å¥–"></a>1124 å¾®åšè½¬å‘æŠ½å¥–</h3><p>è¿™é¢˜ç”¨åˆ°äº†unordered_setæ¥åˆ¤é‡</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1010</span>;<br>stringname[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><span class="hljs-keyword">int</span> m, n, s;<br>cin &gt;&gt; m &gt;&gt; n &gt;&gt; s; <br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++) <span class="hljs-comment">//è¿™é‡Œè¦æ³¨æ„ï¼Œsä»1å¼€å§‹ï¼Œæ‰€ä»¥iä¹Ÿè¦ä»1å¼€å§‹</span><br>cin &gt;&gt; name[i];<br><br>unordered_set&lt;string&gt; hash;<br><span class="hljs-keyword">int</span> i = s;<br><span class="hljs-keyword">while</span>(i&lt;=m)<br>&#123;<br><span class="hljs-keyword">if</span> (hash.<span class="hljs-built_in">count</span>(name[i])) i++;<br><span class="hljs-keyword">else</span> &#123;<br>cout &lt;&lt; name[i] &lt;&lt; endl;<br>hash.<span class="hljs-built_in">insert</span>(name[i]);<br>i += n;<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">if</span> (hash.<span class="hljs-built_in">empty</span>()) <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Keep going...&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="1125-PATå•ä½æ’è¡Œ"><a href="#1125-PATå•ä½æ’è¡Œ" class="headerlink" title="1125 PATå•ä½æ’è¡Œ"></a>1125 PATå•ä½æ’è¡Œ</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">School</span></span><br><span class="hljs-class">&#123;</span><br>    string name;<br>    <span class="hljs-keyword">int</span> cnt;<br>    <span class="hljs-keyword">double</span> sum;<br><br>    <span class="hljs-built_in">School</span>() : <span class="hljs-built_in">cnt</span>(<span class="hljs-number">0</span>), <span class="hljs-built_in">sum</span>(<span class="hljs-number">0</span>) &#123;&#125;<br><br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt; (<span class="hljs-keyword">const</span> School&amp; t) <span class="hljs-keyword">const</span> <span class="hljs-comment">//è¿ç®—ç¬¦é‡è½½ï¼Œç»ç»å­</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (sum != t.sum) <span class="hljs-keyword">return</span> sum &gt; t.sum;<br>        <span class="hljs-keyword">if</span> (cnt != t.cnt) <span class="hljs-keyword">return</span> cnt &lt; t.cnt;<br>        <span class="hljs-keyword">return</span> name &lt; t.name;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n;<br>    cin &gt;&gt; n;<br>    unordered_map&lt;string, School&gt; hash;<br><br>    <span class="hljs-keyword">while</span> (n--)<br>    &#123;<br>        string id, sch;<br>        <span class="hljs-keyword">double</span> grade;<br>        cin &gt;&gt; id &gt;&gt; grade &gt;&gt; sch;<br><br>        <span class="hljs-comment">//å°†æ‰€æœ‰çš„å¤§å†™å­—æ¯éƒ½è½¬åŒ–ä¸ºå°å†™å­—æ¯</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; c : sch)<br>            c = <span class="hljs-built_in">tolower</span>(c);<br><br>        <span class="hljs-keyword">if</span> (id[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;B&#x27;</span>) grade = grade / <span class="hljs-number">1.5</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (id[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;T&#x27;</span>) grade = grade * <span class="hljs-number">1.5</span>;<br><br>        hash[sch].sum += grade;<br>        hash[sch].cnt++;<br>        hash[sch].name = sch;<br>    &#125;<br><br>    vector&lt;School&gt; schools;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> item : hash) &#123;<br>        item.second.sum = (<span class="hljs-keyword">int</span>)(item.second.sum + <span class="hljs-number">1e-8</span>); <span class="hljs-comment">//éœ€è¦æ³¨æ„è¿™é‡Œçš„secondï¼Œè¿™é‡Œçš„secondæŒ‡çš„æ˜¯&lt;string,School&gt;ä¸­çš„second</span><br>        schools.<span class="hljs-built_in">push_back</span>(item.second);<br>    &#125;<br><br>    <span class="hljs-comment">//è¿›è¡Œå¤šå…³é”®å­—æ’åº</span><br>    <span class="hljs-built_in">sort</span>(schools.<span class="hljs-built_in">begin</span>(), schools.<span class="hljs-built_in">end</span>());<br>    cout &lt;&lt; schools.<span class="hljs-built_in">size</span>() &lt;&lt; endl;<br><br>    <span class="hljs-keyword">int</span> rank = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; schools.<span class="hljs-built_in">size</span>(); i++)<br>    &#123;<br>        <span class="hljs-keyword">auto</span> s = schools[i];<br>        <span class="hljs-keyword">if</span> (i &amp;&amp; s.sum != schools[i - <span class="hljs-number">1</span>].sum) rank = i + <span class="hljs-number">1</span>;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %s %d %d\n&quot;</span>, rank, s.name.<span class="hljs-built_in">c_str</span>(), (<span class="hljs-keyword">int</span>)s.sum, s.cnt);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„å¾—ç‚¹ï¼š</p><ul><li><p>c++è¿›è¡Œé™¤æ³•æ—¶ï¼Œå¯èƒ½å­˜åœ¨ç²¾åº¦é—®é¢˜ï¼Œæ¯”å¦‚ /1.5 æ—¶ï¼Œå‡ºç°äº† 2.99999999  å–æ•´åä¸º2</p><ul><li>è§£å†³æ–¹æ¡ˆï¼šåœ¨é™¤æ³•ååŠ ä¸Šç»éªŒå€¼ <code>eps</code> (ä¸€èˆ¬ä¸º1e-8)</li></ul></li><li><p>ä½¿ç”¨<code>unordered_map</code> æŠŠå­¦æ ¡åå­—æ˜ å°„åˆ°ä¸€ä¸ªç»“æ„ä½“</p></li><li><p>é‡è½½è¿ç®—ç¬¦ï¼Œè¿›è¡Œå¤šå…³é”®å­—æ’åº</p></li></ul><h3 id="1153-è§£ç PATå‡†è€ƒè¯"><a href="#1153-è§£ç PATå‡†è€ƒè¯" class="headerlink" title="1153 è§£ç PATå‡†è€ƒè¯"></a>1153 è§£ç PATå‡†è€ƒè¯</h3><h3 id="1058-éœæ ¼æ²ƒèŒ¨çš„A-B"><a href="#1058-éœæ ¼æ²ƒèŒ¨çš„A-B" class="headerlink" title="1058 éœæ ¼æ²ƒèŒ¨çš„A + B"></a>1058 éœæ ¼æ²ƒèŒ¨çš„A + B</h3>]]></content>
    
    
    <categories>
      
      <category>PAT_ADV åˆ·é¢˜ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT_ADV</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è“æ¡¥æ¯ç®—æ³•ç¬”è®°&lt;6&gt; æ•°è®ºåŸºç¡€</title>
    <link href="/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-6-%E6%95%B0%E8%AE%BA%E5%9F%BA%E7%A1%80/"/>
    <url>/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-6-%E6%95%B0%E8%AE%BA%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<p>   è´¨æ•°ï¼Œæœ€å¤§å…¬çº¦æ•°ç­‰ç­‰å’Œå¤„ç†æ•°å­—æœ‰å…³çš„é¢˜ç›®ä¼šç»å¸¸å‡ºç°åœ¨ç®—æ³•é¢˜ä¸­ã€‚å¯¹äºå¸¸è§çš„å¤„ç†æ–¹å¼ï¼Œåº”è¯¥èƒŒä¸€ä¸ªæœ€ä¼˜è§£çš„æ¨¡æ¿ã€‚</p><h4 id="1-æ±‚æœ€å¤§å…¬çº¦æ•°"><a href="#1-æ±‚æœ€å¤§å…¬çº¦æ•°" class="headerlink" title="1.æ±‚æœ€å¤§å…¬çº¦æ•°"></a>1.æ±‚æœ€å¤§å…¬çº¦æ•°</h4><pre><code>æœ€å¤§å…¬çº¦æ•°ï¼šä¹Ÿç§°æœ€å¤§å…¬çº¦æ•°ã€æœ€å¤§å…¬å› å­ï¼ŒæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªæ•´æ•°å…±æœ‰çº¦æ•°ä¸­æœ€å¤§çš„ä¸€ä¸ªã€‚</code></pre><p>åœ¨å®é™…åšé¢˜æ—¶ï¼Œè¾—è½¬ç›¸é™¤æ³•(æ¬§å‡ é‡Œå¾—ç®—æ³•)æ˜¯æœ€å¤§å…¬çº¦æ•°çš„ä¸€ç§å¸¸ç”¨çš„æ±‚æ³•</p><p>ç”±äº(a,b)=(b,a%b)<br>èƒ½ä½¿ç”¨å¦‚ä¸‹ç®—æ³•è®¡ç®—æœ€å¤§å…¬çº¦æ•°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">gcd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a,<span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">return</span> b ? <span class="hljs-built_in">gcd</span>(b ,a % b) : a;<br><span class="hljs-comment">//0å’Œä»»ä½•æ•°çš„æœ€å¤§å…¬çº¦æ•°éƒ½æ˜¯å®ƒæœ¬èº«</span><br><span class="hljs-comment">//å¦‚æœbæ˜¯éé›¶ï¼Œå°±è¿”å›gcd(b ,a % b)</span><br>&#125;<br></code></pre></td></tr></table></figure><p>ä¾‹ï¼š<br>ç­‰å·®æ•°åˆ—<br>åŸé¢˜é“¾æ¥ï¼š<a href="https://www.acwing.com/problem/content/1248/">Acwing.1246</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><span class="hljs-keyword">int</span> q[N];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">gcd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">return</span> b ? <span class="hljs-built_in">gcd</span>(b, a % b) : a;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n;<br>cin &gt;&gt; n;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;q[i]);<br><br><span class="hljs-built_in">sort</span>(q, q + n);<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">å¦‚æœè¿™æ˜¯ä¸€ä¸ªç­‰å·®æ•°åˆ—ï¼Œå°†qæ•°ç»„æ’åºä¹‹åï¼Œä¸€å®šèƒ½å°†å„é¡¹è¡¨ç¤ºä¸º a+k1b a+k2b  ... a+knb </span><br><span class="hljs-comment"></span><br><span class="hljs-comment">é‚£ä¹ˆé¡¹æ•°å°±ä¸ºï¼ˆaæœ«-aåˆï¼‰/d + 1 </span><br><span class="hljs-comment">ä¸ºäº†ä½¿å¾—ä¸Šè¿°å¾—æ•°åˆ—æœ€çŸ­ï¼Œå°±éœ€è¦ä½¿(aæœ«-aåˆ)å°½å¯èƒ½åœ°å°ï¼Œdå°½å¯èƒ½åœ°å¤§</span><br><span class="hljs-comment">aæœ«çš„æœ€å°å€¼æ˜¯q[n-1]</span><br><span class="hljs-comment">aåˆçš„æœ€å¤§å€¼æ˜¯q[0]</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">dçš„æœ€å¤§å€¼æ˜¯å„é¡¹ä¸é¦–é¡¹çš„å·®çš„æœ€å¤§å…¬çº¦æ•°</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-keyword">int</span> d = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>d = <span class="hljs-built_in">gcd</span>(d, q[i]-q[<span class="hljs-number">0</span>]);<br><br><span class="hljs-keyword">if</span> (d == <span class="hljs-number">0</span>)<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,n);<br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,(q[n - <span class="hljs-number">1</span>] - q[<span class="hljs-number">0</span>]) / d + <span class="hljs-number">1</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ç­›æ³•æ±‚ç´ æ•°"><a href="#ç­›æ³•æ±‚ç´ æ•°" class="headerlink" title="ç­›æ³•æ±‚ç´ æ•°"></a>ç­›æ³•æ±‚ç´ æ•°</h4><pre><code>è´¨æ•°æ˜¯æŒ‡åœ¨å¤§äº1çš„è‡ªç„¶æ•°ä¸­ï¼Œé™¤äº†1å’Œå®ƒæœ¬èº«ä»¥å¤–ä¸å†æœ‰å…¶ä»–å› æ•°çš„è‡ªç„¶æ•°ã€‚</code></pre><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">int</span> prime[N],cnt; <span class="hljs-comment">//å­˜æ‰€æœ‰ç´ æ•°</span><br><span class="hljs-keyword">bool</span> st[N];  <span class="hljs-comment">//å½“å‰æ•°æœ‰æ²¡æœ‰è¢«ç­›è¿‡</span><br><span class="hljs-keyword">int</span> min[N];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">get_primes</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">2</span>;i &lt;= n;i ++)<br>&#123;<br><span class="hljs-keyword">if</span>(!st[i]) minp[i]=i,primes[cnt++]=i;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;primes[j]*i&lt;=n;j++)<br>&#123;<br>st[primes[j]*i]=<span class="hljs-literal">true</span>;<br>minp[primes[j]*i]=primes[j]<br><span class="hljs-keyword">if</span>(i%primes[j]==<span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="è´¨æ•°ä¸åˆæ•°"><a href="#è´¨æ•°ä¸åˆæ•°" class="headerlink" title="è´¨æ•°ä¸åˆæ•°"></a>è´¨æ•°ä¸åˆæ•°</h4><p>è´¨æ•°ä¸åˆæ•°æ˜¯é’ˆå¯¹ä»2å¼€å§‹çš„æ•´æ•°å®šä¹‰çš„</p><p>è´¨æ•°ï¼šåœ¨å¤§äº1çš„æ•´æ•°ä¸­ï¼Œå¦‚æœåªåŒ…å«1å’Œæœ¬èº«è¿™ä¸¤ä¸ªçº¦æ•°ï¼Œå°±è¢«æˆä¸ºè´¨æ•°æˆ–è€…å«ç´ æ•°<br>ï¼ˆ1ï¼‰ è´¨æ•°çš„åˆ¤å®šï¼šè¯•é™¤æ³•</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">is_prime</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">2</span>)  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n / i; i++)<br><span class="hljs-keyword">if</span> (n % i == <span class="hljs-number">0</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„ç‚¹ï¼š ä½¿ç”¨ i &lt;= n / i èƒ½åŠ å¿«å¤„ç†é€Ÿåº¦ï¼ŒåŒæ—¶é˜²æ­¢å‡ºç°æº¢å‡º</p><h4 id="åˆ†è§£è´¨å› æ•°"><a href="#åˆ†è§£è´¨å› æ•°" class="headerlink" title="åˆ†è§£è´¨å› æ•°"></a>åˆ†è§£è´¨å› æ•°</h4><p>è¯•é™¤æ³•</p>]]></content>
    
    
    <categories>
      
      <category>è“æ¡¥æ¯ç®—æ³•ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è“æ¡¥æ¯</tag>
      
      <tag>æ•°è®º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è“æ¡¥æ¯ç®—æ³•ç¬”è®°&lt;1&gt; äºŒåˆ†</title>
    <link href="/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-1-%E4%BA%8C%E5%88%86/"/>
    <url>/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-1-%E4%BA%8C%E5%88%86/</url>
    
    <content type="html"><![CDATA[<h1 id="äºŒåˆ†ç®—æ³•çš„ä¾‹é¢˜"><a href="#äºŒåˆ†ç®—æ³•çš„ä¾‹é¢˜" class="headerlink" title="äºŒåˆ†ç®—æ³•çš„ä¾‹é¢˜"></a>äºŒåˆ†ç®—æ³•çš„ä¾‹é¢˜</h1><hr><p>ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„é•¿åº¦ä¸ºnçš„æ•´æ•°æ•°ç»„ï¼Œä»¥åŠ q ä¸ªæŸ¥è¯¢ã€‚</p><p>å¯¹äºæ¯ä¸ªæŸ¥è¯¢ï¼Œè¿”å›ä¸€ä¸ªå…ƒç´ kçš„èµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ï¼ˆä½ç½®ä»0å¼€å§‹è®¡æ•°ï¼‰ã€‚</p><p>å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™è¿”å›â€œ-1 -1â€ã€‚</p><p>è¾“å…¥æ ¼å¼<br>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•°nå’Œqï¼Œè¡¨ç¤ºæ•°ç»„é•¿åº¦å’Œè¯¢é—®ä¸ªæ•°ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å«nä¸ªæ•´æ•°ï¼ˆå‡åœ¨1~10000èŒƒå›´å†…ï¼‰ï¼Œè¡¨ç¤ºå®Œæ•´æ•°ç»„ã€‚</p><p>æ¥ä¸‹æ¥qè¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°kï¼Œè¡¨ç¤ºä¸€ä¸ªè¯¢é—®å…ƒç´ ã€‚</p><p>è¾“å‡ºæ ¼å¼<br>å…±qè¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€æ±‚å…ƒç´ çš„èµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ã€‚</p><p>å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™è¿”å›â€œ-1 -1â€ã€‚</p><p>æ•°æ®èŒƒå›´<br>1â‰¤nâ‰¤100000<br>1â‰¤qâ‰¤10000<br>1â‰¤kâ‰¤10000<br>è¾“å…¥æ ·ä¾‹ï¼š<br>6 3<br>1 2 2 3 3 4<br>3<br>4<br>5<br>è¾“å‡ºæ ·ä¾‹ï¼š<br>3 4<br>5 5<br>-1 -1</p><hr><p>äºŒåˆ†æ˜¯ä¸€ä¸ªåŸºç¡€ç®—æ³•ï¼Œä½†æ˜¯å¦‚æœæŒæ¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“å†™å‡ºå„ç§å„æ ·çš„æ­»å¾ªç¯<br>è¿™é“é¢˜æ˜¯äºŒåˆ†ç®—æ³•çš„ä¸€ä¸ªæ¨¡æ¿é¢˜<br>æˆ‘çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs perl"><span class="hljs-comment">#include&lt;cstdio&gt;</span><br><span class="hljs-comment">#include&lt;iostream&gt;</span><br>using namespace std;<br>const <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><br><span class="hljs-keyword">int</span> <span class="hljs-string">q[N]</span>;<br><br><span class="hljs-keyword">int</span> main()<br>&#123;<br><br><span class="hljs-keyword">int</span> n, m;<br>cin &gt;&gt; n &gt;&gt; m;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br>scanf(<span class="hljs-string">&quot;%d&quot;</span>, &amp;<span class="hljs-string">q[i]</span>);<br>&#125;<br><br><span class="hljs-keyword">int</span> input;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++)<br>&#123;<br>cin &gt;&gt; input;<br><br><span class="hljs-regexp">/*å¼€å§‹å¯¹å·¦ç«¯ç‚¹è¿›è¡ŒäºŒåˆ†*/</span><br><span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = n - <span class="hljs-number">1</span>;<br><span class="hljs-keyword">int</span> mid;<br><span class="hljs-keyword">while</span> (l &lt; r)<br>&#123;<br>mid = (l + r) / <span class="hljs-number">2</span>;<br><br><span class="hljs-keyword">if</span> (<span class="hljs-string">q[mid]</span> &lt; input)<br>l = mid+<span class="hljs-number">1</span>;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">q[mid]</span> &gt;= input)<br>r = mid;<br>&#125;<br><br><span class="hljs-keyword">if</span> (input == <span class="hljs-string">q[l]</span>)<br>cout &lt;&lt; l &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br><span class="hljs-keyword">else</span><br>cout &lt;&lt; <span class="hljs-string">&quot;-1 &quot;</span>;<br><br><span class="hljs-regexp">/*å¼€å§‹å¯¹å³ç«¯ç‚¹è¿›è¡ŒäºŒåˆ†*/</span><br>l = <span class="hljs-number">0</span>, r = n - <span class="hljs-number">1</span>;<br><span class="hljs-keyword">while</span> (l &lt; r)<br>&#123;<br>mid = (l + r + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>;<br><br><span class="hljs-keyword">if</span> (<span class="hljs-string">q[mid]</span> &lt;= input)<br>l = mid;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">q[mid]</span> &gt; input)<br>r = mid-<span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-keyword">if</span> (input == <span class="hljs-string">q[r]</span>)<br>cout &lt;&lt; r &lt;&lt; endl;<br><span class="hljs-keyword">else</span><br>cout &lt;&lt; <span class="hljs-string">&quot;-1&quot;</span> &lt;&lt; endl;<br><br><br>&#125;<br><br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é“é¢˜ä½“ç°äº†äºŒåˆ†ç®—æ³•ä¸­ä¸¤ä¸ªéœ€è¦ç‰¹åˆ«æ³¨æ„çš„åœ°æ–¹</p><h3 id="1-è¿›å…¥whileå¾ªç¯æ—¶ï¼Œmidèµ‹å€¼ä¸º-l-r-2-è¿˜æ˜¯-l-r-1-2-ï¼ˆå³é€‰å–äºŒåˆ†midæ—¶ï¼Œåˆ°åº•æ—¶å‘ä¸Šå–æ•´è¿˜æ˜¯å‘ä¸‹å–æ•´çš„é—®é¢˜ï¼‰"><a href="#1-è¿›å…¥whileå¾ªç¯æ—¶ï¼Œmidèµ‹å€¼ä¸º-l-r-2-è¿˜æ˜¯-l-r-1-2-ï¼ˆå³é€‰å–äºŒåˆ†midæ—¶ï¼Œåˆ°åº•æ—¶å‘ä¸Šå–æ•´è¿˜æ˜¯å‘ä¸‹å–æ•´çš„é—®é¢˜ï¼‰" class="headerlink" title="1.è¿›å…¥whileå¾ªç¯æ—¶ï¼Œmidèµ‹å€¼ä¸º (l+r)/2 è¿˜æ˜¯ (l+r+1)/2   ï¼ˆå³é€‰å–äºŒåˆ†midæ—¶ï¼Œåˆ°åº•æ—¶å‘ä¸Šå–æ•´è¿˜æ˜¯å‘ä¸‹å–æ•´çš„é—®é¢˜ï¼‰"></a>1.è¿›å…¥whileå¾ªç¯æ—¶ï¼Œmidèµ‹å€¼ä¸º <strong>(l+r)/2</strong> è¿˜æ˜¯ <strong>(l+r+1)/2</strong>   ï¼ˆå³é€‰å–äºŒåˆ†midæ—¶ï¼Œåˆ°åº•æ—¶å‘ä¸Šå–æ•´è¿˜æ˜¯å‘ä¸‹å–æ•´çš„é—®é¢˜ï¼‰</h3><h3 id="2-ç”±äºäºŒåˆ†çš„åŒºé—´æ˜¯é—­åŒºé—´ï¼Œæ‰€ä»¥åœ¨åˆ’åˆ†åŒºé—´çš„æ—¶å€™å¯ä»¥åˆ’åˆ†ä¸º-l-mid-mid-1-r-æˆ–è€…-l-mid-1-mid-r"><a href="#2-ç”±äºäºŒåˆ†çš„åŒºé—´æ˜¯é—­åŒºé—´ï¼Œæ‰€ä»¥åœ¨åˆ’åˆ†åŒºé—´çš„æ—¶å€™å¯ä»¥åˆ’åˆ†ä¸º-l-mid-mid-1-r-æˆ–è€…-l-mid-1-mid-r" class="headerlink" title="2.ç”±äºäºŒåˆ†çš„åŒºé—´æ˜¯é—­åŒºé—´ï¼Œæ‰€ä»¥åœ¨åˆ’åˆ†åŒºé—´çš„æ—¶å€™å¯ä»¥åˆ’åˆ†ä¸º[l,mid][mid+1,r]æˆ–è€…[l,mid-1] [mid,r]"></a>2.ç”±äºäºŒåˆ†çš„åŒºé—´æ˜¯é—­åŒºé—´ï¼Œæ‰€ä»¥åœ¨åˆ’åˆ†åŒºé—´çš„æ—¶å€™å¯ä»¥åˆ’åˆ†ä¸º[l,mid][mid+1,r]æˆ–è€…[l,mid-1] [mid,r]</h3><hr><p>1.è®¾æƒ³æ•°ç»„ä¸­åªæœ‰1å’Œ2  æ­¤æ—¶l=0ï¼Œr=1ï¼Œè‹¥ä½¿ç”¨å‘ä¸Šå–æ•´ï¼Œåˆ™mid=1ï¼Œè‹¥ä½¿ç”¨å‘ä¸‹å–æ•´ï¼Œmid=0<br>å¦‚æœå¸Œæœ›é€šè¿‡äºŒåˆ†è·å–å…ƒç´ 1çš„ä¸‹æ ‡ï¼Œå°±å¿…é¡»è¦ä½¿mid=0ï¼Œè¿™æ ·æ‰èƒ½è®©rèµ‹å€¼ä¸ºmidï¼Œä»è€Œé¿å…æ­»å¾ªç¯</p><p>åŒç†å¦‚æœå¸Œæœ›é€šè¿‡äºŒåˆ†è·å–å…ƒç´ 2çš„ä¸‹æ ‡ï¼Œå°±å¿…é¡»è¦mid=1</p><p>æ€»ç»“ä¸‹æ¥ï¼Œå¦‚æœå¸Œæœ›å¾—åˆ°çš„ä¸‹æ ‡æ˜¯å·¦åŒºé—´çš„å³ç«¯ç‚¹ï¼Œå°±éœ€è¦ä½¿ç”¨mid=(l+r+1)å‘ä¸Šå–æ•´<br>å¦‚æœå¸Œæœ›å¾—åˆ°çš„æ˜¯å³åŒºé—´çš„å·¦ç«¯ç‚¹ï¼Œå°±éœ€è¦ä½¿ç”¨mid=(l+r)/2è¿›è¡Œå‘ä¸‹å–æ•´ </p><hr><p>2.å¦‚æœå¸Œæœ›è·å–çš„æ˜¯å·¦åŒºé—´çš„å³ç«¯ç‚¹ï¼Œå°±éœ€è¦åœ¨åˆ’åˆ†åŒºé—´æ—¶åˆ’åˆ†ä¸º[l,mid] å’Œ[mid+1,r]<br>  å¦‚æœå¸Œæœ›è·å–çš„æ˜¯å³åŒºé—´çš„å·¦ç«¯ç‚¹ï¼Œå°±éœ€è¦åˆ’åˆ†ä¸º[l,mid-1]å’Œ[mid,r]</p>]]></content>
    
    
    <categories>
      
      <category>è“æ¡¥æ¯ç®—æ³•ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è“æ¡¥æ¯</tag>
      
      <tag>äºŒåˆ†</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è“æ¡¥æ¯ç®—æ³•ç¬”è®°&lt;2&gt; å‰ç¼€å’Œ</title>
    <link href="/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-2-%E5%89%8D%E7%BC%80%E5%92%8C/"/>
    <url>/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-2-%E5%89%8D%E7%BC%80%E5%92%8C/</url>
    
    <content type="html"><![CDATA[<h1 id="kå€åŒºé—´"><a href="#kå€åŒºé—´" class="headerlink" title="kå€åŒºé—´"></a>kå€åŒºé—´</h1><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º N çš„æ•°åˆ—ï¼ŒA1,A2,â€¦ANï¼Œå¦‚æœå…¶ä¸­ä¸€æ®µè¿ç»­çš„å­åºåˆ— Ai,Ai+1,â€¦Aj ä¹‹å’Œæ˜¯ K çš„å€æ•°ï¼Œæˆ‘ä»¬å°±ç§°è¿™ä¸ªåŒºé—´ [i,j] æ˜¯ K å€åŒºé—´ã€‚</p><p>ä½ èƒ½æ±‚å‡ºæ•°åˆ—ä¸­æ€»å…±æœ‰å¤šå°‘ä¸ª K å€åŒºé—´å—ï¼Ÿ</p><p>è¾“å…¥æ ¼å¼<br>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° N å’Œ Kã€‚</p><p>ä»¥ä¸‹ N è¡Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° Aiã€‚</p><p>è¾“å‡ºæ ¼å¼<br>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨ K å€åŒºé—´çš„æ•°ç›®ã€‚</p><p>æ•°æ®èŒƒå›´<br>1â‰¤N,Kâ‰¤100000,<br>1â‰¤Aiâ‰¤100000<br>è¾“å…¥æ ·ä¾‹ï¼š<br>5 2<br>1<br>2<br>3<br>4<br>5<br>è¾“å‡ºæ ·ä¾‹ï¼š<br>6</p><p>é¦–å…ˆè€ƒè™‘æš´åŠ›ç®—æ³•,æšä¸¾æ‰€æœ‰çš„åŒºé—´ï¼Œå¹¶ç»Ÿè®¡ç¬¦åˆè¦æ±‚çš„åŒºé—´æ•°é‡</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><span class="hljs-keyword">int</span> q[N];<br><span class="hljs-keyword">int</span> cnt;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n, k;<br>cin &gt;&gt; n &gt;&gt; k;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;q[i]);<br><br><span class="hljs-comment">/*æš´åŠ›åšæ³•*/</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)  <span class="hljs-comment">//iä¸ºåŒºé—´çš„å³ç«¯ç‚¹</span><br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= i; j++) <span class="hljs-comment">//jä¸ºåŒºé—´çš„å·¦ç«¯ç‚¹</span><br>&#123;<br><span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> y = j; y &lt;= i; y++)<br>&#123;<br>sum += q[y];<br>&#125;<br><span class="hljs-keyword">if</span> (sum % k == <span class="hljs-number">0</span>)<br>cnt++;<br>&#125;<br>&#125;<br><br>cout &lt;&lt; cnt;<br>&#125;<br><br><br></code></pre></td></tr></table></figure><p>å¾ˆæ˜¾ç„¶ï¼Œä¸Šé¢çš„åšæ³•ä¼šè¶…æ—¶ï¼Œåªèƒ½å¾—åˆ°å°‘éƒ¨åˆ†åˆ†æ•°ï¼Œéœ€è¦è¿›è¡Œä¼˜åŒ–<br>åœ¨ä¸Šé¢çš„ç®—æ³•ä¸­ï¼Œä½¿ç”¨åˆ°äº†åŒºé—´çš„å’Œï¼Œæ‰€ä»¥è€ƒè™‘ä½¿ç”¨å‰ç¼€å’Œè¿›è¡Œä¼˜åŒ–<br>åœ¨ä½¿ç”¨å‰ç¼€å’Œçš„è¿‡ç¨‹ä¸­æœ‰ä¸¤ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹<br>1.éœ€è¦æ³¨æ„ s[n]=s[n-1]+q[n]æ—¶å¯èƒ½å‡ºç°æ•°ç»„è¶Šç•Œï¼Œæ•…è¦ä»1å¼€å§‹è¿›è¡Œå¾ªç¯<br>2.å‰ç¼€å’Œæ•°ç»„å¯èƒ½å¾ˆå¤§ä»¥è‡³äºçˆ†intï¼Œæ•…ä½¿ç”¨long long è¿›è¡Œå­˜å‚¨æ›´ä¸ºç¨³å¦¥</p><p>ä»£ç å¦‚ä¸‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><span class="hljs-keyword">int</span> q[N];<br><span class="hljs-keyword">int</span> s[N];<br><span class="hljs-keyword">int</span> cnt;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n, k;<br>cin &gt;&gt; n &gt;&gt; k;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;q[i]);<br><br><span class="hljs-comment">/*å‰ç¼€å’Œåˆå§‹åŒ–*/</span>  <br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>s[i] = s[i - <span class="hljs-number">1</span>] + q[i];<br><br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)  <span class="hljs-comment">//iä¸ºåŒºé—´çš„å³ç«¯ç‚¹</span><br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= i; j++) <span class="hljs-comment">//jä¸ºåŒºé—´çš„å·¦ç«¯ç‚¹</span><br>&#123;<br><br><span class="hljs-comment">/*ä½¿ç”¨å‰ç¼€å’Œè¿›è¡Œä¼˜åŒ–*/</span><br><span class="hljs-keyword">int</span> sum = s[i] - s[j - <span class="hljs-number">1</span>];<br><span class="hljs-keyword">if</span> (sum % k == <span class="hljs-number">0</span>)<br>cnt++;<br>&#125;<br>&#125;<br><br>cout &lt;&lt; cnt;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨ä½¿ç”¨å‰ç¼€å’Œè¿›è¡Œä¼˜åŒ–ä¹‹åï¼Œæ—¶é—´å¤æ‚åº¦ä¾ç„¶åé«˜ï¼Œéœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–<br>è§‚å¯Ÿä¸‹é¢çš„è¿™é‡å¾ªç¯</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= i; j++) <span class="hljs-comment">//jä¸ºåŒºé—´çš„å·¦ç«¯ç‚¹</span><br> &#123;<br><br><span class="hljs-comment">/*ä½¿ç”¨å‰ç¼€å’Œè¿›è¡Œä¼˜åŒ–*/</span><br><span class="hljs-keyword">int</span> sum = s[i] - s[j - <span class="hljs-number">1</span>];<br><span class="hljs-keyword">if</span> (sum % k == <span class="hljs-number">0</span>)<br>cnt++;<br> &#125;<br></code></pre></td></tr></table></figure><p>å…¶å®è´¨æ˜¯åœ¨å¯»æ‰¾ å¯¹äºæ¯ä¸ªå›ºå®šçš„å³ç«¯ç‚¹iï¼Œåœ¨s[0]åˆ°s[i-1]ä¸­ï¼Œæœ‰å¤šå°‘ä¸ªæ•°ä¸kçš„æ¨¡ä¸s[i]%kç›¸ç­‰<br>æ‰€ä»¥å¯ä»¥è€ƒè™‘å¼€ä¸€ä¸ªæ•°ç»„cnt[N]ç”¨äºå­˜å‚¨s[0]åˆ°s[i-1]ä¸­ï¼Œå¯¹åº”ä½™æ•°çš„æ•°é‡<br>ä¼˜åŒ–åçš„ä»£ç å¦‚ä¸‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span>  q[N];<br><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span>  s[N];<br><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> cnt[N]; <br><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span>  res;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n, k;<br>cin &gt;&gt; n &gt;&gt; k;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;q[i]);<br><br><span class="hljs-comment">/*å‰ç¼€å’Œåˆå§‹åŒ–*/</span>  <br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>s[i] = s[i - <span class="hljs-number">1</span>] + q[i];<br><br><span class="hljs-comment">//ç”±äºs[0]%k==0,æ‰€ä»¥åœ¨å¾ªç¯ä¹‹å‰cnt[0]å·²ç»æœ‰ä¸€ä¸ªæ•°s[0]äº†ï¼Œæ‰€ä»¥å°†cnt[0]ç½®ä¸º1</span><br>cnt[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)  <span class="hljs-comment">//iä¸ºåŒºé—´çš„å³ç«¯ç‚¹</span><br>&#123;<br><span class="hljs-comment">/*è¿™ä¸€é‡å¾ªç¯çš„ä½œç”¨å³å¯»æ‰¾åŒºé—´s[0]åˆ°s[i-1]ä¸­æœ‰å¤šå°‘æ•°é™¤ä»¥kçš„ä½™æ•°ä¸s[i]ç›¸åŒ*/</span><br>res += cnt[s[i]%k];<br>cnt[s[i] % k]++;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">for (int j = 1; j &lt;= i; j++) //jä¸ºåŒºé—´çš„å·¦ç«¯ç‚¹</span><br><span class="hljs-comment">&#123;</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">int sum = s[i] - s[j - 1];</span><br><span class="hljs-comment">if (sum % k == 0)</span><br><span class="hljs-comment">res++;</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">*/</span><br>&#125;<br><br>cout &lt;&lt; res;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„æœ€åä¸€æ¬¡ä¼˜åŒ–ï¼Œè„±ç¦»äº†è§£é¢˜çš„æ€è·¯æœ¬èº«ï¼Œç›´æ¥ä½¿ç”¨äº†æ•ˆæœç›¸åŒä½†æ˜¯æ—¶é—´å¤æ‚åº¦æ›´ä½çš„ä»£ç è¿›è¡Œæ›¿æ¢ã€‚è¿™ç§ä¼˜åŒ–æ€è·¯éå¸¸èµ</p><p>å¦å¤–ï¼Œç®—æ³•é¢˜å¾€å¾€æœ‰æ­¥éª¤åˆ†ï¼Œæ‰€ä»¥ä¸ä¸€å®šè¦è¿½æ±‚æ»¡åˆ†ï¼Œåœ¨å¤§æ–¹å‘ä¸å‡ºé”™çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ›´å¤šçš„ä¼˜åŒ–æ–¹å¼è¿›è¡Œä¼˜åŒ–ï¼Œè¿™æ ·å¯ä»¥å°½å¯èƒ½åœ°æé«˜å•é¢˜çš„å¾—åˆ†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>è“æ¡¥æ¯ç®—æ³•ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è“æ¡¥æ¯</tag>
      
      <tag>å‰ç¼€å’Œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è“æ¡¥æ¯ç®—æ³•ç¬”è®°&lt;3&gt; æ¨¡æ‹Ÿ</title>
    <link href="/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-3-%E6%A8%A1%E6%8B%9F/"/>
    <url>/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-3-%E6%A8%A1%E6%8B%9F/</url>
    
    <content type="html"><![CDATA[<p>å…ˆå¼•å…¥ä¸€ä¸ªä¾‹é¢˜ï¼š</p><h3 id="Acwing-1210"><a href="#Acwing-1210" class="headerlink" title="Acwing 1210."></a>Acwing 1210.</h3><h2 id="è¿å·åŒºé—´æ•°"><a href="#è¿å·åŒºé—´æ•°" class="headerlink" title="è¿å·åŒºé—´æ•°"></a>è¿å·åŒºé—´æ•°</h2><p>å°æ˜è¿™äº›å¤©ä¸€ç›´åœ¨æ€è€ƒè¿™æ ·ä¸€ä¸ªå¥‡æ€ªè€Œæœ‰è¶£çš„é—®é¢˜ï¼š</p><p>åœ¨ 1âˆ¼N çš„æŸä¸ªæ’åˆ—ä¸­æœ‰å¤šå°‘ä¸ªè¿å·åŒºé—´å‘¢ï¼Ÿ</p><p>è¿™é‡Œæ‰€è¯´çš„è¿å·åŒºé—´çš„å®šä¹‰æ˜¯ï¼š</p><p>å¦‚æœåŒºé—´ [L,R] é‡Œçš„æ‰€æœ‰å…ƒç´ ï¼ˆå³æ­¤æ’åˆ—çš„ç¬¬ L ä¸ªåˆ°ç¬¬ R ä¸ªå…ƒç´ ï¼‰é€’å¢æ’åºåèƒ½å¾—åˆ°ä¸€ä¸ªé•¿åº¦ä¸º Râˆ’L+1 çš„â€œè¿ç»­â€æ•°åˆ—ï¼Œåˆ™ç§°è¿™ä¸ªåŒºé—´è¿å·åŒºé—´ã€‚</p><p>å½“ N å¾ˆå°çš„æ—¶å€™ï¼Œå°æ˜å¯ä»¥å¾ˆå¿«åœ°ç®—å‡ºç­”æ¡ˆï¼Œä½†æ˜¯å½“ N å˜å¤§çš„æ—¶å€™ï¼Œé—®é¢˜å°±ä¸æ˜¯é‚£ä¹ˆç®€å•äº†ï¼Œç°åœ¨å°æ˜éœ€è¦ä½ çš„å¸®åŠ©ã€‚</p><p>è¾“å…¥æ ¼å¼<br>ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•° Nï¼Œè¡¨ç¤ºæ’åˆ—çš„è§„æ¨¡ã€‚</p><p>ç¬¬äºŒè¡Œæ˜¯ N ä¸ªä¸åŒçš„æ•°å­— Piï¼Œè¡¨ç¤ºè¿™ N ä¸ªæ•°å­—çš„æŸä¸€æ’åˆ—ã€‚</p><p>è¾“å‡ºæ ¼å¼<br>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä¸åŒè¿å·åŒºé—´çš„æ•°ç›®ã€‚</p><p>æ•°æ®èŒƒå›´<br>1â‰¤Nâ‰¤10000,<br>1â‰¤Piâ‰¤N<br>è¾“å…¥æ ·ä¾‹1ï¼š<br>4<br>3 2 4 1<br>è¾“å‡ºæ ·ä¾‹1ï¼š<br>7<br>è¾“å…¥æ ·ä¾‹2ï¼š<br>5<br>3 4 2 5 1<br>è¾“å‡ºæ ·ä¾‹2ï¼š<br>9<br>æ ·ä¾‹è§£é‡Š<br>ç¬¬ä¸€ä¸ªç”¨ä¾‹ä¸­ï¼Œæœ‰ 7 ä¸ªè¿å·åŒºé—´åˆ†åˆ«æ˜¯ï¼š[1,1],[1,2],[1,3],[1,4],[2,2],[3,3],[4,4]<br>ç¬¬äºŒä¸ªç”¨ä¾‹ä¸­ï¼Œæœ‰ 9 ä¸ªè¿å·åŒºé—´åˆ†åˆ«æ˜¯ï¼š[1,1],[1,2],[1,3],[1,4],[1,5],[2,2],[3,3],[4,4],[5,5]</p><p>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆæƒ³åˆ°äº†æš´åŠ›ç®—æ³•ï¼Œå³æšä¸¾æ¯ä¸€ä¸ªåŒºé—´ï¼Œç„¶åå†ä½¿ç”¨ä¸€é‡å¾ªç¯å¯¹åŒºé—´è¿›è¡Œéå†ï¼Œå¦‚æœåŒºé—´æ»¡è¶³è¿å·æ¡ä»¶ï¼Œå°±å°†cnt++<br>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">10010</span>;<br><span class="hljs-keyword">int</span> q[N];<br><span class="hljs-keyword">int</span> temp[N];<br><span class="hljs-keyword">int</span> cnt;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n;<br>cin &gt;&gt; n;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>cin &gt;&gt; q[i];<br><br><span class="hljs-comment">/*åˆå§‹çš„æš´åŠ›åšæ³•*/</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i; j &lt; n; j++)<span class="hljs-comment">//å¯¹åŒºé—´è¿›è¡Œæšä¸¾</span><br>&#123;<br><span class="hljs-built_in">memcpy</span>(temp, q, <span class="hljs-built_in"><span class="hljs-keyword">sizeof</span></span>(q));<br><span class="hljs-built_in">sort</span>(&amp;temp[i], &amp;temp[j+<span class="hljs-number">1</span>]);<br><span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> v = i; v &lt; j; v++)<br>&#123;<br><span class="hljs-keyword">if</span> (temp[v + <span class="hljs-number">1</span>] - temp[v] != <span class="hljs-number">1</span>)<br>flag = <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-keyword">if</span> (flag == <span class="hljs-literal">true</span>)<br>cnt++;<br><br><br><span class="hljs-built_in">memset</span>(temp, <span class="hljs-number">0</span>, <span class="hljs-built_in"><span class="hljs-keyword">sizeof</span></span>(temp));<br>&#125;<br>&#125;<br><br>cout &lt;&lt; cnt&lt;&lt;endl;<br><br></code></pre></td></tr></table></figure><p>ä½†æ˜¯å¾ˆé—æ†¾ï¼Œè¿™ç§æœ€åŸºç¡€çš„æš´åŠ›ç®—æ³•æ—¶é—´å¤æ‚åº¦è¿‡é«˜äº†<br>æ•…éœ€è¦å¯¹è¿™ç§ç®—æ³•è¿›è¡Œä¼˜åŒ–</p><p>é¢˜ç›®ä¸­è¯´åˆ°ï¼š<br>ç¬¬äºŒè¡Œæ˜¯ N ä¸ªä¸åŒçš„æ•°å­— Piï¼Œè¡¨ç¤ºè¿™ N ä¸ªæ•°å­—çš„<strong>æŸä¸€æ’åˆ—</strong>ã€‚</p><p>æ³¨æ„åˆ°é¢˜ç›®ä¸­ç»™å‡ºçš„æ•°æ®æ˜¯ä¸€ä¸ª<strong>æ’åˆ—</strong>ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰é‡å¤çš„æ•°å­—</p><p>æ‰€ä»¥å¯¹äºæ¯ä¸€ä¸ªæšä¸¾å‡ºæ¥çš„åŒºé—´*q[i] åˆ° q[j]*ï¼Œå¦‚æœè¿™ä¸ªåŒºé—´æ˜¯è¿å·çš„ï¼Œå°±ä¸€å®šæ»¡è¶³:<br>*j - i = åŒºé—´ä¸­çš„æœ€å¤§å€¼ - åŒºé—´ä¸­çš„æœ€å°å€¼ *</p><p>è¿™æ ·å°±èƒ½å¾—åˆ°å¦‚ä¸‹çš„ä»£ç </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">10010</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">1000000</span>;<br><span class="hljs-keyword">int</span> q[N];<br><br><span class="hljs-keyword">int</span> cnt;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n;<br>cin &gt;&gt; n;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>cin &gt;&gt; q[i];<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br><span class="hljs-keyword">int</span> q_max =<span class="hljs-number">-1</span>*INF,q_min=INF;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i; j &lt; n; j++)<br>&#123;<br>q_max = <span class="hljs-built_in">max</span>(q_max, q[j]);<br>q_min = <span class="hljs-built_in">min</span>(q_min, q[j]);<br><br><span class="hljs-keyword">if</span> (q_max - q_min  == j - i)<br>cnt++;<br>&#125;<br>&#125;<br>cout &lt;&lt; cnt;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ ·ä¸€æ¥ï¼Œæ—¶é—´å¤æ‚åº¦å°±é™ä½åˆ°äº†èƒ½å¤Ÿæ¥å—çš„ç¨‹åº¦</p><hr><h3 id="æ€»ç»“ï¼š-æ— å·§ä¸æˆé¢˜"><a href="#æ€»ç»“ï¼š-æ— å·§ä¸æˆé¢˜" class="headerlink" title="æ€»ç»“ï¼š æ— å·§ä¸æˆé¢˜"></a>æ€»ç»“ï¼š æ— å·§ä¸æˆé¢˜</h3><p>è¿™é“é¢˜ç›®å‘Šè¯‰æˆ‘ä»¬ï¼Œå†å†™ç®—æ³•é¢˜æ—¶ï¼Œå¯ä»¥é€šè¿‡é¢˜ç›®ç»™å‡ºçš„ä¸€äº›éšè—çš„å·²çŸ¥æ¡ä»¶ï¼Œæ¥æ”¹å˜åˆ¤æ–­æ–¹å¼æ¥ä¼˜åŒ–ç®—æ³•ï¼Œä»è€Œè¾¾åˆ°é™ä½æ—¶é—´å¤æ‚åº¦çš„ç›®çš„ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>è“æ¡¥æ¯ç®—æ³•ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è“æ¡¥æ¯</tag>
      
      <tag>æ¨¡æ‹Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è“æ¡¥æ¯ç®—æ³•ç¬”è®°&lt;4&gt; å›¾çš„å­˜å‚¨</title>
    <link href="/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-4-%E5%9B%BE%E7%9A%84%E5%AD%98%E5%82%A8/"/>
    <url>/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-4-%E5%9B%BE%E7%9A%84%E5%AD%98%E5%82%A8/</url>
    
    <content type="html"><![CDATA[<p>å›¾çš„å­˜å‚¨æœ‰å¤šç§æ–¹å¼ï¼Œå¯¹äºç¨€ç–å›¾ï¼Œå¯ä»¥ç”¨é‚»æ¥è¡¨æ¥å­˜å‚¨ï¼Œå¯¹äºç¨ å¯†å›¾ï¼Œå¯ä»¥ç”¨é‚»æ¥çŸ©é˜µå­˜å‚¨<br>åœ¨å®é™…çš„è€ƒè¯•ä¸­ï¼Œä½¿ç”¨vectorï¼ˆåŠ¨æ€æ•°ç»„ï¼‰èƒ½ååˆ†ä¾¿æ·åœ°å­˜å‚¨ç¨€ç–å›¾<br>ä¾‹é¢˜ï¼š<br>ç¬¬å››å±Šè“æ¡¥æ¯Aç»„çœŸé¢˜ï¼šå¤§è‡£çš„æ—…è´¹<br>é¢˜ç›®é“¾æ¥ï¼š<br><a href="https://www.acwing.com/problem/content/description/1209/">https://www.acwing.com/problem/content/description/1209/</a></p><p>è¿™é¢˜ä¸­ï¼Œéœ€è¦å­˜å‚¨èŠ‚ç‚¹æ•°é‡è¾ƒå¤§ï¼Œ å±äºç¨€ç–å›¾<br>éœ€è¦ä½¿ç”¨vectorå­˜å›¾åï¼Œæ‰¾åˆ°å›¾çš„ç›´å¾„</p><p>é—«è€æ¿åœ¨ç›¸å…³è®²è§£ä¸­ï¼Œæåˆ°äº†å¦‚ä¸‹å‡ ç‚¹ï¼š</p><ul><li><p>1.å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ ,ç¬¬ä¸€ä¸ªç‚¹æ˜¯ç¼–å·,ç¬¬äºŒä¸ªæ˜¯é•¿åº¦ï¼Œè¿™ä¸ªç»“æ„ä½“ç”¨äºå­˜å‚¨æ¯ä¸€æ¡è¾¹</p><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs objectivec"><span class="hljs-keyword">struct</span> Edge&#123; <br>    <span class="hljs-keyword">int</span> <span class="hljs-keyword">id</span>,w;<br>&#125;;<br></code></pre></td></tr></table></figure></li><li><p>2.å¼€Nä¸ªç±»å‹ä¸ºEdgeçš„vectorï¼Œç”¨äºå­˜å›¾ï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">vector&lt;Edge&gt; h[N];<br></code></pre></td></tr></table></figure></li><li><p>3.ç”±äºæ˜¯æ— å‘å›¾ï¼Œå¯¹äºæ¯ä¸€æ¡è¾“å…¥ï¼Œéœ€è¦æ·»åŠ a-&gt;bå’Œb-&gt;aä¸¤æ¡è¾¹ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„vectorä¸­ï¼Œpush_back()çš„ä½¿ç”¨</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-tag">for</span>(int i=<span class="hljs-number">0</span>;i&lt;n-<span class="hljs-number">1</span>;i++)<br>   &#123;<br>       <span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">a</span>,<span class="hljs-selector-tag">b</span>,<span class="hljs-selector-tag">c</span>;<br>       <span class="hljs-selector-tag">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>,&amp;a,&amp;b,&amp;c);<br>       <span class="hljs-selector-tag">h</span><span class="hljs-selector-attr">[a]</span><span class="hljs-selector-class">.push_back</span>(&#123;<span class="hljs-selector-tag">b</span>,<span class="hljs-selector-tag">c</span>&#125;);<br>       <span class="hljs-selector-tag">h</span><span class="hljs-selector-attr">[b]</span><span class="hljs-selector-class">.push_back</span>(&#123;<span class="hljs-selector-tag">a</span>,<span class="hljs-selector-tag">c</span>&#125;);<br>   &#125;<br></code></pre></td></tr></table></figure></li><li><p>å…³äºvectorçš„éå†æ–¹å¼ï¼š<br> C11å¼•å…¥äº†ä¸€ç§æ–°çš„éå†æ–¹å¼ï¼š</p> <figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs glsl"> <span class="hljs-type">void</span> dfs(<span class="hljs-type">int</span> u,<span class="hljs-type">int</span> father,<span class="hljs-type">int</span> <span class="hljs-built_in">distance</span>)<br> &#123;<br>  dist[u]=<span class="hljs-built_in">distance</span>;<br>  <span class="hljs-keyword">for</span>(auto node :h[u])  <span class="hljs-comment">//C11æ–°çš„éå†æ–¹å¼</span><br>  &#123;<br>      <span class="hljs-keyword">if</span>(node.id!=father)<br>      &#123;      <br>            dfs(node.id,u,<span class="hljs-built_in">distance</span>+node.w);<br>  <br>      &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>è“æ¡¥æ¯ç®—æ³•ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è“æ¡¥æ¯</tag>
      
      <tag>å›¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è“æ¡¥æ¯ç®—æ³•ç¬”è®°&lt;5&gt; è´ªå¿ƒåŸºç¡€</title>
    <link href="/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-5-%E8%B4%AA%E5%BF%83%E5%9F%BA%E7%A1%80/"/>
    <url>/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-5-%E8%B4%AA%E5%BF%83%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<p>è´ªå¿ƒçš„æ€æƒ³å³åœ¨æ¯ä¸€æ­¥ä¸­ï¼Œé‡‡å–æŸç§çŸ­è§†çš„åšæ³•è¾¾åˆ°å±€éƒ¨æœ€ä¼˜è§£ï¼Œåœ¨å®Œæˆæ‰€æœ‰æ­¥éª¤åï¼Œå°±è¾¾åˆ°äº†å…¨å±€çš„æœ€ä¼˜è§£ã€‚<br>è¿™ç§ç®—æ³•å±äºè¾ƒéš¾çš„ä¸€ç§ï¼Œæ—¢æ²¡æœ‰å›ºå®šçš„å¥—è·¯/æ¨¡æ¿ï¼Œè€Œä¸”æŸäº›è´ªå¿ƒé—®é¢˜ä¹Ÿæ¯”è¾ƒéš¾ä»¥è¯æ˜ï¼Œåœ¨å®é™…åšé¢˜æ—¶ï¼Œéœ€è¦å¤šç§¯ç´¯ä¸€äº›è´ªå¿ƒæ¨¡å‹ï¼Œé‡åˆ°å®é™…çš„é—®é¢˜æ—¶ï¼Œå°½é‡å¾€å·²ç»æ”¶æ‚‰çš„æ¨¡å‹ä¸Šé ï¼Œè¿™æ ·èƒ½é™ä½ä¸€äº›è§£é¢˜éš¾åº¦ã€‚</p><hr><p>ä¾‹é¢˜1ï¼šè‚¡ç¥¨ä¹°å–<br>é¢˜ç›®é“¾æ¥ï¼š<a href="https://www.acwing.com/problem/content/1057/">acwing.1055</a> </p><p>æ•°æ®èŒƒå›´ä¸ºåä¸‡ï¼Œæ‰€ä»¥åªèƒ½é€‰ç”¨æ—¶é—´å¤æ‚åº¦ä¸ºnæˆ–è€…nlognçš„ç®—æ³•ã€‚<br>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¾ˆå¤šè´ªå¿ƒé—®é¢˜åœ¨å®ç°çš„æ—¶å€™ï¼Œéƒ½æ˜¯å…ˆæ’åºï¼Œç„¶åå†é‡‡ç”¨æŸç§ç­–ç•¥è¿›è¡Œé€‰æ‹©ã€‚(è¿™é¢˜ä¸­å¹¶æ²¡æœ‰æ’åº)</p><p>åœ¨è¿™é¢˜ä¸­ï¼Œç”±äºå¯ä»¥å¤šæ¬¡æ“ä½œä¹°å…¥ä¸å–å‡ºï¼Œæ‰€ä»¥åˆ©ç”¨ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªpriceï¼Œå¦‚æœä¸‹ä¸€ä¸ªpriceå¢åŠ ï¼Œå°±ä¹°å…¥ï¼Œå¦åˆ™å°±å–å‡ºã€‚</p><p>å®ç°çš„ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><span class="hljs-keyword">int</span> q[N];<br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin &gt;&gt; n;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;q[i]);<br><br><span class="hljs-keyword">int</span> w; <span class="hljs-comment">//wä¸ºæ‰‹ä¸­æ‰€æŒè‚¡ç¥¨çš„ä»·å€¼</span><br><span class="hljs-keyword">int</span> pro=<span class="hljs-number">0</span>; <span class="hljs-comment">//åˆ©æ¶¦</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i + <span class="hljs-number">1</span> &lt; n; i++)<br>&#123;<br><span class="hljs-keyword">if</span> (q[i + <span class="hljs-number">1</span>] &gt; q[i]) <span class="hljs-comment">//åªè¦ä¸‹ä¸€å¤©çš„ä»·å€¼æ¯”å½“å¤©çš„ä»·å€¼é«˜, å°±èµšä¸€æ¬¡ä¸¤å¤©çš„å·®ä»·(è´ªå¿ƒæ€æƒ³çš„ä½“ç°)</span><br>&#123;<br>pro += q[i + <span class="hljs-number">1</span>] - q[i];<br>&#125;<br>&#125;<br><br>cout &lt;&lt; pro&lt;&lt;endl;<br>&#125;<br></code></pre></td></tr></table></figure><hr><p>ä¾‹é¢˜2ï¼šä»“åº“é€‰å€<br>é¢˜ç›®é“¾æ¥ï¼š<a href="https://www.acwing.com/problem/content/106/">acwing.104</a><br>åœ¨è¿™é¢˜ä¸­ï¼Œé—«è€æ¿æåˆ°äº†ä¸€ä¸ªå®ç”¨çš„è§£é¢˜æŠ€å·§ï¼Œå¯¹äºå¤æ‚çš„é—®é¢˜ï¼Œå¯ä»¥å…ˆä¸¾ä¾‹å‡ ä¸ªç®€å•çš„æƒ…å†µï¼Œä¾‹å¦‚åœ¨æœ¬é¢˜ä¸­ï¼Œå¯ä»¥å…ˆæ€è€ƒåœ¨åªæœ‰ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªè´§ä»“çš„æ—¶å€™å¦‚ä½•é€‰å€ã€‚<br>å¾ˆæ˜¾ç„¶ï¼Œå¦‚æœåªæœ‰ä¸€å®¶å•†åº—ï¼Œå¯ä»¥ç›´æ¥å°†åœ°å€é€‰åœ¨è¿™ä¸ªè´§èˆ±ä¹‹ä¸Šï¼Œå¦‚æœæœ‰ä¸¤ä¸ªä¸Šå•†åº—ï¼Œå°±å¯ä»¥å°†è´§èˆ±ç½®äºä¸¤å®¶å•†åº—ä¹‹é—´çš„ä»»æ„ä½ç½®ã€‚</p><p>äºæ˜¯å¯ä»¥çŒœæƒ³ï¼š<br>å¦‚æœæœ‰å¥‡æ•°ä¸ªå•†åº—ï¼Œå¯ä»¥æŠŠä»“åº“å»ºåœ¨ä¸­ä½æ•°ä¸Š<br>å¦‚æœæœ‰å¶æ•°ä¸ªå•†åº—ï¼Œå¯ä»¥æŠŠä»“åº“å»ºåœ¨ä¸­é—´çš„ä¸¤ä¸ªå•†åº—ä¹‹é—´</p><p>ï¼ˆè¿™ä¸ªçŒœæƒ³æ˜¯æ­£ç¡®çš„ï¼Œå¯ä»¥åˆ©ç”¨ç»å¯¹å€¼ä¸ç­‰å¼åŠ ä»¥è¯æ˜ï¼Œå…·ä½“çš„è¯æ˜è¿‡ç¨‹å¯ä»¥å‚è€ƒé—«è€æ¿çš„è§†é¢‘ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100010</span>;<br><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> q[N];  <span class="hljs-comment">//q[N]å­˜å‚¨çš„æ˜¯åæ ‡</span><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin &gt;&gt; n;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;q[i]);<br><br><span class="hljs-built_in">sort</span>(q, q + n);<br><br><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">int</span> base;<br>base = q[n / <span class="hljs-number">2</span>];<br><br><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> res = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>res += <span class="hljs-built_in">abs</span>(q[i] - base);<br><br>cout &lt;&lt; res &lt;&lt; endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>è“æ¡¥æ¯ç®—æ³•ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è“æ¡¥æ¯</tag>
      
      <tag>è´ªå¿ƒ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è“æ¡¥æ¯ç®—æ³•ç¬”è®°&lt;7&gt; é€’å½’ã€é€’æ¨ä¸DFS</title>
    <link href="/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-7-%E9%80%92%E5%BD%92%E3%80%81%E9%80%92%E6%8E%A8%E4%B8%8EDFS/"/>
    <url>/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-7-%E9%80%92%E5%BD%92%E3%80%81%E9%80%92%E6%8E%A8%E4%B8%8EDFS/</url>
    
    <content type="html"><![CDATA[<p>1.é€’å½’å®ç°æŒ‡æ•°å‹æšä¸¾<br>ä» 1âˆ¼n è¿™ n ä¸ªæ•´æ•°ä¸­éšæœºé€‰å–ä»»æ„å¤šä¸ªï¼Œè¾“å‡ºæ‰€æœ‰å¯èƒ½çš„é€‰æ‹©æ–¹æ¡ˆã€‚</p><p>è¾“å…¥æ ¼å¼<br>è¾“å…¥ä¸€ä¸ªæ•´æ•° nã€‚</p><p>è¾“å‡ºæ ¼å¼<br>æ¯è¡Œè¾“å‡ºä¸€ç§æ–¹æ¡ˆã€‚</p><p>åŒä¸€è¡Œå†…çš„æ•°å¿…é¡»å‡åºæ’åˆ—ï¼Œç›¸é‚»ä¸¤ä¸ªæ•°ç”¨æ°å¥½ 1 ä¸ªç©ºæ ¼éš”å¼€ã€‚</p><p>å¯¹äºæ²¡æœ‰é€‰ä»»ä½•æ•°çš„æ–¹æ¡ˆï¼Œè¾“å‡ºç©ºè¡Œã€‚</p><p>æœ¬é¢˜æœ‰è‡ªå®šä¹‰æ ¡éªŒå™¨ï¼ˆSPJï¼‰ï¼Œå„è¡Œï¼ˆä¸åŒæ–¹æ¡ˆï¼‰ä¹‹é—´çš„é¡ºåºä»»æ„ã€‚</p><p>æ•°æ®èŒƒå›´<br>1â‰¤nâ‰¤15<br>è¾“å…¥æ ·ä¾‹ï¼š<br>3<br>è¾“å‡ºæ ·ä¾‹ï¼š</p><p>3<br>2<br>2 3<br>1<br>1 3<br>1 2<br>1 2 3</p><p>ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">16</span>;<br><span class="hljs-keyword">bool</span> st[N];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span> (i == <span class="hljs-number">3</span>)<br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">3</span>; i++)<br>&#123;<br><span class="hljs-keyword">if</span> (st[i] == <span class="hljs-literal">true</span>)<br>cout &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>&#125;<br>cout &lt;&lt; endl;<br><span class="hljs-keyword">return</span>;<br>&#125;<br><br>st[i] = <span class="hljs-literal">true</span>;<br><span class="hljs-built_in">dfs</span>(i + <span class="hljs-number">1</span>);<br>st[i] = <span class="hljs-literal">false</span>;  <span class="hljs-comment">//å›æº¯</span><br><br>st[i] = <span class="hljs-literal">false</span>;<br><span class="hljs-built_in">dfs</span>(i + <span class="hljs-number">1</span>);<br>st[i] = <span class="hljs-literal">false</span>;  <span class="hljs-comment">//å›æº¯</span><br><span class="hljs-keyword">return</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>2.é€’å½’å®ç°æ’åˆ—ç±»å‹æšä¸¾<br>æŠŠ 1âˆ¼n è¿™ n ä¸ªæ•´æ•°æ’æˆä¸€è¡Œåéšæœºæ‰“ä¹±é¡ºåºï¼Œè¾“å‡ºæ‰€æœ‰å¯èƒ½çš„æ¬¡åºã€‚</p><p>è¾“å…¥æ ¼å¼<br>ä¸€ä¸ªæ•´æ•° nã€‚</p><p>è¾“å‡ºæ ¼å¼<br>æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºè¾“å‡ºæ‰€æœ‰æ–¹æ¡ˆï¼Œæ¯è¡Œ 1 ä¸ªã€‚</p><p>é¦–å…ˆï¼ŒåŒä¸€è¡Œç›¸é‚»ä¸¤ä¸ªæ•°ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ã€‚</p><p>å…¶æ¬¡ï¼Œå¯¹äºä¸¤ä¸ªä¸åŒçš„è¡Œï¼Œå¯¹åº”ä¸‹æ ‡çš„æ•°ä¸€ä¸€æ¯”è¾ƒï¼Œå­—å…¸åºè¾ƒå°çš„æ’åœ¨å‰é¢ã€‚</p><p>æ•°æ®èŒƒå›´<br>1â‰¤nâ‰¤9<br>è¾“å…¥æ ·ä¾‹ï¼š<br>3<br>è¾“å‡ºæ ·ä¾‹ï¼š<br>1 2 3<br>1 3 2<br>2 1 3<br>2 3 1<br>3 1 2<br>3 2 1<br>ä»£ç </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">int</span> q[N];<br><span class="hljs-keyword">bool</span> st[N];<br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">è¿™é‡Œæœ‰ä¸¤ç§é€’å½’æ–¹æ¡ˆ</span><br><span class="hljs-comment">æ–¹æ¡ˆ1ï¼š</span><br><span class="hljs-comment">å°†æ¯ä¸ªæ•°å­—æ’åˆ—åœ¨ä¸åŒçš„ä½ç½®ä¸Š</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">æ–¹æ¡ˆ2ï¼š</span><br><span class="hljs-comment">åœ¨æ¯ä¸ªä½ç½®ä¸Šæ’åˆ—ä¸åŒçš„æ•°</span><br><span class="hljs-comment">è¿™é‡Œé€‰æ‹©æ–¹æ¡ˆ2</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span> (i &gt; n)<br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)<br>cout &lt;&lt; q[j] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>cout &lt;&lt; endl;<br><span class="hljs-keyword">return</span>;<br>&#125;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)<br>&#123;<br><span class="hljs-keyword">if</span> (st[j] == <span class="hljs-literal">false</span>)<br>&#123;<br>q[i] = j;<br>st[j] = <span class="hljs-literal">true</span>;<br><span class="hljs-built_in">dfs</span>(i + <span class="hljs-number">1</span>);<br>st[j] = <span class="hljs-literal">false</span>;<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin &gt;&gt; n;<br><span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ¬¡çœ‹åˆ°è¿™ä¸¤é“é¢˜å·²ç»æ˜¯äºŒåˆ·äº†<br>è¿™é‡Œçš„ä¸¤é“é¢˜éƒ½æ˜¯é€’å½’é€’æ¨çš„ç»å…¸é¢˜ï¼Œéƒ½ä½“ç°äº†DFS+å›æº¯çš„æ€æƒ³ã€‚<br>éœ€è¦åˆ‡è®°åœ¨DFSå›æº¯çš„æ—¶å€™è¦è¿˜åŸç°åœºï¼Œå¦å¤–ï¼Œå¦‚æœè€ƒè¯•æ—¶æƒ³ä¸é€šé€’å½’çš„è·¯å¾„ï¼Œå¯ä»¥å°è¯•ç”»å‡ºæœç´¢æ ‘ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>è“æ¡¥æ¯ç®—æ³•ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DFS</tag>
      
      <tag>é€’å½’ä¸é€’æ¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è“æ¡¥æ¯ç®—æ³•ç¬”è®°&lt;8&gt; é«˜ç²¾åº¦ç³»åˆ—</title>
    <link href="/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-8-%E9%AB%98%E7%B2%BE%E5%BA%A6%E7%B3%BB%E5%88%97/"/>
    <url>/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-8-%E9%AB%98%E7%B2%BE%E5%BA%A6%E7%B3%BB%E5%88%97/</url>
    
    <content type="html"><![CDATA[<h3 id="é«˜ç²¾åº¦åŠ æ³•"><a href="#é«˜ç²¾åº¦åŠ æ³•" class="headerlink" title="é«˜ç²¾åº¦åŠ æ³•"></a>é«˜ç²¾åº¦åŠ æ³•</h3><p>é«˜ç²¾åº¦åŠ æ³•å½’æ ¹ç»“åº•æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿäººå·¥åŠ æ³•çš„è¿‡ç¨‹<br>å¤§è‡´è¦ç‚¹å¦‚ä¸‹<br>â… .ä½¿ç”¨ä¸¤ä¸ªæ•°ç»„a,b<strong>å€’åºå­˜å‚¨</strong>è¾“å…¥çš„æ•°å­—ï¼Œè¿™æ ·èƒ½æ¯”è¾ƒæ–¹ä¾¿åœ°å¤„ç†è¿›ä½é—®é¢˜<br>â…¡.åœ¨è¿›è¡ŒåŠ æ³•åœ°è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆ <em>i</em> æŒ‡å‘å½“å‰æ­£åœ¨ç›¸åŠ çš„ä½ç½®,å¹¶å¼€ä¸€ä¸ªtå˜é‡å­˜å‚¨è¿›ä½<br>â…¢.å¦‚æœ<em>a[i]<em>æˆ–</em>b[i]<em>å­˜åœ¨ï¼Œå°±ä½¿å¾—</em>t</em>åŠ ä¸Š <em>a[i]<em>æˆ–</em>b[i]</em><br>â…£.å‘ç»“æœæ•°ç»„<em>c</em>ä¸­åŠ å…¥<em>t%10</em><br>â…¤.<em>t=t/10</em> å®Œæˆè¿›ä½ï¼Œä¸ºä¸‹ä¸€è½®è¿ç®—çš„è¿›ä½ä½œå‡†å¤‡<br>â…¥.ï¼ˆ<strong>æ˜“é”™</strong>ï¼‰åœ¨å¾ªç¯ç›¸åŠ å„ä¸ªä½ä¹‹åï¼Œ<em>t</em>ä¸­ä»ç„¶å¯èƒ½æœ‰æ®‹ä½™çš„æ•°å­—æ²¡æœ‰åŠ å…¥åˆ°ç»“æœæ•°ç»„ä¸­ï¼Œå¦‚50 + 50 è¿™ç§åœºæ™¯ï¼Œå¾ªç¯å<em>c</em>æ•°ç»„ä¸­ä¸º00ï¼Œtä¸º1ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨æ·»åŠ å‰©ä½™çš„å€¼ã€‚<br>å®ç°ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function">vector&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">add</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt; a,vector&lt;<span class="hljs-keyword">int</span>&gt; b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t=<span class="hljs-number">0</span>;<br>    vector&lt;<span class="hljs-keyword">int</span>&gt; c;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;a.<span class="hljs-built_in">size</span>()||i&lt;b.<span class="hljs-built_in">size</span>();i++)  <br>    &#123;<br>        <span class="hljs-keyword">if</span>(i&lt;a.<span class="hljs-built_in">size</span>()) t+=a[i];<br>        <span class="hljs-keyword">if</span>(i&lt;b.<span class="hljs-built_in">size</span>()) t+=b[i];<br>           <br>        c.<span class="hljs-built_in">push_back</span>(t%<span class="hljs-number">10</span>);<br>        t/=<span class="hljs-number">10</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(t)<br>    c.<span class="hljs-built_in">push_back</span>(t);<br>    <span class="hljs-keyword">return</span> c;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="é«˜ç²¾åº¦å‡æ³•"><a href="#é«˜ç²¾åº¦å‡æ³•" class="headerlink" title="é«˜ç²¾åº¦å‡æ³•"></a>é«˜ç²¾åº¦å‡æ³•</h3><p>é«˜ç²¾åº¦å‡æ³•ä¹Ÿæ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿäººå·¥å‡æ³•çš„è¿‡ç¨‹ï¼Œä½†æ˜¯å‡æ³•æœ‰å¯èƒ½å‡ºç°è´Ÿæ•°ï¼Œå®ç°èµ·æ¥æ¯”é«˜ç²¾åº¦åŠ æ³•å¤æ‚<br>å¤§è‡´åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹</p><h4 id="æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„è°æ›´å¤§"><a href="#æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„è°æ›´å¤§" class="headerlink" title="æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„è°æ›´å¤§"></a>æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„è°æ›´å¤§</h4><p>å®ç°å¦‚ä¸‹:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt; &amp;a,vector&lt;<span class="hljs-keyword">int</span>&gt; &amp;b)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">/*ä½æ•°å¤šçš„å¤§*/</span><br><span class="hljs-keyword">if</span>(a.<span class="hljs-built_in">size</span>()!=b.<span class="hljs-built_in">size</span>())<br><span class="hljs-keyword">return</span> a.<span class="hljs-built_in">size</span>()&gt;b.<span class="hljs-built_in">size</span>();<br><span class="hljs-comment">/*ä½æ•°ç›¸åŒåˆ™é€ä½æ¯”è¾ƒ*/</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;a.<span class="hljs-built_in">size</span>();i++)<br><span class="hljs-keyword">if</span>(a[i]!=b[i])<br><span class="hljs-keyword">return</span> a[i]&gt;b[i];<br><span class="hljs-comment">/*ç»å†äº†ä¸Šé¢ä¸¤æ­¥éƒ½è¿˜æ²¡æœ‰è¿”å›ï¼Œè¯´æ˜ç›¸ç­‰ï¼Œç›´æ¥return*/</span><br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="è¾ƒå¤§çš„a-å’Œè¾ƒå°çš„b-ï¼Œè¿›è¡Œé«˜ç²¾åº¦å‡æ³•"><a href="#è¾ƒå¤§çš„a-å’Œè¾ƒå°çš„b-ï¼Œè¿›è¡Œé«˜ç²¾åº¦å‡æ³•" class="headerlink" title="è¾ƒå¤§çš„a[]å’Œè¾ƒå°çš„b[]ï¼Œè¿›è¡Œé«˜ç²¾åº¦å‡æ³•"></a>è¾ƒå¤§çš„a[]å’Œè¾ƒå°çš„b[]ï¼Œè¿›è¡Œé«˜ç²¾åº¦å‡æ³•</h4><p>â… .éœ€è¦å¼€ä¸€ä¸ªint t æ¥è®°å½•ä¹‹å‰æ˜¯å¦æœ‰è¿‡å€Ÿä½<br>â…¡.æ¯æ¬¡è¿ç®—ï¼Œåˆ†å¤Ÿä¸å¤Ÿå‡ä¸¤ç§æƒ…å†µ</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">å¦‚<br><span class="hljs-code">    A3 A2 A1 A0</span><br><span class="hljs-section">-      B2 B1 B0</span><br><span class="hljs-section">----------------------</span><br><span class="hljs-code"> |--- if(Ai-Bi&gt;=0)  Ai-Bi-t</span><br>å¯¹äºæ¯ä¸ªAi-Bi-tåˆ†ä¸¤ç§æƒ…å†µ |<br><span class="hljs-code">  |---if(Ai-Bi&lt;0)  Ai-Bi+10-t (éœ€è¦å€Ÿä¸€ä½)</span><br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function">vector&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">mine</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt;&amp; a, vector&lt;<span class="hljs-keyword">int</span>&gt; &amp;b)</span></span><br><span class="hljs-function"></span>&#123;<br>vector&lt;<span class="hljs-keyword">int</span>&gt; c;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>,t=<span class="hljs-number">0</span>;i&lt;a.<span class="hljs-built_in">size</span>();i++)<br>&#123;<br><span class="hljs-comment">//è¿›ä½</span><br>t=a[i]-t;<br><span class="hljs-keyword">if</span>(i&lt;b.<span class="hljs-built_in">size</span>()) t-=b[i];  <span class="hljs-comment">//ç”±äºbè¾ƒå°ï¼Œå¯èƒ½æ²¡æœ‰ç¬¬iä½ï¼Œæ‰€ä»¥åœ¨å‡bä¹‹å‰åˆ¤æ–­</span><br>c.<span class="hljs-built_in">push_back</span>((t+<span class="hljs-number">10</span>)%<span class="hljs-number">10</span>); <span class="hljs-comment">//ä¸¤ç§æƒ…å†µåˆäºŒä¸ºä¸€å†™</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    å¦‚æœ t (æˆ–è€…è¯´a[i]-b[i]-t)&lt; 0  è¿™ç§æƒ…å†µéœ€è¦å€Ÿä½ ä½“ç°åœ¨æœ¬è½®å¾ªç¯,å³push_back(t+10) å¹¶åœ¨å¾ªç¯åä½¿tä¸º1</span><br><span class="hljs-comment">    å¦‚æœ t (æˆ–è€…è¯´a[i]-b[i]-t)&gt; 0  è¿™ç§æƒ…å†µæ— éœ€è¦å€Ÿä½ ä½“ç°åœ¨æœ¬è½®å¾ªç¯ä¸­,å³æ˜¯push_back(t) å¹¶åœ¨å¾ªç¯åä½¿tä¸º0</span><br><span class="hljs-comment">    è¿™ä¸¤ç§æƒ…å†µéƒ½èƒ½åˆäºŒä¸ºä¸€åœ°å†™æˆpush_back((t+10)%10)</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">if</span>(t&lt;<span class="hljs-number">0</span>) t=<span class="hljs-number">1</span>;<br><span class="hljs-keyword">else</span> t=<span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/*å»é™¤å‰å¯¼é›¶*/</span><br><span class="hljs-keyword">while</span>(c.<span class="hljs-built_in">size</span>()&gt;<span class="hljs-number">1</span>&amp;&amp;c.<span class="hljs-built_in">back</span>()==<span class="hljs-number">0</span>) c.<span class="hljs-built_in">pop_back</span>();<br><span class="hljs-keyword">return</span> c;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>è“æ¡¥æ¯ç®—æ³•ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è“æ¡¥æ¯</tag>
      
      <tag>é«˜ç²¾åº¦</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è“æ¡¥æ¯ç®—æ³•ç¬”è®°&lt;9&gt; BFSåŸºç¡€</title>
    <link href="/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-9-BFS%E5%9F%BA%E7%A1%80/"/>
    <url>/2021/07/19/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0-9-BFS%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<p>BFSæ˜¯è“æ¡¥æ¯ä¸­ç‰¹åˆ«å¸¸ç”¨ç®—æ³•<br>ä¹‹å‰å­¦ä¹ BFSå·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä»¥è‡³äºç°åœ¨å®ç°èµ·æ¥è¿˜æ˜¯ä¸å¤ªç†Ÿqwq</p><p>å…«æ•°ç ï¼š<br>åœ¨ä¸€ä¸ª 3Ã—3 çš„ç½‘æ ¼ä¸­ï¼Œ1âˆ¼8 è¿™ 8 ä¸ªæ•°å­—å’Œä¸€ä¸ª x æ°å¥½ä¸é‡ä¸æ¼åœ°åˆ†å¸ƒåœ¨è¿™ 3Ã—3 çš„ç½‘æ ¼ä¸­ã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>1 2 3<br>x 4 6<br>7 5 8<br>åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥æŠŠ x ä¸å…¶ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘ä¹‹ä¸€çš„æ•°å­—äº¤æ¢ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚</p><p>æˆ‘ä»¬çš„ç›®çš„æ˜¯é€šè¿‡äº¤æ¢ï¼Œä½¿å¾—ç½‘æ ¼å˜ä¸ºå¦‚ä¸‹æ’åˆ—ï¼ˆç§°ä¸ºæ­£ç¡®æ’åˆ—ï¼‰ï¼š</p><p>1 2 3<br>4 5 6<br>7 8 x<br>ä¾‹å¦‚ï¼Œç¤ºä¾‹ä¸­å›¾å½¢å°±å¯ä»¥é€šè¿‡è®© x å…ˆåä¸å³ã€ä¸‹ã€å³ä¸‰ä¸ªæ–¹å‘çš„æ•°å­—äº¤æ¢æˆåŠŸå¾—åˆ°æ­£ç¡®æ’åˆ—ã€‚</p><p>äº¤æ¢è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p>1 2 3   1 2 3   1 2 3   1 2 3<br>x 4 6   4 x 6   4 5 6   4 5 6<br>7 5 8   7 5 8   7 x 8   7 8 x<br>ç°åœ¨ï¼Œç»™ä½ ä¸€ä¸ªåˆå§‹ç½‘æ ¼ï¼Œè¯·ä½ æ±‚å‡ºå¾—åˆ°æ­£ç¡®æ’åˆ—è‡³å°‘éœ€è¦è¿›è¡Œå¤šå°‘æ¬¡äº¤æ¢ã€‚</p><p>è¾“å…¥æ ¼å¼<br>è¾“å…¥å ä¸€è¡Œï¼Œå°† 3Ã—3 çš„åˆå§‹ç½‘æ ¼æç»˜å‡ºæ¥ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœåˆå§‹ç½‘æ ¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>1 2 3<br>x 4 6<br>7 5 8<br>åˆ™è¾“å…¥ä¸ºï¼š1 2 3 x 4 6 7 5 8</p><p>è¾“å‡ºæ ¼å¼<br>è¾“å‡ºå ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å°‘äº¤æ¢æ¬¡æ•°ã€‚</p><p>å¦‚æœä¸å­˜åœ¨è§£å†³æ–¹æ¡ˆï¼Œåˆ™è¾“å‡º âˆ’1ã€‚</p><p>è¾“å…¥æ ·ä¾‹ï¼š<br>2  3  4  1  5  x  7  6  8<br>è¾“å‡ºæ ·ä¾‹<br>19</p><h3 id="éœ€è¦å…³æ³¨çš„ç‚¹ï¼š"><a href="#éœ€è¦å…³æ³¨çš„ç‚¹ï¼š" class="headerlink" title="éœ€è¦å…³æ³¨çš„ç‚¹ï¼š"></a>éœ€è¦å…³æ³¨çš„ç‚¹ï¼š</h3><p>1.unordered_map<br>åœ¨ç®—æ³•é¢˜ä¸­ï¼Œunordered_mapå¯ä»¥å½“æˆä¸€ç§ç‰¹æ®Šçš„æ•°ç»„æ¥ç”¨ï¼ˆemmmå§‘ä¸”è¿™ä¹ˆç†è§£å§ï¼‰<br>åœ¨å£°æ˜æ—¶å¯ä»¥ä½¿ç”¨ <em>unordered_map&lt;string,int&gt; d</em> è¿™ç§å½¢å¼<br>è¿™ç§æ•°æ®ç»“æ„èƒ½ç”¨äºç»Ÿè®¡å¯¹åº”çŠ¶æ€æ˜¯å¦å‡ºç°è¿‡/å‡ºç°è¿‡å¤šå°‘æ¬¡<br>åœ¨ç®—æ³•é¢˜ä¸­ï¼Œå¸¸ç”¨çš„æ–¹æ³•æœ‰å¦‚ä¸‹å‡ ç§ï¼š<br>   insert() ç”¨å¾—ä¸å¤š,æ’å…¥çš„æ•°æ˜¯ä¸€ä¸ªpair<br>   erase() è¾“å…¥çš„æ˜¯pairæˆ–è€…è¿­ä»£å™¨<br>   find()å¦‚æœkeyå­˜åœ¨ï¼Œåˆ™findè¿”å›keyå¯¹åº”çš„è¿­ä»£å™¨ï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œåˆ™findè¿”å›unordered_map::endã€‚å› æ­¤å¯ä»¥é€šè¿‡map.find(key) == map.end()æ¥åˆ¤æ–­ï¼Œkeyæ˜¯å¦å­˜åœ¨äºå½“å‰çš„unordered_mapä¸­ã€‚<br>   count()èƒ½ç”¨ä»¥ç»Ÿè®¡keyå€¼åœ¨unordered_mapä¸­å‡ºç°çš„æ¬¡æ•°ã€‚å®é™…ä¸Šï¼Œc++ unordered_mapä¸å…è®¸æœ‰é‡å¤çš„keyã€‚å› æ­¤ï¼Œå¦‚æœkeyå­˜åœ¨ï¼Œåˆ™countè¿”å›1ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™countè¿”å›0<br>   æ³¨æ„ï¼šä¸èƒ½ç”¨d[xxx]==0è¿™ç§å½¢å¼æ¥åˆ¤æ–­xxxåœ¨mapä¸­æ˜¯å¦å‡ºç°è¿‡</p><p>2.çŠ¶æ€è½¬ç§»<br>ç”±äºæ¯æ¬¡éœ€è¦è½¬ç§»çš„æ˜¯ä¸€ä¸ªçŸ©é˜µï¼Œä½¿ç”¨ä¼ ç»Ÿçš„äºŒä½æ•°ç»„ä¸å¤ªæ–¹ä¾¿<br>è¿™é‡Œyæ€»ä½¿ç”¨äº†stringæ¥è½¬ç§»çŠ¶æ€ï¼Œå¹¶ä¸”å¾ˆå¥½åœ°å¤„ç†äº†å­—ç¬¦ä¸²æ¯”è¾ƒçš„é—®é¢˜<br>ä½†æ˜¯æ¶‰åŠåˆ°äº†è½¬åŒ–ä¸€ç»´æ•°ç»„åˆ°äºŒä½æ•°ç»„</p><h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br>string start;<br>string send = &#123; <span class="hljs-string">&quot;12345678x&quot;</span> &#125;;<br><span class="hljs-keyword">int</span> dx[<span class="hljs-number">4</span>] = &#123; <span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">-1</span> &#125;;<br><span class="hljs-keyword">int</span> dy[<span class="hljs-number">4</span>] = &#123; <span class="hljs-number">1</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span> &#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">(string state)</span></span><br><span class="hljs-function"></span>&#123;<br>queue&lt;string&gt; q;<br>unordered_map&lt;string, <span class="hljs-keyword">int</span>&gt; d;<br>q.<span class="hljs-built_in">push</span>(state);<br>d[state] = <span class="hljs-number">0</span>;<br><br><br><span class="hljs-keyword">while</span> (q.<span class="hljs-built_in">size</span>())<br>&#123;<br>string t = q.<span class="hljs-built_in">front</span>();<br>q.<span class="hljs-built_in">pop</span>();<br><br><span class="hljs-keyword">int</span> distance = d[t];<br><br><span class="hljs-keyword">if</span> (t == send)<br><span class="hljs-keyword">return</span> d[t];<br><br><span class="hljs-keyword">int</span> k = t.<span class="hljs-built_in">find</span>(<span class="hljs-string">&#x27;x&#x27;</span>);<br><span class="hljs-keyword">int</span> x = k / <span class="hljs-number">3</span>;<br><span class="hljs-keyword">int</span> y = k % <span class="hljs-number">3</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)<br>&#123;<br><span class="hljs-keyword">int</span> a = x + dx[i];<br><span class="hljs-keyword">int</span> b = y + dy[i];<br><br><span class="hljs-keyword">if</span> (a &gt;= <span class="hljs-number">0</span> &amp;&amp; a &lt; <span class="hljs-number">3</span> &amp;&amp; b &gt;= <span class="hljs-number">0</span> &amp;&amp; b &lt; <span class="hljs-number">3</span>)<br>&#123;<br><span class="hljs-built_in">swap</span>(t[k], t[a * <span class="hljs-number">3</span> + b]);<br><span class="hljs-keyword">if</span> (!d.<span class="hljs-built_in">count</span>(t)) <span class="hljs-comment">//åœ¨æ¯æ¬¡å…¥é˜Ÿå‰åˆ¤æ–­æ˜¯å¦å‡ºç°è¿‡</span><br>&#123;<br>d[t] = distance + <span class="hljs-number">1</span>;<br>q.<span class="hljs-built_in">push</span>(t);<br>&#125;<br><span class="hljs-built_in">swap</span>(t[k], t[a * <span class="hljs-number">3</span> + b]);<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">9</span>; i++)<br>&#123;<br>string a;<br>cin &gt;&gt; a;<br>start += a;<br>&#125;<br><br>cout &lt;&lt; <span class="hljs-built_in">bfs</span>(start) &lt;&lt; endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>è“æ¡¥æ¯ç®—æ³•ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BFS</tag>
      
      <tag>è“æ¡¥æ¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java Web å­¦ä¹ ç¬”è®°</title>
    <link href="/2021/07/19/Java-Web-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2021/07/19/Java-Web-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="Java-web-å­¦ä¹ ç¬”è®°"><a href="#Java-web-å­¦ä¹ ç¬”è®°" class="headerlink" title="Java web å­¦ä¹ ç¬”è®°"></a>Java web å­¦ä¹ ç¬”è®°</h1><h4 id="1-å…³äºTomcatçš„è®¾ç½®"><a href="#1-å…³äºTomcatçš„è®¾ç½®" class="headerlink" title="1.å…³äºTomcatçš„è®¾ç½®"></a>1.å…³äºTomcatçš„è®¾ç½®</h4><p>tomcat ç«¯å£å·é»˜è®¤ä¸º8080ï¼Œæ¯”è¾ƒå¸¸è§ï¼Œå®¹æ˜“å‘ç”Ÿå†²çª<br>ä¿®æ”¹ç«¯å£å·ï¼š<br>Server.xml:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Connector</span> <span class="hljs-attr">port</span>=<span class="hljs-string">&quot;8080&quot;</span>&gt;</span>ä¸ºç«¯å£å·<br></code></pre></td></tr></table></figure><h4 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Context</span> <span class="hljs-attr">docBase</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><p>â€‹    docBase: å®é™…è·¯å¾„<br>â€‹    path:è™šæ‹Ÿè·¯å¾„<br>â€‹    å¦‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Context</span> <span class="hljs-attr">docBase</span>=<span class="hljs-string">&quot;D:\Study&quot;</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/Jspproject&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><p>â€‹    è®¿é—®Jspproject ç›¸å½“äºè®¿é—®D:\study</p><h4 id="3"><a href="#3" class="headerlink" title="3."></a>3.</h4><p>è®¿é—®ï¼šlocalhost:8888<br>å¦‚æœæ˜¯IEéœ€è¦åŠ httpå‰ç¼€</p><h4 id="4"><a href="#4" class="headerlink" title="4."></a>4.</h4><p>webappsï¼šæ”¾é»˜è®¤çš„é¡¹ç›®<br>é»˜è®¤è®¿é—®root</p><p>åœ¨é¡¹ç›®/WEB-INF/web.xml ä¸­è®¾ç½® é»˜è®¤çš„ åˆå§‹é¡µé¢<br>web.xmlä¸­çš„<welcome_file_list>ä¸­ä¸ºé»˜è®¤è®¿é—®ä¼˜å…ˆçº§</p><h4 id="5"><a href="#5" class="headerlink" title="5."></a>5.</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%å±€éƒ¨å˜é‡ã€javaè¯­å¥%&gt;<br><br>&lt;%!<br>å®šä¹‰å…¨å±€å˜é‡ã€æ–¹æ³•<br>å¦‚ï¼š<br><span class="hljs-keyword">public</span> String bookName;<br><span class="hljs-function">pubilc <span class="hljs-title">fun</span><span class="hljs-params">()</span> </span><br><span class="hljs-function"></span>&#123;<br>&#125;   <br>%&gt;<br><br>&lt;%=ç”¨äºè¾“å‡º%&gt;<br></code></pre></td></tr></table></figure><h4 id="7-JSPå†…ç½®å¯¹è±¡"><a href="#7-JSPå†…ç½®å¯¹è±¡" class="headerlink" title="7.JSPå†…ç½®å¯¹è±¡"></a>7.JSPå†…ç½®å¯¹è±¡</h4><p>jspçš„ç½®å¯¹è±¡ï¼šä¸éœ€è¦newä¹Ÿèƒ½ä½¿ç”¨<br>9å¤§å†…ç½®å¯¹è±¡ï¼š</p><ul><li><p>outï¼šè¾“å‡ºå¯¹è±¡</p></li><li><p>pageContext:</p></li><li><p>request:å­˜å‚¨å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€çš„è¯·æ±‚æ¶ˆæ¯</p><pre><code>         å¸¸è§æ–¹æ³•ï¼š</code></pre><ul><li>1.String getParameter(String name):æ ¹æ®è¯·æ±‚çš„å­—æ®µåkey(inputæ ‡ç­¾çš„nameå±æ€§)è¿”å›å­—æ®µå€¼(valueå±æ€§å€¼)</li><li>2.String[]  getParameterValues(String name ):æ ¹æ®è¯·æ±‚çš„å­—æ®µåè¿”å›å¤šä¸ªå­—æ®µå€¼</li><li>3.void setCharacterEncoding (â€œç¼–ç æ ¼å¼:UTF-8â€)</li><li>getRequestDispatcher(â€œb.jspâ€)</li><li> getServerContextâ€¦</li></ul></li><li><p>response</p></li><li><p>session</p></li><li><p>applicaton</p></li><li><p>config</p></li><li><p>page</p></li><li><p>xception</p></li></ul><h4 id="8-response-å¯¹è±¡è¯¦è§£"><a href="#8-response-å¯¹è±¡è¯¦è§£" class="headerlink" title="8.response å¯¹è±¡è¯¦è§£"></a>8.response å¯¹è±¡è¯¦è§£</h4><ul><li><p>void addCookie(Cookie cookie)</p><p>â€‹     æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å¢åŠ Cookie å¯¹è±¡</p></li><li><p>void sendRedirect(String location) throws IOException</p><pre><code> é¡µé¢è·³è½¬çš„ä¸€ç§æ–¹å¼</code></pre></li><li><p>void setContentType(String type)</p><pre><code>   è®¾ç½®æœåŠ¡ç«¯çš„contentType ç±»å‹</code></pre></li></ul><h4 id="9-è¯·æ±‚è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«ï¼š"><a href="#9-è¯·æ±‚è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«ï¼š" class="headerlink" title="9.è¯·æ±‚è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«ï¼š"></a>9.è¯·æ±‚è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«ï¼š</h4><p>åœ°å€æ |è¯·æ±‚è½¬å‘ä¸å˜|é‡å®šå‘æ”¹å˜|</p><hr><p>æ˜¯å¦ä¿ç•™ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶çš„æ•°æ® |ä¿ç•™|ä¸ä¿ç•™|<br>è¯·æ±‚çš„æ¬¡æ•°| 1           |        2    |<br>è·³è½¬å‘ç”Ÿçš„ä½ç½®      |          æœåŠ¡ç«¯   |     å®¢æˆ·ç«¯å‘å‡ºçš„ç¬¬äºŒæ¬¡è·³è½¬|</p><h4 id="10-cookieå’Œsession"><a href="#10-cookieå’Œsession" class="headerlink" title="10.cookieå’Œsession"></a>10.cookieå’Œsession</h4><ul><li>session(å­˜åœ¨äºæœåŠ¡ç«¯ï¼Œä¸éœ€è¦new)</li><li>cookie(å­˜åœ¨äºå®¢æˆ·ç«¯ï¼Œä¸æ˜¯å†…ç½®å¯¹è±¡ï¼Œä½¿ç”¨å‰éœ€è¦new) </li></ul><h5 id="10-1-cookieï¼š"><a href="#10-1-cookieï¼š" class="headerlink" title="10.1 cookieï¼š"></a>10.1 cookieï¼š</h5><p>   cookieæ˜¯æœåŠ¡ç«¯äº§ç”Ÿçš„ï¼Œå†å‘é€ç»™å®¢æˆ·ç«¯ä¿å­˜<br>   ç›¸å½“äºæœ¬åœ°ç¼“å­˜çš„ä½œç”¨ï¼Œä½†æ˜¯å®‰å…¨æ€§è¾ƒå·®<br>   ä½œç”¨ï¼šå¯ä»¥æé«˜æœåŠ¡ç«¯è®¿é—®çš„æ•ˆç‡ï¼Œä½†æ˜¯å®‰å…¨æ€§è¾ƒå·®ã€‚</p><p>   <strong>æä¾›çš„ç±»</strong>ï¼šjavax.servlet.http.Cookie</p><p><strong>æ–¹æ³•</strong>:</p><ul><li><p>public Cookie(String key,String value) (æ„é€ æ–¹æ³•)</p></li><li><p> String getName()</p></li><li><p>String getValue()</p></li><li><p>void setMaxAge(int expiry) //è®¾ç½®æœ€å¤§æœ‰æ•ˆæœŸ ï¼ˆç§’ï¼‰</p><p> <strong>å‘é€çš„è¿‡ç¨‹ï¼š</strong><br> 1.æœåŠ¡ç«¯å‡†å¤‡Cookie</p><pre><code>  response.addCookie(Cookie cookie)  </code></pre><p> 2.é¡µé¢è·³è½¬ï¼ˆè½¬å‘ï¼Œé‡å®šå‘ï¼‰</p><p> 3.å®¢æˆ·ç«¯è·å–cookie:</p><pre><code> request.getCookie();</code></pre><p>__æ³¨æ„__ï¼š</p><pre><code> a.æœåŠ¡ç«¯å¢åŠ cookieæ˜¯é€šè¿‡responseå¯¹è±¡ï¼›å®¢æˆ·ç«¯è·å–å¯¹è±¡ï¼šrequestå¯¹è±¡</code></pre></li></ul><p>â€‹       b.ä¸€æ¬¡åªèƒ½è·å–å…¨éƒ¨çš„Cookie</p><p>â€‹        c.é€šè¿‡F12å¯ä»¥å‘ç°ï¼Œé™¤äº†è‡ªå·±è®¾ç½®çš„Cookieå¯¹è±¡ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªnameä¸ºjesessionidçš„  cookie</p><p>â€‹        d.å»ºè®®cookieä¸­åªä¿å­˜è‹±æ–‡å’Œæ•°å­—ï¼Œå¦åˆ™éœ€è¦ç¼–ç è§£ç å¤„ç†</p><h5 id="10-2-session"><a href="#10-2-session" class="headerlink" title="10.2 session"></a>10.2 session</h5><p> æœ¬æ„ä¸ºä¼šè¯<br> ä¼šè¯çš„å®šä¹‰æ¯”è¾ƒå®è§‚<br> å¼€å§‹-&gt;ç»“æŸ  æ˜¯ä¸€æ¬¡ä¼šè¯</p><p> <strong>sessionæ‰§è¡Œæœºåˆ¶:</strong><br>1.åœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯å‘å‡ºç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼Œ()æœåŠ¡ç«¯ä¼šäº§ç”Ÿä¸€ä¸ªå¯¹åº”çš„sessionï¼ˆç”¨äºä¿å­˜è¯¥å®¢æˆ·çš„ä¿¡æ¯ï¼‰<br> å¹¶ä¸”æ¯ä¸€ä¸ªsessionå¯¹è±¡ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„sessionIdï¼ˆç”¨äºåŒºåˆ†å…¶ä»–sessionï¼‰</p><p>2.æœåŠ¡ç«¯åˆä¼šäº§ç”Ÿä¸€ä¸ªcookieï¼Œè¯¥cookieçš„name=JSESSIONID,value=æœåŠ¡ç«¯sessionId<br> æœåŠ¡ç«¯åœ¨å“åº”å®¢æˆ·ç«¯æ—¶ï¼Œä¼šå°†JSESSIONIDå¸¦ç»™å®¢æˆ·ç«¯</p><p>3.è¿™æ ·ä¸€æ¥ï¼Œå®¢æˆ·ç«¯å°±æœ‰ä¸€ä¸ªcookie(JSESSIONID)<br> COOKIEä¸­çš„JSESSIONID å’Œsessionä¸­çš„sessionIDä¸€ä¸€å¯¹åº”ï¼Œå®ç°å¯¹å®¢æˆ·ç«¯çš„è¯†åˆ«<br> å› æ­¤ï¼Œå®¢æˆ·ç«¯çš„cookieå°±å¯ä»¥å’ŒæœåŠ¡ç«¯ä¸€ä¸€å¯¹åº”<br> (JSESSIONID-sessionID)</p><p> 4.å®¢æˆ·ç«¯ç¬¬äºŒæ¬¡/ç¬¬Næ¬¡è¯·æ±‚æœåŠ¡ç«¯æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šå…ˆç”¨å®¢æˆ·ç«¯çš„cookieä¸­çš„JSESSIONID å»æœåŠ¡ç«¯åŒ¹é… sessionid<br> å¦‚æœåŒ¹é…æˆåŠŸï¼Œè¯´æ˜æ­¤ç”¨æˆ·å·²ç»ä¸æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®ï¼Œæ— éœ€ç™»å½•</p><p><strong>sessionç‰¹æ€§ï¼š</strong></p><ul><li>sessionå­˜å‚¨äºæœåŠ¡ç«¯</li><li>sessionæ˜¯åœ¨åŒä¸€ä¸ªç”¨æˆ·è¯·æ±‚æ—¶å…±äº«</li></ul><p><strong>sessionæ–¹æ³•</strong>ï¼š</p><ul><li>getID():è·å–sessionID</li><li>boolean isNew():åˆ¤æ–­æ˜¯å¦æ—¶ç¬¬ä¸€æ¬¡è®¿é—®</li><li> void invalidate():ä½¿sessionå¤±æ•ˆï¼Œå¦‚æ³¨é”€æ—¶å¯ä»¥ä½¿ç”¨</li><li> void setAttribute()</li><li> Object getAttribute()</li><li>void setMaxInactiveInterval(ç§’)ï¼šè®¾ç½®æœ€å¤§æœ‰æ•ˆéæ´»åŠ¨æ—¶é—´</li><li> int getMaxInactiveInterval</li></ul><h5 id="11-JDBC"><a href="#11-JDBC" class="headerlink" title="11.JDBC"></a>11.JDBC</h5><p>JDBC DriverManagerï¼šç®¡ç†ä¸åŒçš„æ•°æ®åº“é©±åŠ¨</p><h5 id="11-1JDBC-API-ä¸»è¦åŠŸèƒ½"><a href="#11-1JDBC-API-ä¸»è¦åŠŸèƒ½" class="headerlink" title="11.1JDBC API ä¸»è¦åŠŸèƒ½"></a>11.1JDBC API ä¸»è¦åŠŸèƒ½</h5><ul><li>ä¸æ•°æ®åº“å»ºç«‹é“¾æ¥</li><li>2.å‘é€SQLè¯­å¥</li><li>3.è¿”å›å¤„ç†ç»“æœ</li></ul><p>é€šè¿‡ä»¥ä¸‹ç±»/æ¥å£å®ç°ï¼š</p><ul><li><p>DriverManager:ç®¡ç†JDBCé©±åŠ¨</p></li><li><p>Connectionï¼šè¿æ¥,ï¼ˆé€šè¿‡DriverManageräº§ç”Ÿï¼‰</p></li><li><p>Connectionäº§ç”Ÿæ“ä½œæ•°æ®åº“å¯¹è±¡</p><ul><li>Connectionäº§ç”ŸStatementå¯¹è±¡createStatement()</li><li> Connectionäº§ç”ŸPreparedStatementå¯¹è±¡:prepareStatement()</li><li>Connectionäº§ç”ŸCallableStatementå¯¹è±¡ prepareCall()</li></ul></li></ul><p> <strong>Statementæ“ä½œæ•°æ®åº“</strong> :<br>   å¢åˆ æ”¹ï¼šexecuteUpdate()<br>   æŸ¥è¯¢ï¼š  executeQuery()</p><p><strong>ResultSet ä¿å­˜ç»“æœé›†</strong><br>    next()<br>    previous()<br>    getXXX()</p><p><strong>PreparedStatementæ“ä½œæ•°æ®åº“</strong>:<br>   å¢åˆ æ”¹ï¼šexecuteUpdate()<br>   æŸ¥è¯¢ï¼š  executeQuery<br>   èµ‹å€¼æ“ä½œï¼šsetXXX</p><p>   PareparedStatementç¤ºä¾‹:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">String SQL=<span class="hljs-string">&quot;insert into B1 values(?,?,?)&quot;</span>;<br>pstmt=connection.prepareStatement(SQL); <span class="hljs-comment">//é¢„ç¼–è¯‘</span><br>pstmt.setInt(<span class="hljs-number">1</span>,<span class="hljs-number">39</span>);<br>pstmt.setString(<span class="hljs-number">2</span>,<span class="hljs-string">&quot;abc&quot;</span>);<br>pstmt.setString(<span class="hljs-number">3</span>,<span class="hljs-string">&quot;abc&quot;</span>);<br>pstmt.excuteUpdate();<br></code></pre></td></tr></table></figure><p> æ¨èä½¿ç”¨PreparedStatement</p><p> ä¼˜åŠ¿:</p><ul><li>1.æ–¹ä¾¿  </li><li> 2.é«˜æ•ˆç‡ </li><li> 3.æœ‰æ•ˆé˜²æ­¢SQLæ³¨å…¥ï¼ˆç”¨æˆ·è¾“å…¥å’Œå¼€å‘äººå‘˜çš„SQLè¯­å¥èä¸ºä¸€ä½“ï¼‰</li></ul><p> c.Statement(PreparedStatement)ï¼šå¢åˆ æŸ¥æ”¹ï¼ˆé€šè¿‡Connectionäº§ç”Ÿï¼‰</p><p> d.CallableStatementï¼šè°ƒç”¨æ•°æ®åº“ä¸­çš„å­˜å‚¨è¿‡ç¨‹ï¼Œå­˜å‚¨å‡½æ•°</p><p> e.Resultï¼šè¿”å›çš„ç»“æœé›†ï¼ˆé€šè¿‡Statementç­‰äº§ç”Ÿï¼‰</p><h5 id="11-2-jdbcè®¿é—®æ•°æ®åº“çš„å…·ä½“æ­¥éª¤ï¼š"><a href="#11-2-jdbcè®¿é—®æ•°æ®åº“çš„å…·ä½“æ­¥éª¤ï¼š" class="headerlink" title="11.2.jdbcè®¿é—®æ•°æ®åº“çš„å…·ä½“æ­¥éª¤ï¼š"></a>11.2.jdbcè®¿é—®æ•°æ®åº“çš„å…·ä½“æ­¥éª¤ï¼š</h5><ul><li><p>1.å¯¼å…¥é©±åŠ¨åŒ…ï¼ŒåŠ è½½å…·ä½“çš„é©±åŠ¨ç±»</p></li><li><p>2.ä¸æ•°æ®åº“å»ºç«‹é“¾æ¥ï¼šé€šè¿‡connectå¯¹è±¡</p></li><li><p>3.å‘é€sqlï¼Œæ‰§è¡Œ</p><ul><li>å¢åˆ æ”¹:stmt.executeUpdate() è¿”å›ä¸€ä¸ªæ•°å­—</li></ul></li><li><p>4.æŸ¥è¯¢:  stmt.executeQuery() è¿”å›ä¸€ä¸ªResultSet,ç±»ä¼¼äºä¸€å¼ è¡¨</p></li><li><p>5.rsé»˜è®¤æŒ‡å‘ç»“æœé›†çš„å‰ä¸€è¡Œ</p><ul><li>rs.next()ï¼š1.ä¸‹ç§»æŒ‡é’ˆ<pre><code>              2.åˆ¤æ–­ä¸‹ç§»ä¹‹åçš„å…ƒç´ æ˜¯å¦ä¸ºç©º                       3.å¦‚æœæœ‰æ•°æ®ï¼Œè¿”å›true                 å¦‚æœæœªéç©ºï¼Œè¿”å›false</code></pre></li><li>  rs.getXXX():è·å–rsæŒ‡å‘è¡Œçš„æ•°æ®</li></ul></li></ul><p><strong>æŸ¥è¯¢ç¤ºä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java">String SQL2=<span class="hljs-string">&quot;SELECT * FROM B1&quot;</span>;<br> ResultSet rs=stmt.executeQuery(SQL2);<br> <span class="hljs-keyword">while</span>(rs.next())<br>&#123;<br>       <span class="hljs-keyword">int</span> bid=rs.getInt(<span class="hljs-string">&quot;bid&quot;</span>);         <span class="hljs-comment">//å‚æ•°å¯ä»¥æ˜¯å­—æ®µåæˆ–è€…æ˜¯ä¸‹æ ‡ï¼Œä½†æ˜¯æ¨èä½¿ç”¨å­—æ®µå</span><br>       String bname=rs.getString(<span class="hljs-string">&quot;bname&quot;</span>);<br>       String color=rs.getString(<span class="hljs-string">&quot;color&quot;</span>);<br>       System.out.println(bid+<span class="hljs-string">&quot; &quot;</span>+bname+<span class="hljs-string">&quot; &quot;</span>+color);<br>&#125;<br></code></pre></td></tr></table></figure><p>d.å¤„ç†ç»“æœé›†</p><h5 id="12-3-æ•°æ®åº“é©±åŠ¨"><a href="#12-3-æ•°æ®åº“é©±åŠ¨" class="headerlink" title="12.3 æ•°æ®åº“é©±åŠ¨"></a>12.3 æ•°æ®åº“é©±åŠ¨</h5><table><thead><tr><th>æ•°æ®åº“</th><th>é©±åŠ¨jar</th><th>å…·ä½“é©±åŠ¨ç±»</th><th>é“¾æ¥å­—ç¬¦ä¸²(æ•°æ®åº“åï¼ŒIPåœ°å€å’Œç«¯å£å·)</th></tr></thead><tbody><tr><td>mysql</td><td>mysql-connector-java-x.jar</td><td>com.mysql.jdbc.Driver</td><td>jdbc:mysql://localhost:3306/æ•°æ®åº“å®ä¾‹å</td></tr><tr><td>sql server</td><td>sqljdbc-x.jar</td><td>com.microsoft.sqlserver.jdbc.SQLServerDriver</td><td>jdbc:sqlserver://localhost:1433;databaseName=BiliClass</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr></tbody></table><h5 id="11-4-java-bean"><a href="#11-4-java-bean" class="headerlink" title="11.4.java bean"></a>11.4.java bean</h5><p> å°†jspçš„ä»£ç è½¬ç§»åˆ°javaä¸­ï¼Œå°±æ˜¯JavaBean</p><p> javaBeançš„è¦æ±‚</p><p> a.æ‰€æœ‰çš„å±æ€§éƒ½æ˜¯privateï¼Œå¹¶æä¾›set/get<br> b.publicä¿®é¥°çš„ç±»ï¼Œpublicæ— å‚æ„é€ </p><p> ä»ä½¿ç”¨å±‚é¢ java beanåˆ†ä¸ºä¸¤ç±»</p><ul><li><p>å°è£…ä¸šåŠ¡é€»è¾‘çš„JavaBean</p></li><li><p>å°è£…æ•°æ®çš„JavaBean:</p><p> å¯¹åº”äºæ•°æ®åº“çš„ä¸€å¼ è¡¨</p></li></ul><h4 id="12servelt"><a href="#12servelt" class="headerlink" title="12servelt:"></a>12servelt:</h4><p>java ç±»å¿…é¡»ç¬¦åˆä¸€å®šçš„è§„èŒƒæ‰æ˜¯servlet<br>è§„èŒƒï¼š</p><ul><li>å¿…é¡»ç»§æ‰¿ javax.servlet.http.Httpserver</li><li>é‡å†™å…¶ä¸­çš„doGet()æˆ– doPost()æ–¹æ³•</li></ul><p>servletè¦æƒ³ä½¿ç”¨ï¼Œå¿…é¡»é…ç½®web.xmlæˆ–è€…@servletï¼ˆæ³¨è§£æ–¹å¼ï¼‰<br>Servlet2.5: web.xml<br>Servlet3.0: @WebServlet</p><p><strong>1.Servlet2.5:</strong><br>æ­¥éª¤ï¼š<br>1.ç¼–å†™ä¸€ä¸ªç±»ï¼Œç»§æ‰¿HttpServlet<br>2.é‡å†™doGet()ã€doPost()æ–¹æ³•<br>3.ç¼–å†™web.xmlä¸­çš„servletæ˜ å°„å…³ç³»</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>2.Servlet ç”Ÿå‘½å‘¨æœŸ</strong><br>a.åŠ è½½<br>b.åˆå§‹åŒ–: init() è¯¥æ–¹æ³•ä¼šåœ¨Servletè¢«åŠ è½½å¹¶å®ä¾‹åŒ–ä»¥åæ‰§è¡Œ<br>c.æœåŠ¡ï¼›service()-&gt;doGet()-&gt;doPost()<br>d.é”€æ¯:destroy() Servlet è¢«ç³»ç»Ÿå›æ”¶æ—¶æ‰§è¡Œ<br>e.å¸è½½ï¼š</p><p>init():é»˜è®¤ç¬¬ä¸€æ¬¡è®¿é—®Servletæ—¶æ‰§è¡Œï¼Œå¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡<br>       å¯ä»¥ä¿®æ”¹ä¸ºtomcatå¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œ<br>       2.5æ–¹å¼ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-start-up</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br></code></pre></td></tr></table></figure><p> 3.0æ–¹å¼ï¼š<br>       @WebServlet(value=â€/WelcomeServletâ€,loadOnStartup=1)<br>service():è°ƒç”¨å‡ æ¬¡æ‰§è¡Œå‡ æ¬¡<br>destroy():å…³é—­TomcatæœåŠ¡æ—¶æ‰§è¡Œ</p><h5 id="3-Servlet-API"><a href="#3-Servlet-API" class="headerlink" title="3.Servlet API:"></a>3.Servlet API:</h5><p>ç”±ä¸¤ä¸ªè½¯ä»¶åŒ…ç»„æˆ</p><ul><li>å¯¹åº”äº HTTPåè®®çš„è½¯ä»¶åŒ…</li><li>å¯¹åº”äºå…¶å®ƒåè®®çš„è½¯ä»¶åŒ…<br>æˆ‘ä»¬å­¦ä¹ çš„Servlet æ˜¯ä½äºjavax.servlet.httpåŒ…ä¸­çš„ç±»å’Œæ¥å£ï¼Œæ˜¯åŸºç¡€HTTPåè®®</li></ul><p>PrintWriter out=response.getWriter()åå¯ä»¥ä½¿ç”¨Writer</p><h5 id="4-servletç»§æ‰¿å…³ç³»"><a href="#4-servletç»§æ‰¿å…³ç³»" class="headerlink" title="4.servletç»§æ‰¿å…³ç³»"></a>4.servletç»§æ‰¿å…³ç³»</h5><p>ServletConfigæ¥å£<br>getServletContext():è·å–Servlt ä¸Šä¸‹æ–‡å¯¹è±¡<br>getInitParameter(String name):åœ¨å½“å‰servletèŒƒå›´å†…ï¼Œè·å–åä¸ºnameçš„å‚æ•°å€¼</p><p>ServletContextä¸­çš„å¸¸è§æ–¹æ³•(application)ï¼š<br>getRealPath()<br>getContextPath()<br>setAttribute()<br>getAttribute()<br>getInitParameter():åœ¨å½“å‰webèŒƒå›´å†…ï¼Œè·å–åä¸ºnameçš„å‚æ•°å€¼</p><h5 id="13-MVCè®¾è®¡æ¨¡å¼ï¼š"><a href="#13-MVCè®¾è®¡æ¨¡å¼ï¼š" class="headerlink" title="13.MVCè®¾è®¡æ¨¡å¼ï¼š"></a>13.MVCè®¾è®¡æ¨¡å¼ï¼š</h5><table><thead><tr><th>M</th><th>Model (æ¨¡å‹)</th><th>ä¸€ä¸ªåŠŸèƒ½ã€‚ç”¨JavaBeanæ¥å®ç°</th></tr></thead><tbody><tr><td>V</td><td>View (è§†å›¾)</td><td>è´Ÿè´£é¡µé¢çš„å±•ç¤ºä»¥åŠä¸ç”¨æˆ·äº¤äº’ã€‚ ä½¿ç”¨HTML/CSS/JS/Jquery ç­‰å‰ç«¯æŠ€æœ¯å®ç°</td></tr><tr><td>C</td><td>Controller</td><td>æ§åˆ¶å™¨: æ¥æ”¶å„ç§è¯·æ±‚ï¼Œå°†è¯·æ±‚è·³è½¬åˆ°æ¨¡å‹è¿›è¡Œå¤„ç†ï¼›æ¨¡å‹å¤„ç†å®Œæ¯•å&lt;br   å†å°†å¤„ç†çš„ç»“æœè¿”å›ç»™è¯·æ±‚å¤„ã€‚å¯ä»¥ç”¨JSPå®ç°ï¼Œä½†æ˜¯ä¸€èˆ¬å»ºè®®ä½¿ç”¨Servletå®ç°æ§åˆ¶å™¨</td></tr></tbody></table><p><strong>ä¸‰å±‚æ¶æ„ï¼š</strong><br> ä¸MVCçš„è®¾è®¡æ¨¡å¼ç›®æ ‡ä¸€ç›´ï¼šéƒ½æ˜¯ä¸ºäº†è§£è€¦åˆï¼Œæé«˜ä»£ç çš„å¤ç”¨<br> ä¸Šå±‚å°†è¯·æ±‚å‘é€ç»™ä¸‹å±‚ï¼Œ ä¸‹å±‚å¤„ç†åè¿”å›ç»™ä¸Šå±‚</p><p> 1.è¡¨ç¤ºå±‚(USL,User,Show Layer:è§†å›¾å±‚)</p><ul><li><p>å‰å°ï¼šå¯¹åº”MVCä¸­çš„Viewï¼Œç”¨äºå’Œç”¨æˆ·äº¤äº’ã€ç•Œé¢çš„æ˜¾ç¤º</p><pre><code>   jsp js html css jqueryç­‰   ä¸€èˆ¬ä½äºwebç›®å½•ä¸‹</code></pre></li><li><p>åå°ï¼šå¯¹åº”äºMVCä¸­çš„Controller,ç”¨æˆ·æ§åˆ¶è·³è½¬ã€è°ƒç”¨ä¸šåŠ¡é€»è¾‘å±‚</p><pre><code>   Servlet(Spring MVC  Struts2)   ä¸€èˆ¬ä½äºxxx.servletåŒ…ä¸­</code></pre></li></ul><p> 2.ä¸šåŠ¡é€»è¾‘å±‚(BLL,Business Logic Layer:serviceå±‚)</p><ul><li>ç”¨äºæ•°æ®ï¼Œå¸¦é€»è¾‘æ€§çš„æ“ä½œ<pre><code>   ä¸€èˆ¬ä½äºxxx.serviceåŒ…ä¸­</code></pre></li></ul><p> 3.æ•°æ®åº“è®¿é—®å±‚(DAL,Data Assess Layer:DAOå±‚)</p><ul><li>ç›´æ¥è®¿é—®æ•°æ®åº“æ“ä½œã€åŸå­æ€§çš„æ“ä½œï¼ˆå¢åˆ æŸ¥æ”¹ï¼‰<pre><code>   ä¸€èˆ¬ä½äºxxx.daoåŒ…ä¸­</code></pre></li></ul><p><strong>ä¸‰å±‚ä¼˜åŒ–ï¼š</strong><br>  1.åŠ å…¥æ¥å£<br>   å»ºè®®é¢å‘æ¥å£ç¼–ç¨‹ï¼›å…ˆå®ç°æ¥å£å†å®ç°ç±»<br>   â€“serviceã€DAOåŠ å…¥æ¥å£<br>   â€“æ¥å£çš„å®ç°ä¸è§„èŒƒ<br>       æ¥å£:interface       èµ·å Iå®ä½“ç±»Service  IStudentSerice<br>       å®ç°ç±»ï¼šimplement    èµ·å  å®ä½“ç±»SerciceImpl StudentServiceImpl</p><pre><code>   æ¥å£ï¼šIå®ä½“å±‚æ‰€åœ¨çš„åŒ…å   å®ç°ç±»ï¼šå®ä½“ç±»å±‚æ‰€åœ¨åŒ…åImpl</code></pre><p>  2.DBUtil</p><p>å®ç°åˆ†é¡µ<br> è¦å®ç°åˆ†é¡µï¼Œå¿…é¡»çŸ¥é“ä»å“ªé‡Œå¼€å§‹åˆ°å“ªé‡Œç»“æŸ<br> åˆ†é¡µä¸¥æ ¼ä¾èµ–äºSQLè¯­å¥</p><p> My SQLä»0å¼€å§‹è®¡æ•°ï¼ŒOracle/Sql serverä»1å¼€å§‹è®¡æ•°</p><p> MySQLå®ç°åˆ†é¡µçš„SQLï¼š<br> limit å¼€å§‹ï¼Œå¤šå°‘æ¡<br> ç¬¬0é¡µ<br> select * from student limit 0,10;<br> ç¬¬1é¡µ<br> select * from student limit 10,10;<br> ç¬¬2é¡µ<br> select * from student limit 20,10;<br> ç¬¬né¡µ<br> select * from student limit n*10,10;<br> å³<br> select * from student limit é¡µæ•°*é¡µé¢å¤§æ¶ˆ,é¡µé¢å¤§å°</p><p> oracleåˆ†é¡µï¼ˆæ²¡æœ‰çœ‹å®Œï¼‰<br> (oracleæ²¡æœ‰limit)<br> select * from studnet where sno&gt;=(n-1)<em>10+1 and sno&lt;=n</em>10  æ­¤ç§å†™æ³•çš„å‰æå¿…é¡»æ˜¯IDå€¼è¿ç»­ï¼Œå¦åˆ™æ— æ³•æ»¡è¶³æ¯é¡µæ˜¾ç¤º10æ¡æ•°æ®</p><p> 2.select rownum,t.* from &gt;=(n-1)<em>10+1 and sno&lt;=n</em>10 order by sno;<br> rownumber ä¸èƒ½æŸ¥è¯¢å¤§äº0çš„æ•°æ®</p><p>Sql Serveråˆ†é¡µ<br> Sql Serverä»1å¼€å§‹</p><p> row_number()ä½¿ç”¨æ–¹æ³•ï¼š<br> row_number() over(å­—æ®µå€¼)</p><p> select *<br> from(<br>        select row_number() over(sno ordby sno asc) as r,* from student</p><pre><code>    where r&lt;=n*10        row_number()&lt;=n*10</code></pre><p> )<br> where r&gt;=(n-1)*10+1 and ;</p><p> æ–°çš„ç‰ˆæœ¬ï¼š<br> select  * from student order by sno<br> offser (é¡µæ•°-1)*é¡µé¢å¤§å°+1 rows fetch next é¡µé¢å¤§æ¶ˆ rows only;</p><p> åˆ†é¡µå®ç°ï¼š<br> 5ä¸ªå˜é‡ï¼ˆå±æ€§ï¼‰<br> 1.æ•°æ®æ€»æ•°                         |  æŸ¥æ•°æ®åº“ (select count(*) â€¦)<br> 2.é¡µé¢å¤§å°ï¼ˆæ¯é¡µæ˜¾ç¤ºçš„æ•°æ®æ¡æ•°ï¼‰ 30  |ç”¨æˆ·è‡ªå®šä¹‰<br> 3.æ€»é¡µæ•°                           |ç”¨æˆ·è‡ªå®šä¹‰<br> 4.å½“å‰é¡µçš„é¡µç ï¼ˆé¡µç ï¼‰              |ç¨‹åºè‡ªåŠ¨è®¡ç®—=ï¼ˆæ•°æ®æ€»æ•°/é¡µé¢å¤§å°ï¼‰å‘ä¸Šå–æ•´</p><p> 5.å½“å‰é¡µçš„å¯¹è±¡é›†åˆï¼ˆå®ä½“ç±»é›†åˆï¼‰ï¼šæ¯é¡µæ˜¾ç¤ºçš„æ‰€æœ‰æ•°æ®çš„é›†åˆ    |æŸ¥æ•°æ®åº“ï¼Œåˆ†é¡µSQL</p><p>mybatis<br>  1.åˆ›å»ºmavené¡¹ç›®<br>  2.é…ç½®mavenä¾èµ–<br>  3.é…ç½®mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶<br>       mybatis é…ç½®æ–‡ä»¶<br>  4.ç¼–å†™æ ¸å¿ƒå·¥å…·ç±»<br>  5.ç¼–å†™ä»£ç <br>    1.å®ä½“ç±»<br>    2.Daoæ¥å£<br>    3.æ¥å£å®ç°ç±»<br>       ç”±åŸæ¥çš„implè½¬æ¢ä¸ºmapperé…ç½®æ–‡ä»¶</p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaWeb</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°</title>
    <link href="/2021/07/19/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2021/07/19/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="Springå­¦ä¹ ç¬”è®°"><a href="#Springå­¦ä¹ ç¬”è®°" class="headerlink" title="Springå­¦ä¹ ç¬”è®°"></a>Springå­¦ä¹ ç¬”è®°</h1><h3 id="1-1-ç®€ä»‹"><a href="#1-1-ç®€ä»‹" class="headerlink" title="1.1 ç®€ä»‹"></a>1.1 ç®€ä»‹</h3><pre><code>Springç†å¿µï¼šä½¿ç°æœ‰çš„æŠ€æœ¯æ›´åŠ å®¹æ˜“ä½¿ç”¨æœ¬èº«æ˜¯ä¸€ä¸ªå¤§æ‚çƒ©ï¼Œæ•´åˆäº†ç°æœ‰çš„æŠ€æœ¯æ¡†æ¶ã€‚SSHï¼šSturct2+Spring+Hibernate    (æ—§çš„æŠ€æœ¯ä½“ç³»)SSM:  SpringMVC+Spring+Mybatismavenéœ€è¦å¯¼å…¥çš„åŒ…ï¼š</code></pre><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.8<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.8<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="1-2-ä¼˜ç‚¹"><a href="#1-2-ä¼˜ç‚¹" class="headerlink" title="1.2 ä¼˜ç‚¹"></a>1.2 ä¼˜ç‚¹</h3><ul><li>Springæ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æºçš„æ¡†æ¶ï¼ˆå®¹å™¨ï¼‰</li><li>Springä½¿ä¸€ä¸ªè½»é‡çº§çš„ã€éå…¥ä¾µå¼çš„æ¡†æ¶ï¼</li><li>ç‰¹æ€§ï¼šæ§åˆ¶åè½¬(IOC)ã€(AOP)</li><li>æ”¯æŒäº‹åŠ¡çš„å¤„ç†ï¼Œå¯¹æ¡†æ¶æ•´åˆçš„æ”¯æŒ</li></ul><p>æ€»ç»“ï¼šSpringæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬(IOC)å’Œé¢å‘åˆ‡é¢ç¼–ç¨‹çš„æ¡†æ¶ã€‚</p><h3 id="1-3-ç»„æˆ"><a href="#1-3-ç»„æˆ" class="headerlink" title="1.3 ç»„æˆ"></a>1.3 ç»„æˆ</h3><p><img src="/img/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1.png" alt="image-20210625175251986"></p><h3 id="1-4-æ‹“å±•"><a href="#1-4-æ‹“å±•" class="headerlink" title="1.4 æ‹“å±•"></a>1.4 æ‹“å±•</h3><pre><code>åœ¨Springå®˜ç½‘æœ‰è¿™ä¸ªä»‹ç»ï¼šç°ä»£åŒ–çš„Javaå¼€å‘ï¼Œä¹Ÿå°±æ˜¯åŸºäºSpringçš„å¼€å‘    </code></pre><ul><li><p>Spring Boot</p><ul><li>ä¸€ä¸ªå¿«é€Ÿå¼€å‘çš„è„šæ‰‹æ¶</li><li>åŸºäºSpring Bootå¯ä»¥å¿«é€Ÿåœ°å¼€å‘å¾®æœåŠ¡</li><li>çº¦å®šå¤§äºé…ç½®</li></ul></li><li><p>Spring Cloud</p><ul><li>æ˜¯åŸºäºSpring Bootå®ç°çš„</li></ul><p>   ç°åœ¨å¤§å¤šæ•°å…¬å¸éƒ½åœ¨ä½¿ç”¨Spring Bootè¿›è¡Œå¿«é€Ÿå¼€å‘ï¼Œå­¦ä¹ Spring Bootçš„å‰æï¼Œéœ€è¦å®Œå…¨æŒæ¡Springä»¥åŠSpring MVC</p><p>  å¼Šç«¯ï¼šå‘å±•å¤ªä¹…ä¹‹åï¼Œè¿èƒŒäº†åŸæ¥çš„ç†å¿µï¼Œé…ç½®ååˆ†ç¹çã€‚</p></li></ul><h3 id="2-IOCç†è®º"><a href="#2-IOCç†è®º" class="headerlink" title="2 IOCç†è®º"></a>2 IOCç†è®º</h3><pre><code>1.UserDaoæ¥å£2.UerDaoImplå®ç°ç±»3.UserServiceä¸šåŠ¡æ¥å£4.UserServiceImplä¸šåŠ¡å®ç°ç±»</code></pre><p>åœ¨ä¹‹å‰çš„ä¸šåŠ¡ä¸­ï¼Œç”¨æˆ·çš„éœ€æ±‚å¯èƒ½ä¼šå½±å“åŸæ¥çš„ä»£ç ï¼Œå“¦æˆ‘ä»¬å¯èƒ½éœ€è¦æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚ï¼Œå»ä¿®æ”¹åŸæ¥çš„ä»£ç ï¼Œå¦‚æœåŸæ¥ç¨‹åºçš„ä»£ç é‡ååˆ†å¤§ï¼Œä¿®æ”¹ä»£ç çš„ä»£ä»·ä¹Ÿä¼šå¾ˆå¤§ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªSetæ¥å£å®ç°ï¼Œå·²ç»å‘ç”Ÿé©å‘½æ€§çš„å˜åŒ–</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> UserDao userDao;<br><br><span class="hljs-comment">//åˆ©ç”¨setè¿›è¡ŒåŠ¨æ€å®ç°å€¼å¾—æ³¨å…¥</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUserDao</span><span class="hljs-params">(UserDao userDao)</span></span>&#123;<br>    <span class="hljs-keyword">this</span>.userDao=userDao;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>ä¹‹å‰ç¨‹åºä¸»åŠ¨åˆ›å»ºå¯¹è±¡ï¼Œæ§åˆ¶æƒåœ¨ç¨‹åºçŒ¿æ‰‹ä¸Š</li><li>ä½¿ç”¨äº†setæ³¨å…¥åï¼Œç¨‹åºä¸å†å…·æœ‰ä¸»åŠ¨æ€§ï¼Œè€Œæ˜¯å˜æˆäº†è¢«åŠ¨åœ°æ¥æ”¶å¯¹è±¡</li></ul><p>è¿™ç§æ€æƒ³ï¼Œä»æœ¬è´¨ä¸Šè§£å†³äº†é—®é¢˜ï¼Œç¨‹åºçŒ¿ä¸å†ç”¨ç®¡ç†å¯¹è±¡çš„åˆ›å»ºäº†ã€‚ç³»ç»Ÿçš„è€¦åˆæ€§å¤§å¤§é™ä½ï¼Œå¯ä»¥æ›´åŠ ä¸“æ³¨åœ°å®ç°ä¸šåŠ¡ã€‚</p><p>è¿™å°±æ˜¯IOCçš„åŸå‹ã€‚</p><h4 id="IOCæœ¬è´¨"><a href="#IOCæœ¬è´¨" class="headerlink" title="IOCæœ¬è´¨"></a>IOCæœ¬è´¨</h4><pre><code>æ§åˆ¶åè½¬IOC,æ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼ŒDI(ä¾èµ–æ³¨å…¥)æ˜¯å®ç°IOCçš„ä¸€ç§æ–¹å¼ã€‚åœ¨æ²¡æœ‰IOCçš„ç¨‹åºä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨é¢å‘å¯¹è±¡å˜æˆï¼Œå¯¹è±¡çš„åˆ›å»ºä¸å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»å®Œå…¨ç¡¬ç¼–ç åœ¨ç¨‹åºä¸­ï¼Œå¯¹è±¡çš„åˆ›å»ºç”±ç¨‹åºè‡ªå·±æ§åˆ¶ã€‚æ§åˆ¶åè½¬åï¼Œå¯¹è±¡çš„åˆ›å»ºè½¬ç§»ç»™ç¬¬ä¸‰æ–¹ï¼Œä¸ªäººè®¤ä¸ºæ‰€è°“æ§åˆ¶åè½¬å°±æ˜¯ï¼šè·å¾—ä¾èµ–å¯¹è±¡çš„æ–¹å¼åè½¬äº†ã€‚</code></pre><h4 id="Springä¸­çš„æ§åˆ¶åè½¬"><a href="#Springä¸­çš„æ§åˆ¶åè½¬" class="headerlink" title="Springä¸­çš„æ§åˆ¶åè½¬"></a>Springä¸­çš„æ§åˆ¶åè½¬</h4><p><strong>æ§åˆ¶</strong>ï¼šè°æ¥æ§åˆ¶å¯¹è±¡çš„åˆ›å»ºï¼Œä¼ ç»Ÿåº”ç”¨ç¨‹åºçš„å¯¹è±¡æ˜¯ç”±ç¨‹åºæœ¬èº«æ§åˆ¶åˆ›å»ºçš„ï¼Œä½¿ç”¨Springåï¼Œå¯¹è±¡æ˜¯ç”±Spring æ¥åˆ›å»ºçš„ã€‚</p><p><strong>åè½¬</strong>ï¼šç¨‹åºæœ¬èº«ä¸åˆ›å»ºå¯¹è±¡ï¼Œè€Œå˜æˆè¢«åŠ¨åœ°æ¥æ”¶å¯¹è±¡</p><p><strong>ä¾èµ–æ³¨å…¥</strong>ï¼šå°±æ˜¯åˆ©ç”¨setæ–¹æ³•æ¥è¿›è¡Œæ³¨å…¥åœ°</p><p>IOCæ˜¯ä¸€ç§å˜æˆæ€æƒ³ï¼Œç”±ä¸»åŠ¨çš„ç¼–ç¨‹å˜æˆè¢«åŠ¨åœ°æ¥æ”¶å¯¹è±¡</p><p>å¯ä»¥é€šè¿‡newClassPathXmlApplicationContextå»æµè§ˆä¸€ä¸‹åº•å±‚æºç </p><h4 id="Hello-Springä¸­çš„æœ‰å…³é—®é¢˜ï¼š"><a href="#Hello-Springä¸­çš„æœ‰å…³é—®é¢˜ï¼š" class="headerlink" title="Hello Springä¸­çš„æœ‰å…³é—®é¢˜ï¼š"></a>Hello Springä¸­çš„æœ‰å…³é—®é¢˜ï¼š</h4><ul><li><p>helloå¯¹è±¡æ˜¯è°åˆ›å»ºçš„ï¼Ÿ</p><p>helloå¯¹è±¡æ˜¯ç”±Springåˆ›å»ºçš„</p></li><li><p>Helloå¯¹è±¡çš„å±æ€§å¦‚ä½•è®¾ç½®ï¼Ÿ</p><p>helloå¯¹è±¡çš„å±æ€§ç”±Springå®¹å™¨è®¾ç½®</p></li></ul><h3 id="4-IoCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼"><a href="#4-IoCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼" class="headerlink" title="4 IoCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼"></a>4 IoCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼</h3><pre><code>1.é»˜è®¤ï¼šä½¿ç”¨æ— å‚æ„é€ åˆ›å»ºå¯¹è±¡2.å‡è®¾æˆ‘ä»¬è¦ä½¿ç”¨æœ‰å‚æ„é€ åˆ›å»ºå¯¹è±¡:    1.ä¸‹æ ‡èµ‹å€¼</code></pre><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--ä¸‹æ ‡èµ‹å€¼--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.kuang.pojo.User&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ´¾å¤§æ˜Ÿ&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><pre><code>    2.å‚æ•°ç±»å‹åŒ¹é…(ä¸å»ºè®®ä½¿ç”¨)</code></pre><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--é€šè¿‡ç±»å‹åˆ›å»º--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.kuang.pojo.User&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;java.lang.String&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ´¾å¤§æ˜Ÿ&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><pre><code>    3.ç›´æ¥é€šè¿‡å‚æ•°åæ¥è®¾ç½®</code></pre><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--é€šè¿‡å‚æ•°åæ¥è®¾ç½®--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.kuang.pojo.User&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;çŠè¿ª&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ€»ç»“ï¼šåœ¨é…ç½®æ–‡ä»¶åŠ è½½çš„æ—¶å€™ï¼Œæ–‡ä»¶ä¸­ç®¡ç†çš„å¯¹è±¡å°±å·²ç»åˆå§‹åŒ–äº†ï¼</p><h2 id="Spring-é…ç½®"><a href="#Spring-é…ç½®" class="headerlink" title="Spring é…ç½®"></a>Spring é…ç½®</h2><h3 id="5-1-åˆ«åï¼ˆaliasï¼‰"><a href="#5-1-åˆ«åï¼ˆaliasï¼‰" class="headerlink" title="5.1 åˆ«åï¼ˆaliasï¼‰"></a>5.1 åˆ«åï¼ˆaliasï¼‰</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¦‚æœæ·»åŠ äº†åˆ«åï¼Œä¹Ÿå¯ä»¥é€šè¿‡åˆ«åè·å–å¯¹è±¡--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">alias</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">&quot;userNew&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><h3 id="5-2-Beançš„é…ç½®"><a href="#5-2-Beançš„é…ç½®" class="headerlink" title="5.2 Beançš„é…ç½®"></a>5.2 Beançš„é…ç½®</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">        id:beanæ˜¯å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œä¹Ÿæ˜¯ç›¸å½“äºæˆ‘ä»¬å­¦çš„å¯¹è±¡å</span><br><span class="hljs-comment">        class:beanå¯¹è±¡æ‰€å¯¹åº”çš„å…¨é™å®šåï¼šåŒ…å+ç±»å</span><br><span class="hljs-comment">        name:ä¹Ÿæ˜¯åˆ«å,ä¸”åŒæ—¶å¯ä»¥å–å¤šä¸ªåˆ«å</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userT&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.kuang.pojo.UserT&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user2,u3,u4&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="5-3-Import"><a href="#5-3-Import" class="headerlink" title="5.3 Import"></a>5.3 Import</h3><p>è¿™ä¸ªimportå°†å¤šä¸ªé…ç½®æ–‡ä»¶å¯¼å…¥åˆå¹¶ä¸ºä¸€ä¸ª</p><p>å‡è®¾é¡¹ç›®ä¸­æœ‰å¤šä¸ªäººå¼€å‘ï¼Œè¿™3ä¸ªäººè´Ÿè´£ä¸åŒçš„ç±»å¼€å‘ï¼Œä¸åŒçš„ç±»æ³¨å†Œåœ¨ä¸åŒçš„beanä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨importï¼Œå°†æ‰€æœ‰äººçš„beans.xmlåˆå¹¶ä¸ºä¸€ä¸ªæ€»çš„ï¼Œä½¿ç”¨çš„æ—¶å€™ï¼Œç›´æ¥ä½¿ç”¨æ€»çš„é…ç½®å°±è¡Œäº†ã€‚(åˆä½œå¼€å‘ä½¿ç”¨)</p><ul><li>å¼ ä¸‰</li><li>æå››</li><li>ç‹äº”</li><li>appliactionContext.xml</li></ul><h2 id="6-DIä¾èµ–æ³¨å…¥"><a href="#6-DIä¾èµ–æ³¨å…¥" class="headerlink" title="6 DIä¾èµ–æ³¨å…¥"></a>6 DIä¾èµ–æ³¨å…¥</h2><h3 id="6-1-æ„é€ å™¨æ³¨å…¥"><a href="#6-1-æ„é€ å™¨æ³¨å…¥" class="headerlink" title="6.1 æ„é€ å™¨æ³¨å…¥"></a>6.1 æ„é€ å™¨æ³¨å…¥</h3><p>å‰é¢å·²ç»è¯´è¿‡äº†</p><h3 id="6-2-SETæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘"><a href="#6-2-SETæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘" class="headerlink" title="6.2 SETæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘"></a>6.2 SETæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘</h3><ul><li><p>ä¾èµ–æ³¨å…¥ï¼šSetæ³¨å…¥ï¼</p><ul><li><p>ä¾èµ–ï¼šbeanå¯¹è±¡çš„åˆ›å»ºä¾èµ–äºå®¹å™¨</p></li><li><p>æ³¨å…¥ï¼šbeanå¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œç”±å®¹å™¨æ¥æ³¨å…¥</p></li></ul></li></ul><p>ã€ç¯å¢ƒæ­å»ºã€‘</p><p>1.å¤æ‚ç±»å‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Address</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> String address;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAddress</span><span class="hljs-params">(String address)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.address = address;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getAddress</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> address;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>2.çœŸå®æµ‹è¯•å¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span> </span>&#123;<br>    <span class="hljs-keyword">private</span>  String name;<br>    <span class="hljs-keyword">private</span> Address address;<br>    <span class="hljs-keyword">private</span> String [] books;<br>    <span class="hljs-keyword">private</span> List&lt;String&gt; hobbys;<br>    <span class="hljs-keyword">private</span> Map&lt;String,String&gt; card;<br>    <span class="hljs-keyword">private</span> Set&lt;String&gt; games;<br>    <span class="hljs-keyword">private</span> Properties info;<br>    <span class="hljs-keyword">private</span> String wife;<br>    <br>    ...getter/setter<br>&#125;<br></code></pre></td></tr></table></figure><p>3.beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;student&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.kuang.pojo.Student&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--ç¬¬ä¸€ç§ï¼Œæ™®é€šå€¼æ³¨å…¥ï¼Œä½¿ç”¨value--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ´¾å¤§æ˜Ÿ&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><p>4.æµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        ApplicationContext context=<span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">&quot;beans.xml&quot;</span>);<br>        Student student = (Student) context.getBean(<span class="hljs-string">&quot;student&quot;</span>);<br>        System.out.println(student.getName());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å®Œå–„æ³¨å…¥ä¿¡æ¯</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;address&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.kuang.pojo.Address&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;address&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ­¦æ±‰&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;student&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.kuang.pojo.Student&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--ç¬¬ä¸€ç§ï¼Œæ™®é€šå€¼æ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ´¾å¤§æ˜Ÿ&quot;</span>/&gt;</span><br><br>        <span class="hljs-comment">&lt;!--ç¬¬äºŒç§ beanæ³¨å…¥ï¼Œä½¿ç”¨refæ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;address&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;address&quot;</span>/&gt;</span><br><br>        <span class="hljs-comment">&lt;!--æ•°ç»„æ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;books&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>çº¢æ¥¼å<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>è¥¿æ¸¸è®°<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>æ°´æµ’ä¼ <span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>ä¸‰å›½æ¼”ç»<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!--Listæ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobbys&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>å¬æ­Œ<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>æ•²ä»£ç <span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>çœ‹ç”µå½±<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!--mapæ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">map</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;èº«ä»½è¯&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;é“¶è¡Œå¡&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;321&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!--set--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;games&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>LOL<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>COC<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>BOB<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!--ç©ºå€¼--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;wife&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">null</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!--Properties</span><br><span class="hljs-comment">            key=value</span><br><span class="hljs-comment">        --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;info&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">props</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;driver&quot;</span>&gt;</span>20190525<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;url&quot;</span>&gt;</span>ç”·æ€§<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span>å°æ˜<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span>123456<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">props</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="10-ä»£ç†æ¨¡å¼"><a href="#10-ä»£ç†æ¨¡å¼" class="headerlink" title="10 ä»£ç†æ¨¡å¼"></a>10 ä»£ç†æ¨¡å¼</h2><p>ä¸ºä»€ä¹ˆè¦å­¦ä»£ç†æ¨¡å¼ï¼Ÿå› ä¸ºè¿™å°±æ˜¯Spring AOPçš„åº•å±‚å®ç°</p><p>ä»£ç†æ¨¡å¼çš„åˆ†ç±»</p><ul><li>é™æ€ä»£ç†</li><li>åŠ¨æ€ä»£ç†</li></ul><h3 id="10-1-é™æ€ä»£ç†"><a href="#10-1-é™æ€ä»£ç†" class="headerlink" title="10.1 é™æ€ä»£ç†"></a>10.1 é™æ€ä»£ç†</h3><p>è§’è‰²åˆ†æ</p><ul><li>æŠ½è±¡è§’è‰²ï¼šä¸€èˆ¬ä¼šä½¿ç”¨æ¥å£æˆ–è€…æŠ½è±¡ç±»æ¥è§£å†³</li><li>çœŸå®è§’è‰²ï¼šè¢«ä»£ç†çš„è§’è‰²</li><li>ä»£ç†è§’è‰²ï¼šä»£ç†çœŸå®è§’è‰²åï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šåšä¸€äº›é™„å±æ“ä½œ</li><li>å®¢æˆ·ï¼šè®¿é—®ä»£ç†å¯¹è±¡çš„äººï¼</li></ul><p>ä»£ç æ­¥éª¤ï¼š</p><p>1.æ¥å£</p><p>2.çœŸå®è§’è‰²</p><p>3.ä»£ç†è§’è‰²</p><p>4.å®¢æˆ·ç«¯è®¿é—®ä»£ç†è§’è‰²</p><p>ä»£ç†æ¨¡å¼çš„å¥½å¤„ï¼š</p><ul><li>å¯ä»¥ä½¿çœŸå®è§’è‰²çš„æ“ä½œæ›´åŠ çº¯ç²¹ï¼Œä¸ç”¨å»å…³æ³¨ä¸€äº›å…¬å…±çš„ä¸šåŠ¡</li><li>å…¬å…±ä¹Ÿå°±äº¤ç»™ä»£ç†è§’è‰²ï¼Œå®ç°äº†ä¸šåŠ¡çš„åˆ†å·¥</li><li>å…¬å…±ä¸šåŠ¡å‘ç”Ÿæ‹“å±•çš„æ—¶å€™ï¼Œæ–¹ä¾¿é›†ä¸­ç®¡ç†</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>ä¸€ä¸ªçœŸå®è§’è‰²å°±éœ€è¦å†™ä¸€ä¸ªä»£ç†è§’è‰²ï¼Œä»£ç é‡ä¼šç¿»å€ï¼Œå¼€å‘æ•ˆç‡ä¼šå˜ä½</li></ul><h3 id="10-2-åŠ¨æ€ä»£ç†"><a href="#10-2-åŠ¨æ€ä»£ç†" class="headerlink" title="10.2 åŠ¨æ€ä»£ç†"></a>10.2 åŠ¨æ€ä»£ç†</h3><ul><li>åŠ¨æ€ä»£ç†å’Œé™æ€ä»£ç†è§’è‰²ä¸€æ ·</li><li>åŠ¨æ€ä»£ç†ç±»æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œä¸æ˜¯æˆ‘ä»¬ç›´æ¥å†™å¥½çš„</li><li>åŠ¨æ€ä»£ç†åˆ†ä¸ºä¸¤å¤§ç±»ï¼šåŸºäºæ¥å£çš„åŠ¨æ€ä»£ç†ã€åŸºäºç±»çš„åŠ¨æ€ä»£ç†<ul><li>åŸºäºæ¥å£ï¼šJDKçš„åŠ¨æ€ä»£ç†</li><li>åŸºäºç±»ï¼šcglib</li><li>javaå­—èŠ‚ç å®ç°ï¼šJAVAssist</li></ul></li></ul><p>éœ€è¦äº†è§£ä¸¤ä¸ªç±»ï¼šProxyï¼šä»£ç†,InvocationHandlerï¼šè°ƒç”¨å¤„ç†ç¨‹åº</p><h2 id="11-AOP"><a href="#11-AOP" class="headerlink" title="11.AOP"></a>11.AOP</h2><h3 id="ä½¿ç”¨springå®ç°AOP"><a href="#ä½¿ç”¨springå®ç°AOP" class="headerlink" title="ä½¿ç”¨springå®ç°AOP"></a>ä½¿ç”¨springå®ç°AOP</h3><p><strong>é¦–å…ˆéœ€è¦å¯¼å…¥ä¸€ä¸ªåŒ…</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.aspectj<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>aspectjweaver<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.9.6<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Spring</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mybatiså­¦ä¹ ç¬”è®°</title>
    <link href="/2021/07/19/Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2021/07/19/Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="Mybatis-å­¦ä¹ ç¬”è®°"><a href="#Mybatis-å­¦ä¹ ç¬”è®°" class="headerlink" title="Mybatis å­¦ä¹ ç¬”è®°"></a>Mybatis å­¦ä¹ ç¬”è®°</h1><h4 id="ä¸€ä¸ªåŸºç¡€Mybatisç¨‹åºçš„æ­å»ºè¿‡ç¨‹"><a href="#ä¸€ä¸ªåŸºç¡€Mybatisç¨‹åºçš„æ­å»ºè¿‡ç¨‹" class="headerlink" title="ä¸€ä¸ªåŸºç¡€Mybatisç¨‹åºçš„æ­å»ºè¿‡ç¨‹"></a>ä¸€ä¸ªåŸºç¡€Mybatisç¨‹åºçš„æ­å»ºè¿‡ç¨‹</h4><ul><li>1.æ­å»ºç¯å¢ƒ</li><li>2.å¯¼å…¥Mybatis</li><li>3.ç¼–å†™ä»£ç </li><li>4.æµ‹è¯•</li></ul><h2 id="ä¸€-DEMO1"><a href="#ä¸€-DEMO1" class="headerlink" title="ä¸€.DEMO1"></a>ä¸€.DEMO1</h2><h3 id="1-æ­å»ºç¯å¢ƒ"><a href="#1-æ­å»ºç¯å¢ƒ" class="headerlink" title="1.æ­å»ºç¯å¢ƒ"></a>1.æ­å»ºç¯å¢ƒ</h3><pre><code>1.æ­å»ºæ•°æ®åº“ç¯å¢ƒ2.æ–°å»ºMavené¡¹ç›®3.åˆ›å»ºå­å·¥ç¨‹4.å¯¼å…¥Mavenä¾èµ–    å¦‚æœä½¿ç”¨ Maven æ¥æ„å»ºé¡¹ç›®ï¼Œåˆ™éœ€å°†ä¸‹é¢çš„ä¾èµ–ä»£ç ç½®äº pom.xml æ–‡ä»¶ä¸­ï¼š</code></pre><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"> <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>x.x.x<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="2-å¯¼å…¥Mybatis"><a href="#2-å¯¼å…¥Mybatis" class="headerlink" title="2.å¯¼å…¥Mybatis"></a>2.å¯¼å…¥Mybatis</h3><pre><code>1.åœ¨src/main/resourcesç›®å½•ä¸‹åˆ›å»ºmybatis-config.xml   è¿™ä¸ªXMLä¸­åŒ…å«äº†å¯¹ MyBatis ç³»ç»Ÿçš„æ ¸å¿ƒè®¾ç½®ï¼ŒåŒ…æ‹¬è·å–æ•°æ®åº“è¿æ¥å®ä¾‹çš„æ•°æ®æºï¼ˆDataSourceï¼‰ä»¥åŠå†³å®šäº‹åŠ¡ä½œç”¨åŸŸå’Œæ§åˆ¶æ–¹å¼çš„äº‹åŠ¡ç®¡ç†å™¨ï¼ˆTransactionManager)</code></pre><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">configuration</span></span><br><span class="hljs-meta">  <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">  <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span>/&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;username&#125;&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;org/xxx/dao/XxxMapper.xml&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œéœ€è¦æ³¨æ„</p><ul><li><p>XMLæ–‡ä»¶å°½é‡ä¸è¦ä½¿ç”¨ä¸­æ–‡æ³¨é‡Šï¼Œå¦åˆ™åœ¨è¿è¡Œæ—¶å¯èƒ½æŠ¥é”™</p></li><li><p>driver,url,username,password å’Œä¼ ç»Ÿçš„JDBCè®¿é—®æ–¹å¼ä¸€è‡´</p></li><li><p>æ¯ä¸€ä¸ªmapper.xmléƒ½éœ€è¦åœ¨mybatis-config.xmlæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œ</p></li></ul><h3 id="3-ç¼–å†™mybatiså·¥å…·ç±»"><a href="#3-ç¼–å†™mybatiså·¥å…·ç±»" class="headerlink" title="3.ç¼–å†™mybatiså·¥å…·ç±»"></a>3.ç¼–å†™mybatiså·¥å…·ç±»</h3><pre><code>1.è·å–SqlSessionFactoryå¯¹è±¡ ä¸ºäº†ç¡®ä¿é¡¹ç›®åˆå§‹å°±èƒ½åŠ è½½mybatisï¼Œå¯ä»¥åœ¨åŒ…(org.xxx.util)ä¸‹å»ºç«‹MybatisUtilç±»,å¹¶å»ºç«‹é™æ€åŸŸ</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">static</span>&#123;<br>        String resource=<span class="hljs-string">&quot;mybatis-config.xml&quot;</span>;    <span class="hljs-comment">//åœ¨resourcesä¸‹çš„æ–‡ä»¶å¯ä»¥ç›´æ¥è¯»å–åˆ°</span><br>        InputStream inputStream=Resources.getResourceAsStream(resource); <span class="hljs-comment">//å°†XMLåŠ è½½æˆæµ</span><br>        SqlSessionFactory sqlsessionFactory =<span class="hljs-keyword">new</span> SqlSessionFactroyBuilder().bulid(inputStream);  <span class="hljs-comment">//SqlSessionFactoryéœ€è¦åœ¨åæœŸæå‡ä½œç”¨åŸŸ</span><br>    &#125;<br></code></pre></td></tr></table></figure><pre><code>2.ä»SqlSessionFactroyä¸­è·å–SqlSession  æœ‰äº†SqlSessionFactoryä¹‹åï¼Œå°±èƒ½è·å–SqlSessionå®ä¾‹äº†    SqlSessionå®Œå…¨åŒ…å«äº†é¢å‘æ•°æ®æ‰§è¡ŒSQLå‘½ä»¤çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡SqlSessionå®ä¾‹æ¥æ‰§è¡Œå·²æ˜ å°„çš„SQLè¯­å¥ã€‚    åœ¨MybatisUtilä¸‹</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SqlSession <span class="hljs-title">getSqlSession</span><span class="hljs-params">()</span></span>&#123;<br>        SqlSession sqlsession =sqlSessionFactroy.openSession();<br>        <span class="hljs-keyword">return</span> sqlsession;<br>    &#125;<br></code></pre></td></tr></table></figure><p>3.ç¼–å†™ä»£ç <br>    (1) åœ¨åŒ…org.xxx.pojoä¸‹åˆ›å»ºUserç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span></span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String pwd;<br><br>    <span class="hljs-comment">/*generate constructor,getter,setter*/</span><br>    xx<br>&#125;<br></code></pre></td></tr></table></figure><p>   (2)åœ¨org.xxx.mapperä¸‹åˆ›å»ºæ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserMapper</span></span>&#123;<br>    <span class="hljs-function">List&lt;User&gt; <span class="hljs-title">getUserList</span><span class="hljs-params">()</span></span>;<br><br>&#125;  <br></code></pre></td></tr></table></figure><p>   (3)  æ¥å£å®ç°ç±»ç”±åŸæ¥çš„UserDaoImplè½¬åŒ–ä¸ºä¸€ä¸ªMapperé…ç½®æ–‡ä»¶</p><pre><code>     åœ¨org.xxx.daoä¸‹åˆ›å»ºUserMapper.xml:</code></pre><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">mapper</span></span><br><span class="hljs-meta">            <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta">            <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.xxx.dao.userDao&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserList&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.xxx.pojo.User&quot;</span>&gt;</span><br>        select * from Blog where id = #&#123;id&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼Œåœ¨ç”±äºmavençš„çº¦å®šå¤§äºé…ç½®ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯èƒ½é‡åˆ°é…ç½®æ–‡ä»¶æ— æ³•å¯¼å‡ºæˆ–è€…ç”Ÿæ•ˆçš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆï¼š<br>      åœ¨bulidä¸­<strong>æ‰‹åŠ¨é…ç½®</strong>èµ„æºè¿‡æ»¤ï¼Œæ¥é˜²æ­¢èµ„æºå¯¼å‡ºå¤±è´¥(æ”¾ç½®äºpom.xmlä¸­)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="å…³äºå¢åˆ æŸ¥æ”¹"><a href="#å…³äºå¢åˆ æŸ¥æ”¹" class="headerlink" title="å…³äºå¢åˆ æŸ¥æ”¹"></a>å…³äºå¢åˆ æŸ¥æ”¹</h2><h4 id="1-namespace"><a href="#1-namespace" class="headerlink" title="1.namespace"></a>1.namespace</h4><p>  namespaceä¸­çš„åŒ…åè¦å’ŒDao/Mapperæ¥å£çš„åŒ…åä¸€è‡´</p><h4 id="2-SELECT"><a href="#2-SELECT" class="headerlink" title="2.SELECT"></a>2.SELECT</h4><p>é€‰æ‹©ï¼ŒæŸ¥è¯¢è¯­å¥ï¼š</p><ul><li>idï¼šå°±æ˜¯å¯¹åº”çš„ namespaceä¸­çš„æ–¹æ³•å</li><li>resultType:SQLæŸ¥è¯¢è¯­å¥çš„è¿”å›å€¼</li><li>parameterType:å‚æ•°ç±»å‹ï¼</li></ul><p>æ­¥éª¤ï¼š</p><pre><code>1.ç¼–å†™æ¥å£</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function">User <span class="hljs-title">getUserById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span></span>;<br></code></pre></td></tr></table></figure><pre><code>2.ç¼–å†™å¯¹åº”mapperä¸­çš„sqlè¯­å¥</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;select id=<span class="hljs-string">&quot;getUserList&quot;</span> resultType=<span class="hljs-string">&quot;com.kuang.pojo.User&quot;</span>&gt;<br>    select * from user<br>&lt;/select&gt;<br></code></pre></td></tr></table></figure><pre><code>3.æµ‹è¯•</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    SqlSession sqlSession = MybatisUtils.getSqlSession();<br><br>    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);<br><br>    List&lt;User&gt; userList = userMapper.getUserList();<br><br>    <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>        System.out.println(user);<br>    &#125;<br><br>    sqlSession.close();<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-INSERT"><a href="#3-INSERT" class="headerlink" title="3.INSERT"></a>3.INSERT</h3><h3 id="4-UPDATE"><a href="#4-UPDATE" class="headerlink" title="4.UPDATE"></a>4.UPDATE</h3><h3 id="5-DELETE"><a href="#5-DELETE" class="headerlink" title="5.DELETE"></a>5.DELETE</h3><p><strong>æ³¨æ„ï¼š</strong></p><p><strong>1.å¢åˆ æ”¹éœ€è¦commitäº‹åŠ¡</strong></p><p><strong>2.resourceç»‘å®šmapperéœ€è¦ä½¿ç”¨è·¯å¾„ï¼</strong></p><p><strong>3.è¾“å‡ºçš„ä¸­æ–‡xmlä¸­å­˜åœ¨ä¹±ç é—®é¢˜</strong></p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mybatis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PAT_ADVä¸­çš„å¸¸è§è‹±æ–‡</title>
    <link href="/2021/07/19/PAT-ADV%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E8%8B%B1%E6%96%87/"/>
    <url>/2021/07/19/PAT-ADV%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E8%8B%B1%E6%96%87/</url>
    
    <content type="html"><![CDATA[<p>occupyå ç”¨<br>Product of Polynomials å¤šé¡¹å¼ä¹˜ç§¯<br>nonzero terms in the polynomial å¤šé¡¹å¼ä¸­çš„éé›¶é¡¹<br>exponents æŒ‡æ•°<br>coefficients ç³»æ•°<br>respectively åˆ†åˆ«çš„<br>product of A and B ä¹˜ç§¯<br>be accurate up to 1 decimal place.  ç²¾ç¡®åˆ°1ä½å°æ•°<br>commas é€—å·<br>rank æ’å<br>evaluate è¯„ä¼°<br>is occupied by è¢«å é¢†<br>grids ç½‘æ ¼<br>postorder sequence ååºéå†<br>inorder sequence ä¸­åºéå†<br>the level order traversal sequence å±‚åºéå†<br>count for è®¡ç®—<br>symmetric  å¯¹ç§°<br>simulate æ¨¡æ‹Ÿ<br>swap äº¤æ¢<br>scattered å››æ•£çš„ï¼›æ•£è½çš„<br>vertices é¡¶ç‚¹<br>least æœ€å°çš„ï¼›æœ€å°‘çš„<br>even å¶æ•°çš„<br>undirected graph æ— å‘å›¾<br>clique å›¢<br>maximal clique æœ€å¤§è¿é€šåˆ†é‡<br>adjacent ç›¸é‚»<br>threshold èµ·ç‚¹<br>forward è½¬å‘<br>tie å¹¶åˆ—<br>factorization å› å¼åˆ†è§£<br>denoting è¡¨ç¤ºï¼Œè±¡å¾<br>toll é•¿é€”ç”µè¯è´¹<br>chronologically æŒ‰å¹´ä»£çš„ï¼ŒæŒ‰æ—¶é—´é¡ºåºçš„<br>provided å‡è®¾<br>net worth å‡€èµ„äº§<br>non-increasing order é™åº<br>non-decreasing order å‡åº<br>lower bound ä¸‹ç•Œ<br>qualified grades åˆæ ¼å“<br>the higher line of qualification æ›´é«˜çš„èµ„æ ¼çº¿<br>exceeded è¶…è¿‡çš„<br>quota å®šé‡<br>interval åŒºé—´<br>duplication å¤åˆ¶ï¼›å‰¯æœ¬<br>Palindromic å›æ–‡çš„<br>terminated ç»ˆæ­¢çš„ï¼›ç»ˆç»“<br>alphanumerical å­—æ¯æ•°å­—çš„<br>lexicographically è¯å…¸å­¦ä¸Šçš„<br>case insensitive ä¸åŒºåˆ†å¤§å°å†™çš„<br>testees å‚èµ›è€…<br>test site è€ƒåœº</p>]]></content>
    
    
    <categories>
      
      <category>PAT_ADV åˆ·é¢˜ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT_ADV</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åšå®¢æ­å»º</title>
    <link href="/2021/07/19/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    <url>/2021/07/19/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<h1 id="Hexoæ­å»ºåšå®¢çš„å†ç¨‹"><a href="#Hexoæ­å»ºåšå®¢çš„å†ç¨‹" class="headerlink" title="Hexoæ­å»ºåšå®¢çš„å†ç¨‹"></a>Hexoæ­å»ºåšå®¢çš„å†ç¨‹</h1><p>ä¸€ç›´ä»¥æ¥æˆ‘éƒ½åœ¨ä½¿ç”¨csdnåšå®¢å†™åˆ·é¢˜ç¬”è®°ï¼Œè™½è¯´åšå®¢é‡åœ¨å†…å®¹è€Œä¸æ˜¯å½¢å¼ï¼Œä½†æ˜¯csdnä¸»é¢˜è¿‡äºä¸€è¨€éš¾å°½ï¼Œè€Œä¸”é£è¯„è¾ƒå·®ï¼Œä½†æ˜¯å¹³æ—¶å¤ªæ‡’ï¼Œå°±ä¸€ç›´æ²¡ç®¡ã€‚</p><p>åˆšå¥½æ˜¨å¤©å¤œæ™šæ²¡æœ‰ç¡å¥½ï¼Œä»¥ä»Šå¤©çš„ç²¾åŠ›å­¦ç®—æ³•æ˜¯æ²¡æˆäº†ï¼Œäºæ˜¯è·Ÿç€ç½‘ä¸Šçš„æ•™ç¨‹æ­å»ºä¸ªäººåšå®¢ã€‚</p><p>é¦–å…ˆå°è¯•äº†Hugoï¼Œæ£é¼“åŠå¤©ä¹‹åï¼Œå‘ç°å¾ˆå¤šå¤æ‚çš„ä¸»é¢˜éœ€è¦æ¥è‡ªå¢ƒå¤–çš„æºæ–‡ä»¶ï¼Œå›½å†…ç½‘ç»œè®¿é—®çš„ä½“éªŒå®åœ¨æ˜¯ä¸€è¨€éš¾å°½ï¼Œè€Œä¸”æ„Ÿè§‰Hugoçš„ç”Ÿæ€æ¯”è¾ƒä¸€èˆ¬ã€‚</p><p>ç„¶ååˆå°è¯•äº†Hexoæ¡†æ¶ï¼Œè·Ÿç€Codesheepçš„è§†é¢‘åšï¼Œå±…ç„¶ä¸€æ¬¡å°±æˆåŠŸäº†ã€‚</p><p>ä¸‹é¢ç®€å•æ€»ç»“ä¸€ä¸‹Hexoéƒ¨ç½²åšå®¢çš„æµç¨‹ï¼š</p><h3 id="1-è½¯ä»¶ç¯å¢ƒ"><a href="#1-è½¯ä»¶ç¯å¢ƒ" class="headerlink" title="1. è½¯ä»¶ç¯å¢ƒ"></a>1. è½¯ä»¶ç¯å¢ƒ</h3><ol><li>Git ï¼ˆåŒ…å«äº†Git Bashç»ˆç«¯ï¼‰</li><li>Node.js ï¼ˆåŒ…å«äº†npmå·¥å…·ï¼Œnpmå·¥å…·éœ€è¦é…ç½®å›½å†…çš„æ·˜å®é•œåƒï¼‰</li></ol><h3 id="2-å®‰è£…æµç¨‹"><a href="#2-å®‰è£…æµç¨‹" class="headerlink" title="2. å®‰è£…æµç¨‹"></a>2. å®‰è£…æµç¨‹</h3><p>cmdå¯èƒ½å‡ºç°é—®é¢˜ï¼Œæˆ‘å…¨ç¨‹ä½¿ç”¨äº†Git Bashç»ˆç«¯</p><ol><li><p>å®‰è£…Hexo</p><p><code>cnmp install -g hexo -cli</code></p></li><li><p>åˆå§‹åŒ–hexo</p><p><code>hexo init myblog</code></p><p>è¿™é‡Œçš„<code>myblog</code>å¯ä»¥ä»»æ„å–åå­—</p><p>åœ¨åˆå§‹åŒ–å®Œæˆçš„ç›®å½•ä¸‹ï¼ŒåŒ…å«äº†ä»¥ä¸‹æ–‡ä»¶å¤¹</p><ul><li>node_modules</li><li>public å­˜æ”¾ç”Ÿæˆçš„æ–‡ä»¶</li><li>source ç”¨äºå­˜æ”¾æ–‡ç« </li><li>themes ä¸»é¢˜</li><li>_config.yml é…ç½®æ–‡ä»¶</li></ul></li><li><p>ç”Ÿæˆåšå®¢</p><p><code>hexo g</code></p></li><li><p>å¯åŠ¨é¢„è§ˆ</p><p><code>hexo server</code></p></li><li><p>å°†åšå®¢æ·»åŠ åˆ°Github/Giteeä»“åº“</p><p>Gitee pageå…¥å£æš‚æ—¶æ‰¾ä¸åˆ°ï¼Œæ®è¯´æ˜¯åœ¨æ•´æ”¹ï¼Œ9æœˆä»½èƒ½ä¸Šçº¿</p><p>æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li><p>æ›´æ”¹<code>_config.yml</code></p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">deploy:</span><br><span class="hljs-symbol">  type:</span> git<br><span class="hljs-symbol">  repo:</span> https:<span class="hljs-comment">//github.com/xx/xx.github.io.git</span><br><span class="hljs-symbol">  branch:</span> master<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæœ‰ä¸€ä¸ªå‘ï¼Œæ¯ä¸€ä¸ª<code>:</code>åé¢éƒ½éœ€è¦æœ‰ç©ºæ ¼ï¼Œä¸ç„¶åœ¨æäº¤æ—¶ä¼šæŠ¥é”™</p></li><li><p>æ‰§è¡Œå‘½ä»¤</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo clean</span><br><span class="hljs-attribute">hexo h</span><br><span class="hljs-attribute">hexo d</span><br></code></pre></td></tr></table></figure></li></ul></li></ol><p>æˆåŠŸä¹‹åï¼Œå°±èƒ½é€šè¿‡github/giteeçš„è¿æ¥è¿›å…¥äº†</p><h3 id="3-è¿›ä¸€æ­¥ä¼˜åŒ–"><a href="#3-è¿›ä¸€æ­¥ä¼˜åŒ–" class="headerlink" title="3. è¿›ä¸€æ­¥ä¼˜åŒ–"></a>3. è¿›ä¸€æ­¥ä¼˜åŒ–</h3><h4 id="3-1-æ›´æ¢ä¸»é¢˜"><a href="#3-1-æ›´æ¢ä¸»é¢˜" class="headerlink" title="3.1 æ›´æ¢ä¸»é¢˜"></a>3.1 æ›´æ¢ä¸»é¢˜</h4><p>hexoçš„å®˜æ–¹ä¸»é¢˜ç«™ï¼š<a href="https://hexo.io/themes/">Themes | Hexo</a></p><ol><li><p>å®šä½åˆ°åšå®¢ç›®å½•</p></li><li><p>å…‹éš†ä¸»é¢˜</p><p><code>git clone https://github.com/xx/x-x-x</code></p></li><li><p>ç¼–è¾‘ç«™ç‚¹æ ¹ç›®å½•ä¸‹çš„<code>_config.yml</code>æ–‡ä»¶ï¼Œå¹¶å°†ä¸»é¢˜è®¾ä¸ºinsulin(å³è§£å‹åçš„æ–‡ä»¶å¤¹å)</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>æŠ€æœ¯å†…å®¹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello</title>
    <link href="/2021/07/19/hello-world/"/>
    <url>/2021/07/19/hello-world/</url>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡æ‰˜ç®¡åœ¨Githubä¸Šçš„åšå®¢<br>ä»¥åçš„åšå®¢ä¼šå°½é‡åœ¨è¿™é‡Œæ›´æ–°ï¼Œ<br>CSDNä¸Šçš„å†…å®¹ä¹Ÿä¼šé™†ç»­è½¬ç§»åˆ°è¿™é‡Œã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
